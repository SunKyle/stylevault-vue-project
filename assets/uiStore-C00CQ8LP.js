import{d as s}from"./index-DdNkUi_D.js";const o=s("ui",{state:()=>({loading:!1,loadingMessage:"加载中...",error:null,notification:null,sidebarOpen:!1,theme:"light",activeModal:null,modalProps:null,breadcrumbs:[],pageTitle:"StyleVault"}),getters:{isLoading:e=>e.loading,currentTheme:e=>e.theme,hasError:e=>!!e.error,hasNotification:e=>!!e.notification,isSidebarOpen:e=>e.sidebarOpen,getActiveModal:e=>e.activeModal,getModalProps:e=>e.modalProps,getBreadcrumbs:e=>e.breadcrumbs,getPageTitle:e=>e.pageTitle},actions:{setLoading(e,t="加载中..."){this.loading=e,this.loadingMessage=t},setError(e){this.error=e},clearError(){this.error=null},showNotification(e,t="info",i=3e3){this.notification={message:e,type:t},i>0&&setTimeout(()=>{this.clearNotification()},i)},clearNotification(){this.notification=null},toggleSidebar(){this.sidebarOpen=!this.sidebarOpen},openSidebar(){this.sidebarOpen=!0},closeSidebar(){this.sidebarOpen=!1},toggleTheme(){this.theme=this.theme==="light"?"dark":"light",document.documentElement.setAttribute("data-theme",this.theme),localStorage.setItem("theme",this.theme)},setTheme(e){["light","dark"].includes(e)&&(this.theme=e,document.documentElement.setAttribute("data-theme",this.theme),localStorage.setItem("theme",this.theme))},initializeTheme(){const e=localStorage.getItem("theme");if(e&&["light","dark"].includes(e))this.setTheme(e);else{const t=window.matchMedia("(prefers-color-scheme: dark)").matches;this.setTheme(t?"dark":"light")}},openModal(e,t={}){this.activeModal=e,this.modalProps=t},closeModal(){this.activeModal=null,this.modalProps=null},setBreadcrumbs(e){this.breadcrumbs=e},addBreadcrumb(e){this.breadcrumbs.push(e)},clearBreadcrumbs(){this.breadcrumbs=[]},setPageTitle(e){this.pageTitle=e,document.title=`${e} - StyleVault`},initializeUi(){this.initializeTheme();const e=window.matchMedia("(prefers-color-scheme: dark)"),t=i=>{localStorage.getItem("theme")||this.setTheme(i.matches?"dark":"light")};e.addEventListener?e.addEventListener("change",t):e.addListener(t),this.showNotification("欢迎使用 StyleVault！","success",3e3)},showErrorToast(e){this.showNotification(e,"error",5e3)},showSuccessToast(e){this.showNotification(e,"success",3e3)},showWarningToast(e){this.showNotification(e,"warning",4e3)},showInfoToast(e){this.showNotification(e,"info",3e3)}}});export{o as useUiStore};
