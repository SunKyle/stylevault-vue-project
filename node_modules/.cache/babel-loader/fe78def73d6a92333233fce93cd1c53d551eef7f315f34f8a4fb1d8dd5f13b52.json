{"ast":null,"code":"function _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _iterableToArray(r) { if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nimport { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, withModifiers as _withModifiers, normalizeClass as _normalizeClass, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, renderList as _renderList, Fragment as _Fragment, vModelCheckbox as _vModelCheckbox, toDisplayString as _toDisplayString, createStaticVNode as _createStaticVNode } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"bg-white rounded-2xl shadow-medium p-6 md:p-8\"\n};\nvar _hoisted_2 = {\n  \"class\": \"mb-8\"\n};\nvar _hoisted_3 = {\n  key: 0,\n  \"class\": \"mb-4 relative rounded-xl overflow-hidden bg-neutral-100 border border-neutral-200\"\n};\nvar _hoisted_4 = [\"src\"];\nvar _hoisted_5 = {\n  \"class\": \"max-w-xs mx-auto\"\n};\nvar _hoisted_6 = {\n  \"class\": \"w-16 h-16 mx-auto bg-primary/10 rounded-full flex items-center justify-center mb-4\"\n};\nvar _hoisted_7 = {\n  \"class\": \"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8\"\n};\nvar _hoisted_8 = {\n  \"class\": \"grid grid-cols-2 gap-2\"\n};\nvar _hoisted_9 = [\"value\"];\nvar _hoisted_10 = {\n  \"class\": \"mb-8\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[19] || (_cache[19] = _createElementVNode(\"div\", {\n    \"class\": \"mb-8\"\n  }, [_createElementVNode(\"h3\", {\n    \"class\": \"text-xl font-bold mb-2\"\n  }, \"添加新衣物\"), _createElementVNode(\"p\", {\n    \"class\": \"text-neutral-500\"\n  }, \"上传衣物照片并填写详细信息，帮助系统更好地为你推荐搭配\")], -1 /* CACHED */)), _createCommentVNode(\" 图片上传区域 \"), _createElementVNode(\"div\", _hoisted_2, [_cache[9] || (_cache[9] = _createElementVNode(\"label\", {\n    \"class\": \"block text-sm font-medium text-neutral-700 mb-3\"\n  }, \"衣物照片\", -1 /* CACHED */)), _createCommentVNode(\" 图片预览 \"), $setup.clothingItem.imagePreview ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createElementVNode(\"img\", {\n    src: $setup.clothingItem.imagePreview,\n    alt: \"衣物预览\",\n    \"class\": \"w-full h-64 object-cover\"\n  }, null, 8 /* PROPS */, _hoisted_4), _createElementVNode(\"button\", {\n    onClick: $setup.removeImage,\n    \"class\": \"absolute top-2 right-2 w-8 h-8 rounded-full bg-white/80 backdrop-blur flex items-center justify-center text-neutral-500 hover:text-red-500 transition-colors\"\n  }, [_createVNode(_component_font_awesome_icon, {\n    icon: ['fas', 'times']\n  })])])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 上传区域 \"), _createElementVNode(\"div\", {\n    \"class\": _normalizeClass([\"border-2 border-dashed border-neutral-200 rounded-xl p-8 text-center hover:border-primary transition-colors cursor-pointer bg-neutral-50\", {\n      'border-primary bg-primary/5': $setup.isDragging\n    }]),\n    onClick: $setup.triggerFileInput,\n    onDragover: _withModifiers($setup.handleDragOver, [\"prevent\"]),\n    onDragleave: _withModifiers($setup.handleDragLeave, [\"prevent\"]),\n    onDrop: _withModifiers($setup.handleDrop, [\"prevent\"])\n  }, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createVNode(_component_font_awesome_icon, {\n    icon: ['fas', 'cloud-upload'],\n    \"class\": \"text-primary text-2xl\"\n  })]), _cache[7] || (_cache[7] = _createElementVNode(\"h4\", {\n    \"class\": \"font-medium mb-1\"\n  }, \"点击上传或拖放图片\", -1 /* CACHED */)), _cache[8] || (_cache[8] = _createElementVNode(\"p\", {\n    \"class\": \"text-sm text-neutral-500\"\n  }, \"支持 JPG、PNG 格式，建议尺寸 500×500\", -1 /* CACHED */))]), _createCommentVNode(\" 隐藏的文件输入 \"), _createElementVNode(\"input\", {\n    type: \"file\",\n    ref: \"fileInput\",\n    \"class\": \"hidden\",\n    accept: \"image/jpeg,image/jpg,image/png\",\n    onChange: $setup.handleFileChange\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */)], 34 /* CLASS, NEED_HYDRATION */)]), _createCommentVNode(\" 表单字段 \"), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", null, [_cache[10] || (_cache[10] = _createElementVNode(\"label\", {\n    \"class\": \"block text-sm font-medium text-neutral-700 mb-2\"\n  }, \"衣物名称\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n      return $setup.clothingItem.name = $event;\n    }),\n    placeholder: \"例如：黑色修身牛仔裤\",\n    \"class\": \"w-full px-4 py-3 rounded-xl border border-neutral-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none transition-all\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.clothingItem.name]])]), _createElementVNode(\"div\", null, [_cache[12] || (_cache[12] = _createElementVNode(\"label\", {\n    \"class\": \"block text-sm font-medium text-neutral-700 mb-2\"\n  }, \"衣物类别\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n      return $setup.clothingItem.categoryId = $event;\n    }),\n    \"class\": \"w-full px-4 py-3 rounded-xl border border-neutral-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none transition-all appearance-none bg-white\"\n  }, _toConsumableArray(_cache[11] || (_cache[11] = [_createStaticVNode(\"<option value=\\\"\\\">请选择类别</option><option value=\\\"1\\\">上装</option><option value=\\\"2\\\">下装</option><option value=\\\"3\\\">外套</option><option value=\\\"4\\\">鞋履</option><option value=\\\"5\\\">配饰</option><option value=\\\"6\\\">包包</option>\", 7)])), 512 /* NEED_PATCH */), [[_vModelSelect, $setup.clothingItem.categoryId]])]), _createElementVNode(\"div\", null, [_cache[14] || (_cache[14] = _createElementVNode(\"label\", {\n    \"class\": \"block text-sm font-medium text-neutral-700 mb-2\"\n  }, \"风格\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = function ($event) {\n      return $setup.clothingItem.style = $event;\n    }),\n    \"class\": \"w-full px-4 py-3 rounded-xl border border-neutral-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none transition-all appearance-none bg-white\"\n  }, _toConsumableArray(_cache[13] || (_cache[13] = [_createStaticVNode(\"<option value=\\\"\\\">请选择风格</option><option value=\\\"休闲\\\">休闲</option><option value=\\\"正式\\\">正式</option><option value=\\\"运动\\\">运动</option><option value=\\\"复古\\\">复古</option><option value=\\\"潮流\\\">潮流</option>\", 6)])), 512 /* NEED_PATCH */), [[_vModelSelect, $setup.clothingItem.style]])]), _createElementVNode(\"div\", null, [_cache[15] || (_cache[15] = _createElementVNode(\"label\", {\n    \"class\": \"block text-sm font-medium text-neutral-700 mb-2\"\n  }, \"适用季节\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_8, [(_openBlock(), _createElementBlock(_Fragment, null, _renderList($setup.seasonOptions, function (seasonOption) {\n    return _createElementVNode(\"label\", {\n      key: seasonOption.value,\n      \"class\": \"flex items-center space-x-2 p-2 border border-neutral-200 rounded-lg hover:border-primary transition-colors cursor-pointer\"\n    }, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"checkbox\",\n      value: seasonOption.value,\n      \"onUpdate:modelValue\": _cache[3] || (_cache[3] = function ($event) {\n        return $setup.clothingItem.seasons = $event;\n      }),\n      \"class\": \"rounded text-primary focus:ring-primary\"\n    }, null, 8 /* PROPS */, _hoisted_9), [[_vModelCheckbox, $setup.clothingItem.seasons]]), _createElementVNode(\"span\", null, _toDisplayString(seasonOption.label), 1 /* TEXT */)]);\n  }), 64 /* STABLE_FRAGMENT */))])]), _createElementVNode(\"div\", null, [_cache[16] || (_cache[16] = _createElementVNode(\"label\", {\n    \"class\": \"block text-sm font-medium text-neutral-700 mb-2\"\n  }, \"颜色\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = function ($event) {\n      return $setup.clothingItem.color = $event;\n    }),\n    placeholder: \"例如：深蓝色\",\n    \"class\": \"w-full px-4 py-3 rounded-xl border border-neutral-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none transition-all\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.clothingItem.color]])]), _createElementVNode(\"div\", null, [_cache[17] || (_cache[17] = _createElementVNode(\"label\", {\n    \"class\": \"block text-sm font-medium text-neutral-700 mb-2\"\n  }, \"品牌（可选）\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = function ($event) {\n      return $setup.clothingItem.brand = $event;\n    }),\n    placeholder: \"例如：优衣库\",\n    \"class\": \"w-full px-4 py-3 rounded-xl border border-neutral-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none transition-all\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.clothingItem.brand]])])]), _createElementVNode(\"div\", _hoisted_10, [_cache[18] || (_cache[18] = _createElementVNode(\"label\", {\n    \"class\": \"block text-sm font-medium text-neutral-700 mb-2\"\n  }, \"备注（可选）\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = function ($event) {\n      return $setup.clothingItem.notes = $event;\n    }),\n    rows: \"3\",\n    placeholder: \"添加关于这件衣物的更多信息...\",\n    \"class\": \"w-full px-4 py-3 rounded-xl border border-neutral-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none transition-all resize-none\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.clothingItem.notes]])]), _createElementVNode(\"div\", {\n    \"class\": \"flex justify-end space-x-4\"\n  }, [_createElementVNode(\"button\", {\n    onClick: $setup.handleCancel,\n    \"class\": \"px-6 py-3 border border-neutral-200 rounded-xl text-neutral-700 font-medium hover:bg-neutral-50 transition-colors\"\n  }, \" 取消 \"), _createElementVNode(\"button\", {\n    onClick: $setup.saveClothes,\n    \"class\": \"px-6 py-3 bg-primary text-white rounded-xl font-medium hover:bg-primary/90 transition-colors shadow-soft\"\n  }, \" 保存衣物 \")])]);\n}","map":{"version":3,"names":["_createElementBlock","_hoisted_1","_createElementVNode","_createCommentVNode","_hoisted_2","$setup","clothingItem","imagePreview","_hoisted_3","src","alt","onClick","removeImage","_createVNode","_component_font_awesome_icon","icon","_normalizeClass","isDragging","triggerFileInput","onDragover","_withModifiers","handleDragOver","onDragleave","handleDragLeave","onDrop","handleDrop","_hoisted_5","_hoisted_6","type","ref","accept","onChange","handleFileChange","_hoisted_7","name","$event","placeholder","categoryId","style","_hoisted_8","_Fragment","_renderList","seasonOptions","seasonOption","key","value","seasons","_toDisplayString","label","color","brand","_hoisted_10","notes","rows","handleCancel","saveClothes"],"sources":["/Users/sunxiaokai/Desktop/stylevault-vue-project/src/components/form/UploadForm.vue"],"sourcesContent":["<template>\n  <div class=\"bg-white rounded-2xl shadow-medium p-6 md:p-8\">\n    <div class=\"mb-8\">\n      <h3 class=\"text-xl font-bold mb-2\">添加新衣物</h3>\n      <p class=\"text-neutral-500\">上传衣物照片并填写详细信息，帮助系统更好地为你推荐搭配</p>\n    </div>\n    \n    <!-- 图片上传区域 -->\n    <div class=\"mb-8\">\n      <label class=\"block text-sm font-medium text-neutral-700 mb-3\">衣物照片</label>\n      <!-- 图片预览 -->\n      <div v-if=\"clothingItem.imagePreview\" class=\"mb-4 relative rounded-xl overflow-hidden bg-neutral-100 border border-neutral-200\">\n        <img :src=\"clothingItem.imagePreview\" alt=\"衣物预览\" class=\"w-full h-64 object-cover\">\n        <button @click=\"removeImage\" class=\"absolute top-2 right-2 w-8 h-8 rounded-full bg-white/80 backdrop-blur flex items-center justify-center text-neutral-500 hover:text-red-500 transition-colors\">\n          <font-awesome-icon :icon=\"['fas', 'times']\" />\n        </button>\n      </div>\n      <!-- 上传区域 -->\n      <div \n        class=\"border-2 border-dashed border-neutral-200 rounded-xl p-8 text-center hover:border-primary transition-colors cursor-pointer bg-neutral-50\"\n        @click=\"triggerFileInput\"\n        @dragover.prevent=\"handleDragOver\"\n        @dragleave.prevent=\"handleDragLeave\"\n        @drop.prevent=\"handleDrop\"\n        :class=\"{ 'border-primary bg-primary/5': isDragging }\"\n      >\n        <div class=\"max-w-xs mx-auto\">\n          <div class=\"w-16 h-16 mx-auto bg-primary/10 rounded-full flex items-center justify-center mb-4\">\n            <font-awesome-icon :icon=\"['fas', 'cloud-upload']\" class=\"text-primary text-2xl\" />\n          </div>\n          <h4 class=\"font-medium mb-1\">点击上传或拖放图片</h4>\n          <p class=\"text-sm text-neutral-500\">支持 JPG、PNG 格式，建议尺寸 500×500</p>\n        </div>\n        <!-- 隐藏的文件输入 -->\n        <input \n          type=\"file\" \n          ref=\"fileInput\" \n          class=\"hidden\" \n          accept=\"image/jpeg,image/jpg,image/png\" \n          @change=\"handleFileChange\"\n        >\n      </div>\n    </div>\n    \n    <!-- 表单字段 -->\n    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8\">\n      <div>\n        <label class=\"block text-sm font-medium text-neutral-700 mb-2\">衣物名称</label>\n        <input type=\"text\" v-model=\"clothingItem.name\" placeholder=\"例如：黑色修身牛仔裤\" class=\"w-full px-4 py-3 rounded-xl border border-neutral-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none transition-all\">\n      </div>\n      \n      <div>\n        <label class=\"block text-sm font-medium text-neutral-700 mb-2\">衣物类别</label>\n        <select v-model=\"clothingItem.categoryId\" class=\"w-full px-4 py-3 rounded-xl border border-neutral-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none transition-all appearance-none bg-white\">\n          <option value=\"\">请选择类别</option>\n          <option value=\"1\">上装</option>\n          <option value=\"2\">下装</option>\n          <option value=\"3\">外套</option>\n          <option value=\"4\">鞋履</option>\n          <option value=\"5\">配饰</option>\n          <option value=\"6\">包包</option>\n        </select>\n      </div>\n      \n      <div>\n        <label class=\"block text-sm font-medium text-neutral-700 mb-2\">风格</label>\n        <select v-model=\"clothingItem.style\" class=\"w-full px-4 py-3 rounded-xl border border-neutral-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none transition-all appearance-none bg-white\">\n          <option value=\"\">请选择风格</option>\n          <option value=\"休闲\">休闲</option>\n          <option value=\"正式\">正式</option>\n          <option value=\"运动\">运动</option>\n          <option value=\"复古\">复古</option>\n          <option value=\"潮流\">潮流</option>\n        </select>\n      </div>\n      \n      <div>\n        <label class=\"block text-sm font-medium text-neutral-700 mb-2\">适用季节</label>\n        <div class=\"grid grid-cols-2 gap-2\">\n          <label v-for=\"seasonOption in seasonOptions\" :key=\"seasonOption.value\" class=\"flex items-center space-x-2 p-2 border border-neutral-200 rounded-lg hover:border-primary transition-colors cursor-pointer\">\n            <input type=\"checkbox\" :value=\"seasonOption.value\" v-model=\"clothingItem.seasons\" class=\"rounded text-primary focus:ring-primary\">\n            <span>{{ seasonOption.label }}</span>\n          </label>\n        </div>\n      </div>\n      \n      <div>\n        <label class=\"block text-sm font-medium text-neutral-700 mb-2\">颜色</label>\n        <input type=\"text\" v-model=\"clothingItem.color\" placeholder=\"例如：深蓝色\" class=\"w-full px-4 py-3 rounded-xl border border-neutral-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none transition-all\">\n      </div>\n      \n      <div>\n        <label class=\"block text-sm font-medium text-neutral-700 mb-2\">品牌（可选）</label>\n        <input type=\"text\" v-model=\"clothingItem.brand\" placeholder=\"例如：优衣库\" class=\"w-full px-4 py-3 rounded-xl border border-neutral-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none transition-all\">\n      </div>\n    </div>\n    \n    <div class=\"mb-8\">\n      <label class=\"block text-sm font-medium text-neutral-700 mb-2\">备注（可选）</label>\n      <textarea v-model=\"clothingItem.notes\" rows=\"3\" placeholder=\"添加关于这件衣物的更多信息...\" class=\"w-full px-4 py-3 rounded-xl border border-neutral-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none transition-all resize-none\"></textarea>\n    </div>\n    \n    <div class=\"flex justify-end space-x-4\">\n      <button @click=\"handleCancel\" class=\"px-6 py-3 border border-neutral-200 rounded-xl text-neutral-700 font-medium hover:bg-neutral-50 transition-colors\">\n        取消\n      </button>\n      <button @click=\"saveClothes\" class=\"px-6 py-3 bg-primary text-white rounded-xl font-medium hover:bg-primary/90 transition-colors shadow-soft\">\n        保存衣物\n      </button>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { reactive, ref } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport { useWardrobeStore } from \"../../stores/wardrobeStore\";\nimport { showToast } from '../../utils/toast';\n\nconst router = useRouter();\nconst wardrobeStore = useWardrobeStore();\n\n// 季节选项\nconst seasonOptions = [\n  { value: \"春季\", label: \"春季\" },\n  { value: \"夏季\", label: \"夏季\" },\n  { value: \"秋季\", label: \"秋季\" },\n  { value: \"冬季\", label: \"冬季\" }\n];\n\n// 表单数据\nconst clothingItem = reactive({\n  name: \"\",\n  categoryId: \"\",\n  style: \"\",\n  seasons: [], // 使用数组而不是字符串\n  color: \"\",\n  brand: \"\",\n  notes: \"\",\n  image: \"https://picsum.photos/seed/clothing-item/300/400\", // 默认图片\n  imagePreview: null // 图片预览URL\n});\n\n// 文件输入引用\nconst fileInput = ref(null);\nconst isDragging = ref(false);\n\n// 触发文件选择\nconst triggerFileInput = () => {\n  fileInput.value.click();\n};\n\n// 处理文件选择\nconst handleFileChange = (event) => {\n  const file = event.target.files[0];\n  if (file) {\n    processImageFile(file);\n  }\n};\n\n// 处理拖拽悬停\nconst handleDragOver = () => {\n  isDragging.value = true;\n};\n\n// 处理拖拽离开\nconst handleDragLeave = () => {\n  isDragging.value = false;\n};\n\n// 处理文件拖放\nconst handleDrop = (event) => {\n  isDragging.value = false;\n  const file = event.dataTransfer.files[0];\n  if (file && file.type.startsWith('image/')) {\n    processImageFile(file);\n  } else {\n    showToast(\"请上传图片文件\", \"error\");\n  }\n};\n\n// 处理图片文件\nconst processImageFile = (file) => {\n  // 验证文件类型\n  if (!file.type.match('image.*')) {\n    showToast(\"请上传图片文件\", \"error\");\n    return;\n  }\n  \n  // 验证文件大小（限制为5MB）\n  if (file.size > 5 * 1024 * 1024) {\n    showToast(\"图片大小不能超过5MB\", \"error\");\n    return;\n  }\n  \n  // 创建预览\n  const reader = new FileReader();\n  reader.onload = (e) => {\n    clothingItem.imagePreview = e.target.result;\n    // 在实际应用中，这里应该上传图片到服务器并获取URL\n    // 现在我们使用预览URL作为图片URL\n    clothingItem.image = e.target.result;\n  };\n  reader.readAsDataURL(file);\n};\n\n// 移除图片\nconst removeImage = () => {\n  clothingItem.imagePreview = null;\n  clothingItem.image = \"https://picsum.photos/seed/clothing-item/300/400\"; // 重置为默认图片\n  if (fileInput.value) {\n    fileInput.value.value = '';\n  }\n};\n\n// 取消按钮处理函数\nconst handleCancel = () => {\n  console.log(\"取消按钮被点击\");\n  // 使用window.location进行页面跳转\n  window.location.href = \"/\";\n  console.log(\"使用window.location跳转已执行\");\n};\n\nconst saveClothes = async () => {\n  // 验证必填字段\n  if (!clothingItem.name || !clothingItem.categoryId) {\n    showToast(\"请填写衣物名称和类别\", \"error\");\n    return;\n  }\n  \n  // 验证季节选择\n  if (!clothingItem.seasons || clothingItem.seasons.length === 0) {\n    showToast(\"请选择至少一个适用季节\", \"error\");\n    return;\n  }\n\n  try {\n    // 根据categoryId设置category名称\n    const categoryMap = {\n      \"1\": \"上装\",\n      \"2\": \"下装\",\n      \"3\": \"外套\",\n      \"4\": \"鞋履\",\n      \"5\": \"配饰\",\n      \"6\": \"包包\"\n    };\n    \n    // 创建要提交的数据对象，包含所有必要字段\n    const itemToSubmit = {\n      ...clothingItem,\n      category: categoryMap[clothingItem.categoryId] || \"其他\",\n      purchaseDate: new Date().toISOString().split('T')[0], // 设置购买日期为今天\n      favorite: false // 默认不收藏\n    };\n    \n    // 调用 store 方法保存衣物\n    await wardrobeStore.addClothingItem(itemToSubmit);\n    showToast(\"衣物添加成功\", \"success\");\n\n    // 清空表单\n    clothingItem.name = \"\";\n    clothingItem.categoryId = \"\";\n    clothingItem.style = \"\";\n    clothingItem.seasons = []; // 重置为空数组\n    clothingItem.color = \"\";\n    clothingItem.brand = \"\";\n    clothingItem.notes = \"\";\n    removeImage(); // 重置图片\n\n    // 2秒后返回衣橱页面\n    setTimeout(() => {\n      router.push({ name: \"wardrobe\" });\n    }, 2000);\n  } catch (error) {\n    showToast(\"添加失败，请重试\", \"error\");\n    console.error(\"添加衣物失败:\", error);\n  }\n};\n</script>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}