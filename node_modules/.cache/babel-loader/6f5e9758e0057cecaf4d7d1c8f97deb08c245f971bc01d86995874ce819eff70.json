{"ast":null,"code":"import { useModel as _useModel, mergeModels as _mergeModels } from 'vue';\nimport { ref, watch } from 'vue';\nimport { showToast } from '../../utils/toast';\nimport { scenesMockData, seasonsMockData, stylesMockData } from '../../mock/data';\n\n// 定义模型\n\nexport default {\n  __name: 'OutfitPreviewPanel',\n  props: /*@__PURE__*/_mergeModels({\n    selectedClothes: {\n      type: Array,\n      \"default\": function _default() {\n        return [];\n      }\n    }\n  }, {\n    \"outfitName\": {\n      type: String,\n      \"default\": ''\n    },\n    \"outfitNameModifiers\": {},\n    \"outfitScene\": {\n      type: Array,\n      \"default\": function _default() {\n        return [];\n      }\n    },\n    \"outfitSceneModifiers\": {},\n    \"outfitSeason\": {\n      type: Array,\n      \"default\": function _default() {\n        return [];\n      }\n    },\n    \"outfitSeasonModifiers\": {},\n    \"outfitStyle\": {\n      type: Array,\n      \"default\": function _default() {\n        return [];\n      }\n    },\n    \"outfitStyleModifiers\": {}\n  }),\n  emits: /*@__PURE__*/_mergeModels(['remove-cloth', 'reset-clothes', 'save-outfit', 'add-cloth'], [\"update:outfitName\", \"update:outfitScene\", \"update:outfitSeason\", \"update:outfitStyle\"]),\n  setup: function setup(__props, _ref) {\n    var __expose = _ref.expose,\n      __emit = _ref.emit;\n    __expose();\n    var outfitName = _useModel(__props, 'outfitName');\n    var outfitScene = _useModel(__props, 'outfitScene');\n    var outfitSeason = _useModel(__props, 'outfitSeason');\n    var outfitStyle = _useModel(__props, 'outfitStyle');\n\n    // 使用场景选项\n    var sceneOptions = scenesMockData;\n\n    // 季节选项\n    var seasonOptions = seasonsMockData;\n\n    // 风格选项\n    var styleOptions = stylesMockData;\n\n    // 场景、季节和风格的多选处理函数\n    function toggleScene(value) {\n      var index = outfitScene.value.indexOf(value);\n      if (index > -1) {\n        outfitScene.value.splice(index, 1);\n      } else {\n        outfitScene.value.push(value);\n      }\n    }\n    function toggleSeason(value) {\n      var index = outfitSeason.value.indexOf(value);\n      if (index > -1) {\n        outfitSeason.value.splice(index, 1);\n      } else {\n        outfitSeason.value.push(value);\n      }\n    }\n    function toggleStyle(value) {\n      var index = outfitStyle.value.indexOf(value);\n      if (index > -1) {\n        outfitStyle.value.splice(index, 1);\n      } else {\n        outfitStyle.value.push(value);\n      }\n    }\n\n    // 图片预览状态\n    var previewImage = ref({\n      show: false,\n      url: '',\n      name: '',\n      type: ''\n    });\n\n    // 拖放状态\n    var isDragOver = ref(false);\n\n    // 打开图片预览\n    function openImagePreview(item) {\n      previewImage.value = {\n        show: true,\n        url: item.img,\n        name: item.name,\n        type: item.type\n      };\n    }\n\n    // 关闭图片预览\n    function closeImagePreview() {\n      previewImage.value.show = false;\n    }\n\n    // 处理拖拽悬停\n    function handleDragOver(event) {\n      // 阻止默认行为以允许放置\n      event.preventDefault();\n      isDragOver.value = true;\n      event.currentTarget.classList.add('drag-over');\n    }\n\n    // 处理拖拽离开\n    function handleDragLeave(event) {\n      // 只有当鼠标真正离开预览区域时才隐藏提示\n      // 检查相关目标是否是预览区域的子元素\n      if (!event.currentTarget.contains(event.relatedTarget)) {\n        isDragOver.value = false;\n        event.currentTarget.classList.remove('drag-over');\n      }\n    }\n\n    // 处理拖放\n    function handleDrop(event) {\n      // 阻止默认行为\n      event.preventDefault();\n      isDragOver.value = false;\n      event.currentTarget.classList.remove('drag-over');\n      try {\n        // 获取拖拽的数据\n        var itemData = JSON.parse(event.dataTransfer.getData('text/plain'));\n\n        // 触发添加衣物事件\n        emit('add-cloth', itemData);\n\n        // 添加成功反馈\n        showToast('已添加到搭配', 'success');\n      } catch (error) {\n        console.error('处理拖放数据失败:', error);\n        showToast('添加失败，请重试', 'error');\n      }\n    }\n\n    // 定义emit\n    var emit = __emit;\n\n    // 处理保存搭配\n    function handleSaveOutfit() {\n      var _outfitName$value;\n      if (!((_outfitName$value = outfitName.value) !== null && _outfitName$value !== void 0 && _outfitName$value.trim())) {\n        alert('请输入搭配名称');\n        return;\n      }\n      emit('save-outfit', {\n        name: outfitName.value,\n        scenes: outfitScene.value,\n        seasons: outfitSeason.value,\n        styles: outfitStyle.value\n      });\n    }\n\n    // 移除衣物\n    function removeItem(index) {\n      emit('remove-cloth', index);\n      showToast('已从搭配中移除', 'info');\n    }\n    var __returned__ = {\n      outfitName: outfitName,\n      outfitScene: outfitScene,\n      outfitSeason: outfitSeason,\n      outfitStyle: outfitStyle,\n      sceneOptions: sceneOptions,\n      seasonOptions: seasonOptions,\n      styleOptions: styleOptions,\n      toggleScene: toggleScene,\n      toggleSeason: toggleSeason,\n      toggleStyle: toggleStyle,\n      previewImage: previewImage,\n      isDragOver: isDragOver,\n      openImagePreview: openImagePreview,\n      closeImagePreview: closeImagePreview,\n      handleDragOver: handleDragOver,\n      handleDragLeave: handleDragLeave,\n      handleDrop: handleDrop,\n      emit: emit,\n      handleSaveOutfit: handleSaveOutfit,\n      removeItem: removeItem,\n      ref: ref,\n      watch: watch,\n      get showToast() {\n        return showToast;\n      },\n      get scenesMockData() {\n        return scenesMockData;\n      },\n      get seasonsMockData() {\n        return seasonsMockData;\n      },\n      get stylesMockData() {\n        return stylesMockData;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","watch","showToast","scenesMockData","seasonsMockData","stylesMockData","outfitName","_useModel","__props","outfitScene","outfitSeason","outfitStyle","sceneOptions","seasonOptions","styleOptions","toggleScene","value","index","indexOf","splice","push","toggleSeason","toggleStyle","previewImage","show","url","name","type","isDragOver","openImagePreview","item","img","closeImagePreview","handleDragOver","event","preventDefault","currentTarget","classList","add","handleDragLeave","contains","relatedTarget","remove","handleDrop","itemData","JSON","parse","dataTransfer","getData","emit","error","console","__emit","handleSaveOutfit","_outfitName$value","trim","alert","scenes","seasons","styles","removeItem"],"sources":["/Users/sunxiaokai/Desktop/stylevault-vue-project/src/components/inspiration/OutfitPreviewPanel.vue"],"sourcesContent":["<template>\n  <div\n    class=\"bg-gradient-to-br from-indigo-50 via-white to-purple-50 rounded-2xl shadow-lg overflow-hidden border border-indigo-100 h-full flex flex-col transform transition-all duration-300 hover:shadow-xl hover:shadow-indigo-100\"\n  >\n    <div\n      class=\"bg-gradient-to-r from-indigo-500/10 to-purple-500/10 p-5 border-b border-indigo-100 backdrop-blur-sm\"\n    >\n      <div class=\"flex justify-between items-center\">\n        <h3 class=\"font-bold text-lg flex items-center text-indigo-900\">\n          <div\n            class=\"w-8 h-8 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 flex items-center justify-center mr-2 shadow-sm animate-pulse-slow\"\n          >\n            <font-awesome-icon icon=\"lightbulb\" class=\"text-white text-sm\" />\n          </div>\n          搭配灵感\n        </h3>\n        <div class=\"flex items-center gap-2\">\n          <span\n            class=\"bg-white/80 backdrop-blur-sm text-indigo-600 px-3 py-1 rounded-full font-medium text-sm shadow-sm border border-indigo-100\"\n          >\n            {{ selectedClothes.length }}件衣物\n          </span>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"flex-1 p-5 flex flex-col\">\n      <!-- 搭配预览区 -->\n      <div\n        class=\"bg-gradient-to-br from-indigo-100/30 via-white/50 to-purple-100/30 rounded-2xl p-5 h-64 md:h-72 flex flex-col items-center justify-center mb-5 border border-indigo-100/50 relative overflow-hidden shadow-inner backdrop-blur-sm outfit-preview-area\"\n        @dragover.prevent=\"handleDragOver\"\n        @dragleave.prevent=\"handleDragLeave\"\n        @drop.prevent=\"handleDrop\"\n      >\n        <!-- 装饰元素 -->\n        <div\n          class=\"absolute -bottom-12 -right-12 w-48 h-48 bg-gradient-to-r from-indigo-200/20 to-purple-200/20 rounded-full blur-xl animate-pulse-slow\"\n        ></div>\n        <div\n          class=\"absolute -top-8 -left-8 w-32 h-32 bg-gradient-to-r from-purple-200/20 to-indigo-200/20 rounded-full blur-lg animate-pulse-slow animation-delay-1000\"\n        ></div>\n        <div\n          class=\"absolute top-1/4 left-1/4 w-4 h-4 rounded-full bg-indigo-300/30 animate-ping\"\n        ></div>\n        <div\n          class=\"absolute bottom-1/3 right-1/3 w-3 h-3 rounded-full bg-purple-300/30 animate-ping animation-delay-700\"\n        ></div>\n\n        <!-- 空状态 -->\n        <div v-if=\"selectedClothes.length === 0\" class=\"text-center relative z-10\">\n          <div\n            class=\"w-24 h-24 rounded-full bg-white/80 backdrop-blur-sm flex items-center justify-center mx-auto mb-4 shadow-md border border-white/50\"\n          >\n            <font-awesome-icon icon=\"tshirt\" class=\"text-primary text-3xl\" />\n          </div>\n          <p class=\"text-neutral-600 font-medium\">从右侧添加衣物进行搭配</p>\n        </div>\n\n        <!-- 有衣物时的预览 -->\n        <div\n          v-else\n          class=\"w-full h-full flex flex-wrap justify-center items-center gap-3 md:gap-4 relative z-10\"\n        >\n          <div\n            v-for=\"(item, idx) in selectedClothes.slice(0, 8)\"\n            :key=\"idx\"\n            class=\"relative group transform transition-all duration-500 hover:z-10 outfit-item\"\n            :class=\"idx >= 6 ? 'opacity-70 scale-95' : ''\"\n            :style=\"{\n              transform: `translateY(${((idx % 3) - 1) * 10}px) rotate(${\n                (idx % 2 === 0 ? -1 : 1) * (idx % 3)\n              }deg)`,\n              '--index': idx,\n            }\"\n            :data-index=\"idx\"\n            @click=\"openImagePreview(item)\"\n          >\n            <div\n              class=\"absolute -inset-1 bg-gradient-to-r from-primary/30 to-secondary/30 rounded-xl blur-sm opacity-0 group-hover:opacity-100 transition-opacity duration-300\"\n            ></div>\n            <img\n              :src=\"item.img\"\n              :alt=\"item.name\"\n              class=\"w-16 h-16 md:w-20 md:h-20 rounded-xl object-cover shadow-lg border-2 border-white relative z-10 transition-transform duration-300 group-hover:scale-110\"\n              loading=\"lazy\"\n            />\n            <div\n              v-if=\"idx === 7 && selectedClothes.length > 8\"\n              class=\"absolute inset-0 bg-black/80 rounded-xl flex items-center justify-center text-white text-xs font-bold z-20\"\n            >\n              +{{ selectedClothes.length - 8 }}\n            </div>\n            <div\n              class=\"absolute inset-x-0 -bottom-7 bg-black/80 backdrop-blur-sm text-white text-xs py-1 px-2 rounded-lg opacity-0 group-hover:opacity-100 transition-all duration-300 pointer-events-none text-center truncate z-20 whitespace-nowrap shadow-lg\"\n            >\n              {{ item.name }}\n            </div>\n            <!-- 删除按钮 -->\n            <button\n              class=\"absolute -top-2 -right-2 w-6 h-6 rounded-full bg-red-500 flex items-center justify-center text-white shadow-md opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-30 hover:bg-red-600 transform hover:scale-110\"\n              @click.stop=\"removeItem(idx)\"\n            >\n              <font-awesome-icon :icon=\"['fas', 'times']\" class=\"text-xs\" />\n            </button>\n          </div>\n        </div>\n\n        <!-- 拖放提示 -->\n        <div\n          v-if=\"isDragOver\"\n          class=\"absolute inset-0 bg-primary/10 backdrop-blur-sm rounded-2xl flex items-center justify-center z-20 animate-pulse\"\n        >\n          <div class=\"text-center p-6 bg-white/90 backdrop-blur rounded-xl shadow-lg\">\n            <font-awesome-icon :icon=\"['fas', 'tshirt']\" class=\"text-primary text-3xl mb-3\" />\n            <p class=\"text-primary font-medium\">拖放到此处添加到搭配</p>\n          </div>\n        </div>\n\n        <!-- 图片预览模态框 -->\n        <teleport to=\"body\">\n          <div\n            v-if=\"previewImage.show\"\n            class=\"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\"\n            @click=\"closeImagePreview\"\n          >\n            <div class=\"relative max-w-4xl max-h-[90vh] animate-fade-in\" @click.stop>\n              <img\n                :src=\"previewImage.url\"\n                :alt=\"previewImage.name\"\n                class=\"max-w-full max-h-full object-contain rounded-xl shadow-2xl\"\n              />\n              <div\n                class=\"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6 rounded-b-xl\"\n              >\n                <h3 class=\"text-white text-xl font-bold mb-1\">{{ previewImage.name }}</h3>\n                <p class=\"text-white/80\">{{ previewImage.type }}</p>\n              </div>\n              <button\n                class=\"absolute top-4 right-4 w-10 h-10 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center text-white hover:bg-white/30 transition-colors\"\n                @click=\"closeImagePreview\"\n              >\n                <font-awesome-icon :icon=\"['fas', 'times']\" />\n              </button>\n            </div>\n          </div>\n        </teleport>\n      </div>\n\n      <!-- 搭配信息表单 -->\n      <div\n        class=\"bg-gradient-to-br from-indigo-50/50 via-white to-purple-50/50 rounded-2xl p-5 mb-5 border border-indigo-100 shadow-sm backdrop-blur-sm\"\n      >\n        <h4 class=\"text-sm font-semibold text-indigo-800 mb-4 flex items-center\">\n          <div\n            class=\"w-6 h-6 rounded-full bg-gradient-to-r from-indigo-500/10 to-purple-500/10 flex items-center justify-center mr-2 shadow-sm\"\n          >\n            <font-awesome-icon :icon=\"['fas', 'tag']\" class=\"text-indigo-600 text-xs\" />\n          </div>\n          搭配信息\n        </h4>\n        <div class=\"space-y-4\">\n          <div>\n            <label class=\"block text-xs font-medium text-indigo-700 mb-1.5\">\n              搭配名称\n              <span class=\"text-red-500 font-bold ml-1\">*</span>\n            </label>\n            <div class=\"relative\">\n              <input\n                :value=\"outfitName\"\n                @input=\"$emit('update:outfitName', $event.target.value)\"\n                type=\"text\"\n                class=\"w-full px-4 py-3 border border-indigo-200 rounded-xl focus:ring-2 focus:ring-indigo-300/50 focus:border-indigo-400 text-sm bg-white/80 backdrop-blur-sm shadow-sm transition-all duration-300 hover:shadow-md\"\n                placeholder=\"为你的搭配起个名字\"\n              />\n              <div class=\"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none\">\n                <font-awesome-icon :icon=\"['fas', 'pen']\" class=\"text-indigo-400 text-xs\" />\n              </div>\n            </div>\n          </div>\n\n          <!-- 使用场景：从输入框改为多选按钮组，调整为一行显示3个 -->\n          <div>\n            <label class=\"block text-xs font-medium text-indigo-700 mb-1.5\">使用场景</label>\n            <div class=\"grid grid-cols-3 gap-2\">\n              <button\n                v-for=\"scene in sceneOptions\"\n                :key=\"scene.value\"\n                @click=\"toggleScene(scene.value)\"\n                class=\"py-2 px-3 rounded-lg text-sm font-medium transition-all duration-300 flex items-center justify-center\"\n                :class=\"\n                  outfitScene && Array.isArray(outfitScene) && outfitScene.includes(scene.value)\n                    ? 'bg-teal-500 text-white shadow-md'\n                    : 'bg-teal-50 text-teal-700 hover:bg-teal-100 border border-teal-100'\n                \"\n              >\n                <span>{{ scene.label }}</span>\n              </button>\n            </div>\n          </div>\n\n          <!-- 季节选择：从单选改为多选 -->\n          <div>\n            <label class=\"block text-xs font-medium text-indigo-700 mb-1.5\">适用季节</label>\n            <div class=\"grid grid-cols-2 gap-2\">\n              <button\n                v-for=\"season in seasonOptions\"\n                :key=\"season.value\"\n                @click=\"toggleSeason(season.value)\"\n                class=\"py-2 px-3 rounded-lg text-sm font-medium transition-all duration-300 flex items-center justify-center\"\n                :class=\"\n                  outfitSeason.includes(season.value)\n                    ? 'bg-indigo-500 text-white shadow-md'\n                    : 'bg-indigo-50 text-indigo-700 hover:bg-indigo-100 border border-indigo-100'\n                \"\n              >\n                <span>{{ season.label }}</span>\n              </button>\n            </div>\n          </div>\n\n          <!-- 风格选择：从单选改为多选 -->\n          <div>\n            <label class=\"block text-xs font-medium text-indigo-700 mb-1.5\">搭配风格</label>\n            <div class=\"grid grid-cols-3 gap-2\">\n              <button\n                v-for=\"style in styleOptions\"\n                :key=\"style.value\"\n                @click=\"toggleStyle(style.value)\"\n                class=\"py-2 px-3 rounded-lg text-sm font-medium transition-all duration-300 flex items-center justify-center\"\n                :class=\"\n                  outfitStyle.includes(style.value)\n                    ? 'bg-purple-500 text-white shadow-md'\n                    : 'bg-purple-50 text-purple-700 hover:bg-purple-100 border border-purple-100'\n                \"\n              >\n                <span>{{ style.label }}</span>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- 衣物列表 -->\n      <div class=\"flex-1 flex flex-col\">\n        <div class=\"mb-3 flex justify-between items-center\">\n          <span class=\"text-sm font-semibold text-indigo-800\">\n            衣物清单 ({{ selectedClothes.length }})\n          </span>\n          <button\n            v-if=\"selectedClothes.length > 0\"\n            class=\"text-xs text-indigo-600 hover:text-indigo-800 transition-colors flex items-center\"\n            @click=\"$emit('reset-clothes')\"\n          >\n            <font-awesome-icon :icon=\"['fas', 'trash-alt']\" class=\"mr-1\" />\n            清空全部\n          </button>\n        </div>\n\n        <div\n          class=\"h-40 overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-indigo-200 scrollbar-track-transparent space-y-2.5\"\n        >\n          <div\n            v-if=\"selectedClothes.length === 0\"\n            class=\"text-center text-indigo-400 py-6 border-2 border-dashed border-indigo-200 rounded-xl bg-indigo-50/50 backdrop-blur-sm\"\n          >\n            <font-awesome-icon :icon=\"['fas', 'info-circle']\" class=\"mr-2\" />\n            <p class=\"text-sm\">尚未选择衣物</p>\n          </div>\n          <div\n            v-else\n            v-for=\"(item, idx) in selectedClothes\"\n            :key=\"idx\"\n            class=\"flex items-center gap-3 bg-white/80 backdrop-blur-sm rounded-xl px-3 py-3 group hover:bg-indigo-50 transition-all duration-300 transform hover:translate-x-1 border border-indigo-100 hover:border-indigo-300 shadow-sm hover:shadow-md\"\n          >\n            <div class=\"relative\">\n              <div\n                class=\"absolute -inset-1 bg-gradient-to-r from-indigo-200/20 to-purple-200/20 rounded-lg blur-sm opacity-0 group-hover:opacity-100 transition-opacity duration-300\"\n              ></div>\n              <img\n                :src=\"item.img\"\n                :alt=\"item.name\"\n                class=\"w-12 h-12 rounded-lg object-cover shadow-sm relative z-10\"\n                loading=\"lazy\"\n              />\n              <div\n                class=\"absolute -top-1.5 -right-1.5 w-6 h-6 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 flex items-center justify-center shadow-sm z-20\"\n              >\n                <span class=\"text-white text-xs font-bold\">{{ idx + 1 }}</span>\n              </div>\n            </div>\n            <div class=\"flex-1 min-w-0\">\n              <p class=\"text-sm font-medium text-indigo-900 truncate\">{{ item.name }}</p>\n              <p class=\"text-xs text-indigo-600 truncate\">{{ item.type }}</p>\n            </div>\n            <button\n              class=\"w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-400 hover:bg-red-500 hover:text-white transition-all duration-300 opacity-0 group-hover:opacity-100\"\n              @click=\"$emit('remove-cloth', idx)\"\n            >\n              <font-awesome-icon :icon=\"['fas', 'times']\" class=\"text-xs\" />\n            </button>\n          </div>\n        </div>\n\n        <!-- 操作按钮 -->\n        <div class=\"mt-5 flex gap-3\">\n          <button\n            class=\"flex-1 bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white font-medium py-3.5 rounded-xl transition-all duration-300 transform hover:scale-[1.02] active:scale-[0.98] shadow-lg hover:shadow-xl flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none relative overflow-hidden group/button\"\n            @click=\"handleSaveOutfit\"\n            :disabled=\"selectedClothes.length === 0 || !outfitName.trim()\"\n          >\n            <!-- 按钮装饰效果 -->\n            <div\n              class=\"absolute inset-0 bg-white/10 opacity-0 group-hover/button:opacity-100 transition-opacity duration-300\"\n            ></div>\n            <div\n              class=\"absolute inset-0 bg-gradient-to-r from-indigo-500/0 via-white/20 to-indigo-500/0 transform -translate-x-full group-hover/button:translate-x-full transition-transform duration-700\"\n            ></div>\n\n            <font-awesome-icon\n              :icon=\"['fas', 'heart']\"\n              class=\"mr-2 transition-transform duration-300 group-hover/button:scale-110\"\n            />\n            <span\n              class=\"transition-transform duration-300 group-hover/button:scale-105 font-medium\"\n            >\n              保存搭配\n            </span>\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\n  import { ref, defineModel, watch } from 'vue';\n  import { showToast } from '../../utils/toast';\n  import { scenesMockData, seasonsMockData, stylesMockData } from '../../mock/data';\n\n  // 定义模型\n  const outfitName = defineModel('outfitName', { type: String, default: '' });\n  const outfitScene = defineModel('outfitScene', { type: Array, default: () => [] });\n  const outfitSeason = defineModel('outfitSeason', { type: Array, default: () => [] });\n  const outfitStyle = defineModel('outfitStyle', { type: Array, default: () => [] });\n\n  // 使用场景选项\n  const sceneOptions = scenesMockData;\n\n  // 季节选项\n  const seasonOptions = seasonsMockData;\n\n  // 风格选项\n  const styleOptions = stylesMockData;\n\n  // 场景、季节和风格的多选处理函数\n  function toggleScene(value) {\n    const index = outfitScene.value.indexOf(value);\n    if (index > -1) {\n      outfitScene.value.splice(index, 1);\n    } else {\n      outfitScene.value.push(value);\n    }\n  }\n\n  function toggleSeason(value) {\n    const index = outfitSeason.value.indexOf(value);\n    if (index > -1) {\n      outfitSeason.value.splice(index, 1);\n    } else {\n      outfitSeason.value.push(value);\n    }\n  }\n\n  function toggleStyle(value) {\n    const index = outfitStyle.value.indexOf(value);\n    if (index > -1) {\n      outfitStyle.value.splice(index, 1);\n    } else {\n      outfitStyle.value.push(value);\n    }\n  }\n\n  // 图片预览状态\n  const previewImage = ref({\n    show: false,\n    url: '',\n    name: '',\n    type: '',\n  });\n\n  // 拖放状态\n  const isDragOver = ref(false);\n\n  // 打开图片预览\n  function openImagePreview(item) {\n    previewImage.value = {\n      show: true,\n      url: item.img,\n      name: item.name,\n      type: item.type,\n    };\n  }\n\n  // 关闭图片预览\n  function closeImagePreview() {\n    previewImage.value.show = false;\n  }\n\n  // 处理拖拽悬停\n  function handleDragOver(event) {\n    // 阻止默认行为以允许放置\n    event.preventDefault();\n    isDragOver.value = true;\n    event.currentTarget.classList.add('drag-over');\n  }\n\n  // 处理拖拽离开\n  function handleDragLeave(event) {\n    // 只有当鼠标真正离开预览区域时才隐藏提示\n    // 检查相关目标是否是预览区域的子元素\n    if (!event.currentTarget.contains(event.relatedTarget)) {\n      isDragOver.value = false;\n      event.currentTarget.classList.remove('drag-over');\n    }\n  }\n\n  // 处理拖放\n  function handleDrop(event) {\n    // 阻止默认行为\n    event.preventDefault();\n\n    isDragOver.value = false;\n    event.currentTarget.classList.remove('drag-over');\n\n    try {\n      // 获取拖拽的数据\n      const itemData = JSON.parse(event.dataTransfer.getData('text/plain'));\n\n      // 触发添加衣物事件\n      emit('add-cloth', itemData);\n\n      // 添加成功反馈\n      showToast('已添加到搭配', 'success');\n    } catch (error) {\n      console.error('处理拖放数据失败:', error);\n      showToast('添加失败，请重试', 'error');\n    }\n  }\n\n  // 定义emit\n  const emit = defineEmits(['remove-cloth', 'reset-clothes', 'save-outfit', 'add-cloth']);\n\n  // 处理保存搭配\n  function handleSaveOutfit() {\n    if (!outfitName.value?.trim()) {\n      alert('请输入搭配名称');\n      return;\n    }\n\n    emit('save-outfit', {\n      name: outfitName.value,\n      scenes: outfitScene.value,\n      seasons: outfitSeason.value,\n      styles: outfitStyle.value,\n    });\n  }\n\n  // 移除衣物\n  function removeItem(index) {\n    emit('remove-cloth', index);\n    showToast('已从搭配中移除', 'info');\n  }\n\n  defineProps({\n    selectedClothes: {\n      type: Array,\n      default: () => [],\n    },\n  });\n</script>\n\n<style scoped>\n  /* 自定义滚动条样式 */\n  .scrollbar-thin::-webkit-scrollbar {\n    width: 4px;\n  }\n\n  .scrollbar-thin::-webkit-scrollbar-track {\n    background: transparent;\n  }\n\n  .scrollbar-thin::-webkit-scrollbar-thumb {\n    background: rgba(0, 0, 0, 0.1);\n    border-radius: 2px;\n  }\n\n  .scrollbar-thin::-webkit-scrollbar-thumb:hover {\n    background: rgba(0, 0, 0, 0.2);\n  }\n\n  /* 搭配预览动画 */\n  @keyframes outfit-float {\n    0%,\n    100% {\n      transform: translateY(0) rotate(0deg);\n    }\n    50% {\n      transform: translateY(-10px) rotate(2deg);\n    }\n  }\n\n  @keyframes pulse-slow {\n    0%,\n    100% {\n      opacity: 1;\n    }\n    50% {\n      opacity: 0.7;\n    }\n  }\n\n  .animate-pulse-slow {\n    animation: pulse-slow 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;\n  }\n\n  .animation-delay-1000 {\n    animation-delay: 1s;\n  }\n\n  .outfit-item {\n    animation: outfit-float 4s ease-in-out infinite;\n    animation-delay: calc(var(--index) * 0.2s);\n    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  }\n\n  .outfit-item:nth-child(odd) {\n    animation-direction: alternate;\n  }\n\n  .outfit-item:hover {\n    z-index: 30 !important;\n    transform: scale(1.1) !important;\n  }\n\n  /* 图片预览动画 */\n  @keyframes fade-in {\n    from {\n      opacity: 0;\n      transform: scale(0.9);\n    }\n    to {\n      opacity: 1;\n      transform: scale(1);\n    }\n  }\n\n  .animate-fade-in {\n    animation: fade-in 0.3s ease-out forwards;\n  }\n\n  /* 拖放区域样式 */\n  .outfit-preview-area {\n    position: relative;\n    transition: all 0.3s ease;\n  }\n\n  .outfit-preview-area.drag-over {\n    background-color: rgba(99, 102, 241, 0.1);\n    border: 2px dashed #6366f1;\n    border-radius: 1rem;\n    transform: scale(1.02);\n  }\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}