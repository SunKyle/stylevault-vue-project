{"ast":null,"code":"import { ref } from 'vue';\nexport default {\n  __name: 'OutfitCard',\n  props: {\n    outfit: Object\n  },\n  setup: function setup(__props, _ref) {\n    var __expose = _ref.expose;\n    __expose();\n    var props = __props;\n\n    // 状态管理\n    var expanded = ref(false);\n    var hoveredIndex = ref(-1);\n\n    // 切换展开状态\n    var toggleExpanded = function toggleExpanded() {\n      expanded.value = !expanded.value;\n      if (!expanded.value) {\n        hoveredIndex.value = -1;\n      }\n    };\n\n    // 重置堆叠状态\n    var resetStack = function resetStack() {\n      if (!expanded.value) {\n        hoveredIndex.value = -1;\n      }\n    };\n    var __returned__ = {\n      props: props,\n      expanded: expanded,\n      hoveredIndex: hoveredIndex,\n      toggleExpanded: toggleExpanded,\n      resetStack: resetStack,\n      ref: ref\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","props","__props","expanded","hoveredIndex","toggleExpanded","value","resetStack"],"sources":["/Users/sunxiaokai/Desktop/stylevault-vue-project/src/components/common/ui/OutfitCard.vue"],"sourcesContent":["<template>\n  <div class=\"bg-white rounded-2xl overflow-hidden shadow-soft hover:shadow-medium transition-all duration-300 group\">\n    <div class=\"relative\">\n      <img :src=\"outfit.img\" :alt=\"outfit.title\" class=\"w-full h-56 object-cover group-hover:scale-105 transition-transform duration-500\">\n      <div class=\"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end\">\n        <div class=\"p-5 w-full\">\n          <button class=\"w-full bg-white text-neutral-800 font-medium py-2.5 rounded-xl hover:bg-neutral-100 transition-colors\">\n            试穿这套搭配\n          </button>\n        </div>\n      </div>\n      <span class=\"absolute top-4 left-4 bg-white/90 backdrop-blur text-neutral-800 text-xs font-medium px-3 py-1 rounded-full\">\n        {{ outfit.tag }}\n      </span>\n    </div>\n    <div class=\"p-5\">\n      <h4 class=\"font-bold text-lg mb-2\">{{ outfit.title }}</h4>\n      <p class=\"text-neutral-500 text-sm mb-4\">{{ outfit.desc }}</p>\n      <div class=\"mb-4\">\n        <div class=\"relative h-40\" @mouseleave=\"resetStack\">\n          <!-- 衣物图片堆叠效果 -->\n          <template v-for=\"(item, idx) in outfit.items.slice(0, 4)\" :key=\"idx\">\n            <div \n              v-if=\"item.img\" \n              class=\"absolute inset-x-0 bg-white rounded-2xl shadow-lg overflow-hidden transition-all duration-500 ease-out cursor-pointer border-2 border-white\"\n              :class=\"{ 'hover:z-20 hover:shadow-xl hover:scale-110': !expanded }\"\n              :style=\"{\n                zIndex: expanded ? (hoveredIndex === idx ? 20 : outfit.items.slice(0, 4).length - idx) : outfit.items.slice(0, 4).length - idx,\n                transform: expanded ? \n                  (hoveredIndex === idx ? 'translateY(0) rotate(0) scale(1.05)' : `translateY(${idx * 8}px) rotate(${idx % 2 === 0 ? -4 - idx * 2 : 4 + idx * 2}deg)`) :\n                  `translateY(${idx * 6}px) rotate(${idx % 2 === 0 ? -3 - idx : 3 + idx}deg)`,\n                height: expanded ? '100%' : `${100 - idx * 15}%`,\n                top: expanded ? '0' : `${idx * 5}%`,\n                clipPath: idx < outfit.items.slice(0, 4).length - 1 && !expanded ? 'polygon(0 0, 100% 0, 100% 85%, 0 85%)' : 'none'\n              }\"\n              @mouseenter=\"hoveredIndex = idx\"\n              @click=\"toggleExpanded\"\n            >\n              <div class=\"absolute inset-0 bg-gradient-to-b from-transparent to-black/10 opacity-0 hover:opacity-100 transition-opacity duration-300\"></div>\n              <img \n                :src=\"item.img\" \n                :alt=\"item.alt\" \n                class=\"w-full h-full object-cover\"\n              >\n              <!-- 物品标签 -->\n              <div class=\"absolute bottom-2 left-2 bg-white/80 backdrop-blur-sm text-xs font-medium px-2 py-1 rounded-lg text-neutral-700 shadow-sm\">\n                {{ item.name || `物品 ${idx + 1}` }}\n              </div>\n            </div>\n          </template>\n          \n          <!-- 更多衣物指示器 -->\n          <div \n            v-if=\"outfit.items.length > 4\" \n            class=\"absolute bottom-3 right-3 bg-white/90 backdrop-blur-sm rounded-full w-10 h-10 flex items-center justify-center shadow-lg text-sm font-bold text-primary border-2 border-white z-30 transition-transform duration-300 hover:scale-110 cursor-pointer\"\n            @click=\"toggleExpanded\"\n          >\n            +{{ outfit.items.length - 4 }}\n          </div>\n          \n          <!-- 展开提示 -->\n          <div \n            v-if=\"!expanded\" \n            class=\"absolute bottom-0 left-0 right-0 text-center py-1 bg-black/20 text-white text-xs font-medium rounded-b-2xl backdrop-blur-sm transition-opacity duration-300\"\n          >\n            点击查看全部衣物\n          </div>\n        </div>\n      </div>\n      <div class=\"flex justify-between items-center\">\n        <div class=\"flex items-center\">\n          <font-awesome-icon :icon=\"outfit.liked ? ['fas', 'heart'] : ['far', 'heart']\" :class=\"outfit.liked ? 'text-secondary' : 'text-neutral-400'\" class=\"mr-1\" />\n          <span class=\"text-sm text-neutral-500\">{{ outfit.likes }}</span>\n        </div>\n        <button class=\"text-primary text-sm font-medium\">保存搭配</button>\n      </div>\n    </div>\n  </div>\n</template>\n<script setup>\nimport { ref } from 'vue';\n\nconst props = defineProps({\n  outfit: Object\n})\n\n// 状态管理\nconst expanded = ref(false);\nconst hoveredIndex = ref(-1);\n\n// 切换展开状态\nconst toggleExpanded = () => {\n  expanded.value = !expanded.value;\n  if (!expanded.value) {\n    hoveredIndex.value = -1;\n  }\n};\n\n// 重置堆叠状态\nconst resetStack = () => {\n  if (!expanded.value) {\n    hoveredIndex.value = -1;\n  }\n};\n</script>\n"],"mappings":"AAgFA,SAASA,GAAG,QAAQ,KAAK;;;;;;;;;IAEzB,IAAMC,KAAK,GAAGC,OAAA;;IAId;IACA,IAAMC,QAAQ,GAAGH,GAAG,CAAC,KAAK,CAAC;IAC3B,IAAMI,YAAY,GAAGJ,GAAG,CAAC,CAAC,CAAC,CAAC;;IAE5B;IACA,IAAMK,cAAc,GAAG,SAAjBA,cAAcA,CAAA,EAAS;MAC3BF,QAAQ,CAACG,KAAK,GAAG,CAACH,QAAQ,CAACG,KAAK;MAChC,IAAI,CAACH,QAAQ,CAACG,KAAK,EAAE;QACnBF,YAAY,CAACE,KAAK,GAAG,CAAC,CAAC;MACzB;IACF,CAAC;;IAED;IACA,IAAMC,UAAU,GAAG,SAAbA,UAAUA,CAAA,EAAS;MACvB,IAAI,CAACJ,QAAQ,CAACG,KAAK,EAAE;QACnBF,YAAY,CAACE,KAAK,GAAG,CAAC,CAAC;MACzB;IACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}