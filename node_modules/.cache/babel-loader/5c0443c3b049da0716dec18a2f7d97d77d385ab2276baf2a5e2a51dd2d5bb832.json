{"ast":null,"code":"import { renderSlot as _renderSlot, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nvar _hoisted_1 = {\n  key: 1,\n  \"class\": \"min-h-[400px] flex items-center justify-center\"\n};\nvar _hoisted_2 = {\n  \"class\": \"text-center p-8\"\n};\nvar _hoisted_3 = {\n  \"class\": \"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4\"\n};\nvar _hoisted_4 = {\n  \"class\": \"text-gray-600 mb-4\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\");\n  return _openBlock(), _createElementBlock(\"div\", null, [!$setup.hasError ? _renderSlot(_ctx.$slots, \"default\", {\n    key: 0\n  }) : (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_font_awesome_icon, {\n    icon: ['fas', 'exclamation-triangle'],\n    \"class\": \"text-red-500 text-xl\"\n  })]), _cache[0] || (_cache[0] = _createElementVNode(\"h3\", {\n    \"class\": \"text-lg font-semibold text-gray-900 mb-2\"\n  }, \"页面加载失败\", -1 /* CACHED */)), _createElementVNode(\"p\", _hoisted_4, _toDisplayString($setup.errorMessage), 1 /* TEXT */), _createElementVNode(\"div\", {\n    \"class\": \"flex gap-3 justify-center\"\n  }, [_createElementVNode(\"button\", {\n    onClick: $setup.resetError,\n    \"class\": \"bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors\"\n  }, \" 重试 \"), _createElementVNode(\"button\", {\n    onClick: $setup.goHome,\n    \"class\": \"border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors\"\n  }, \" 返回首页 \")])])]))]);\n}","map":{"version":3,"names":["_createElementBlock","$setup","hasError","_renderSlot","_ctx","$slots","key","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_createVNode","_component_font_awesome_icon","icon","_hoisted_4","_toDisplayString","errorMessage","onClick","resetError","goHome"],"sources":["/Users/sunxiaokai/Desktop/stylevault-vue-project/src/components/ui/ErrorBoundary.vue"],"sourcesContent":["<template>\n  <div>\n    <slot v-if=\"!hasError\" />\n    <div v-else class=\"min-h-[400px] flex items-center justify-center\">\n      <div class=\"text-center p-8\">\n        <div class=\"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n          <font-awesome-icon :icon=\"['fas', 'exclamation-triangle']\" class=\"text-red-500 text-xl\" />\n        </div>\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-2\">页面加载失败</h3>\n        <p class=\"text-gray-600 mb-4\">{{ errorMessage }}</p>\n        <div class=\"flex gap-3 justify-center\">\n          <button\n            @click=\"resetError\"\n            class=\"bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors\"\n          >\n            重试\n          </button>\n          <button\n            @click=\"goHome\"\n            class=\"border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors\"\n          >\n            返回首页\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onErrorCaptured } from 'vue';\nimport { useRouter } from 'vue-router';\n\nconst props = defineProps({\n  fallback: {\n    type: String,\n    default: '页面加载失败，请稍后重试'\n  }\n});\n\nconst emit = defineEmits(['error', 'reset']);\n\nconst router = useRouter();\nconst hasError = ref(false);\nconst errorMessage = ref('');\n\nonErrorCaptured((error, instance, info) => {\n  console.error('页面错误:', error, info);\n  hasError.value = true;\n  errorMessage.value = error.message || props.fallback;\n  emit('error', { error, instance, info });\n  \n  // 阻止错误继续向上传播\n  return false;\n});\n\nconst resetError = () => {\n  hasError.value = false;\n  errorMessage.value = '';\n  emit('reset');\n};\n\nconst goHome = () => {\n  router.push('/');\n};\n</script>"],"mappings":";;;EAGgB,SAAM;;;EACX,SAAM;AAAiB;;EACrB,SAAM;AAAiF;;EAIzF,SAAM;AAAoB;;;uBARnCA,mBAAA,CAyBM,c,CAxBSC,MAAA,CAAAC,QAAQ,GAArBC,WAAA,CAAyBC,IAAA,CAAAC,MAAA;IAAAC,GAAA;EAAA,M,cACzBN,mBAAA,CAsBM,OAtBNO,UAsBM,GArBJC,mBAAA,CAoBM,OApBNC,UAoBM,GAnBJD,mBAAA,CAEM,OAFNE,UAEM,GADJC,YAAA,CAA0FC,4BAAA;IAAtEC,IAAI,EAAE,+BAA+B;IAAE,SAAM;kCAEnEL,mBAAA,CAAgE;IAA5D,SAAM;EAA0C,GAAC,QAAM,qBAC3DA,mBAAA,CAAoD,KAApDM,UAAoD,EAAAC,gBAAA,CAAnBd,MAAA,CAAAe,YAAY,kBAC7CR,mBAAA,CAaM;IAbD,SAAM;EAA2B,IACpCA,mBAAA,CAKS;IAJNS,OAAK,EAAEhB,MAAA,CAAAiB,UAAU;IAClB,SAAM;KACP,MAED,GACAV,mBAAA,CAKS;IAJNS,OAAK,EAAEhB,MAAA,CAAAkB,MAAM;IACd,SAAM;KACP,QAED,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}