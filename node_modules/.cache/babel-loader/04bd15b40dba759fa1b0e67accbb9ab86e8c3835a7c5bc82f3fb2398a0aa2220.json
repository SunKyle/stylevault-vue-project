{"ast":null,"code":"import { onMounted } from 'vue';\nimport { useInspirationStore } from '@/stores/inspirationStore';\nimport SavedOutfits from '@/components/inspiration/SavedOutfits.vue';\nimport OutfitCreator from '@/components/inspiration/OutfitCreator.vue';\nimport ContentLayout from '@/components/layout/ContentLayout.vue';\nexport default {\n  __name: 'InspirationView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const inspirationStore = useInspirationStore();\n\n    // 直接从store解构，避免大数据传递\n    const {\n      clothes,\n      savedOutfits,\n      categories,\n      tags,\n      filteredClothes,\n      visibleOutfits,\n      selectedClothes,\n      isLoading,\n      pagination\n    } = inspirationStore;\n\n    // 方法直接委托给store\n    const {\n      setFilter,\n      resetFilters,\n      toggleCloth,\n      removeCloth,\n      resetClothes,\n      loadMoreOutfits,\n      saveOutfit,\n      loadOutfit,\n      deleteOutfit,\n      initialize\n    } = inspirationStore;\n    const scrollToCreateSection = () => {\n      const element = document.querySelector('.outfit-creator');\n      element?.scrollIntoView({\n        behavior: 'smooth'\n      });\n    };\n    const shareOutfit = async outfit => {\n      const shareData = {\n        title: `搭配方案: ${outfit.title}`,\n        text: `分享我的穿搭方案：${outfit.description || '无描述'}`,\n        url: window.location.href\n      };\n      try {\n        if (navigator.share) {\n          await navigator.share(shareData);\n        } else {\n          await navigator.clipboard.writeText(`${shareData.title}\\n${shareData.text}\\n${shareData.url}`);\n          alert('已复制到剪贴板！');\n        }\n      } catch (error) {\n        console.error('分享失败:', error);\n        alert('分享失败，请重试');\n      }\n    };\n\n    // 初始化数据\n    onMounted(() => {\n      initialize();\n    });\n    const __returned__ = {\n      inspirationStore,\n      clothes,\n      savedOutfits,\n      categories,\n      tags,\n      filteredClothes,\n      visibleOutfits,\n      selectedClothes,\n      isLoading,\n      pagination,\n      setFilter,\n      resetFilters,\n      toggleCloth,\n      removeCloth,\n      resetClothes,\n      loadMoreOutfits,\n      saveOutfit,\n      loadOutfit,\n      deleteOutfit,\n      initialize,\n      scrollToCreateSection,\n      shareOutfit,\n      onMounted,\n      get useInspirationStore() {\n        return useInspirationStore;\n      },\n      SavedOutfits,\n      OutfitCreator,\n      ContentLayout\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["onMounted","useInspirationStore","SavedOutfits","OutfitCreator","ContentLayout","inspirationStore","clothes","savedOutfits","categories","tags","filteredClothes","visibleOutfits","selectedClothes","isLoading","pagination","setFilter","resetFilters","toggleCloth","removeCloth","resetClothes","loadMoreOutfits","saveOutfit","loadOutfit","deleteOutfit","initialize","scrollToCreateSection","element","document","querySelector","scrollIntoView","behavior","shareOutfit","outfit","shareData","title","text","description","url","window","location","href","navigator","share","clipboard","writeText","alert","error","console"],"sources":["/Users/sunxiaokai/Desktop/stylevault-vue-project/src/views/InspirationView.vue"],"sourcesContent":["<template>\n  <ContentLayout>\n    <section class=\"py-10\">\n      <div class=\"container mx-auto px-4\">\n        <!-- 加载状态 -->\n        <div v-if=\"isLoading\" class=\"flex justify-center items-center py-20\">\n          <div class=\"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600\"></div>\n          <span class=\"ml-3 text-gray-600\">加载搭配灵感中...</span>\n        </div>\n\n        <!-- 主要内容 -->\n        <div v-else>\n          <!-- 已保存搭配展示区域 -->\n          <SavedOutfits\n            :loadMore=\"loadMoreOutfits\"\n            :onLoadOutfit=\"loadOutfit\"\n            :onDeleteOutfit=\"deleteOutfit\"\n            :onShareOutfit=\"shareOutfit\"\n            @scroll-to-create=\"scrollToCreateSection\"\n          />\n\n          <!-- 创建搭配区域 -->\n          <OutfitCreator v-show=\"clothes.length > 0\" />\n        </div>\n      </div>\n    </section>\n  </ContentLayout>\n</template>\n\n<script setup>\n  import { onMounted } from 'vue';\n  import { useInspirationStore } from '@/stores/inspirationStore';\n  import SavedOutfits from '@/components/inspiration/SavedOutfits.vue';\n  import OutfitCreator from '@/components/inspiration/OutfitCreator.vue';\n  import ContentLayout from '@/components/layout/ContentLayout.vue';\n\n  const inspirationStore = useInspirationStore();\n\n  // 直接从store解构，避免大数据传递\n  const {\n    clothes,\n    savedOutfits,\n    categories,\n    tags,\n    filteredClothes,\n    visibleOutfits,\n    selectedClothes,\n    isLoading,\n    pagination,\n  } = inspirationStore;\n\n  // 方法直接委托给store\n  const {\n    setFilter,\n    resetFilters,\n    toggleCloth,\n    removeCloth,\n    resetClothes,\n    loadMoreOutfits,\n    saveOutfit,\n    loadOutfit,\n    deleteOutfit,\n    initialize,\n  } = inspirationStore;\n\n  const scrollToCreateSection = () => {\n    const element = document.querySelector('.outfit-creator');\n    element?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  const shareOutfit = async outfit => {\n    const shareData = {\n      title: `搭配方案: ${outfit.title}`,\n      text: `分享我的穿搭方案：${outfit.description || '无描述'}`,\n      url: window.location.href,\n    };\n\n    try {\n      if (navigator.share) {\n        await navigator.share(shareData);\n      } else {\n        await navigator.clipboard.writeText(\n          `${shareData.title}\\n${shareData.text}\\n${shareData.url}`\n        );\n        alert('已复制到剪贴板！');\n      }\n    } catch (error) {\n      console.error('分享失败:', error);\n      alert('分享失败，请重试');\n    }\n  };\n\n  // 初始化数据\n  onMounted(() => {\n    initialize();\n  });\n</script>\n\n<style scoped>\n  /* 响应式样式优化 */\n  @media (max-width: 768px) {\n    section {\n      padding-top: 1rem;\n      padding-bottom: 1rem;\n    }\n\n    .container {\n      padding-left: 1rem;\n      padding-right: 1rem;\n    }\n  }\n\n  /* 加载动画优化 */\n  .animate-spin {\n    animation: spin 1s linear infinite;\n  }\n\n  @keyframes spin {\n    from {\n      transform: rotate(0deg);\n    }\n    to {\n      transform: rotate(360deg);\n    }\n  }\n</style>\n"],"mappings":"AA8BE,SAASA,SAAS,QAAQ,KAAK;AAC/B,SAASC,mBAAmB,QAAQ,2BAA2B;AAC/D,OAAOC,YAAY,MAAM,2CAA2C;AACpE,OAAOC,aAAa,MAAM,4CAA4C;AACtE,OAAOC,aAAa,MAAM,uCAAuC;;;;;;;IAEjE,MAAMC,gBAAgB,GAAGJ,mBAAmB,CAAC,CAAC;;IAE9C;IACA,MAAM;MACJK,OAAO;MACPC,YAAY;MACZC,UAAU;MACVC,IAAI;MACJC,eAAe;MACfC,cAAc;MACdC,eAAe;MACfC,SAAS;MACTC;IACF,CAAC,GAAGT,gBAAgB;;IAEpB;IACA,MAAM;MACJU,SAAS;MACTC,YAAY;MACZC,WAAW;MACXC,WAAW;MACXC,YAAY;MACZC,eAAe;MACfC,UAAU;MACVC,UAAU;MACVC,YAAY;MACZC;IACF,CAAC,GAAGnB,gBAAgB;IAEpB,MAAMoB,qBAAqB,GAAGA,CAAA,KAAM;MAClC,MAAMC,OAAO,GAAGC,QAAQ,CAACC,aAAa,CAAC,iBAAiB,CAAC;MACzDF,OAAO,EAAEG,cAAc,CAAC;QAAEC,QAAQ,EAAE;MAAS,CAAC,CAAC;IACjD,CAAC;IAED,MAAMC,WAAW,GAAG,MAAMC,MAAM,IAAI;MAClC,MAAMC,SAAS,GAAG;QAChBC,KAAK,EAAE,SAASF,MAAM,CAACE,KAAK,EAAE;QAC9BC,IAAI,EAAE,YAAYH,MAAM,CAACI,WAAW,IAAI,KAAK,EAAE;QAC/CC,GAAG,EAAEC,MAAM,CAACC,QAAQ,CAACC;MACvB,CAAC;MAED,IAAI;QACF,IAAIC,SAAS,CAACC,KAAK,EAAE;UACnB,MAAMD,SAAS,CAACC,KAAK,CAACT,SAAS,CAAC;QAClC,CAAC,MAAM;UACL,MAAMQ,SAAS,CAACE,SAAS,CAACC,SAAS,CACjC,GAAGX,SAAS,CAACC,KAAK,KAAKD,SAAS,CAACE,IAAI,KAAKF,SAAS,CAACI,GAAG,EACzD,CAAC;UACDQ,KAAK,CAAC,UAAU,CAAC;QACnB;MACF,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,OAAO,EAAEA,KAAK,CAAC;QAC7BD,KAAK,CAAC,UAAU,CAAC;MACnB;IACF,CAAC;;IAED;IACA7C,SAAS,CAAC,MAAM;MACdwB,UAAU,CAAC,CAAC;IACd,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}