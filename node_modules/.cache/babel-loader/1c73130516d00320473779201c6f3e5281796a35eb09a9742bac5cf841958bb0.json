{"ast":null,"code":"function _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _iterableToArray(r) { if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nimport { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, Fragment as _Fragment, withModifiers as _withModifiers, normalizeClass as _normalizeClass, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, renderList as _renderList, vModelCheckbox as _vModelCheckbox, toDisplayString as _toDisplayString, createStaticVNode as _createStaticVNode } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"bg-white rounded-2xl shadow-medium p-6 md:p-8 max-w-4xl mx-auto\"\n};\nvar _hoisted_2 = {\n  \"class\": \"mb-10\"\n};\nvar _hoisted_3 = {\n  key: 0,\n  \"class\": \"relative h-64 flex items-center justify-center bg-neutral-100\"\n};\nvar _hoisted_4 = [\"src\"];\nvar _hoisted_5 = {\n  \"class\": \"absolute inset-0 bg-black/40 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center\"\n};\nvar _hoisted_6 = {\n  \"class\": \"text-center p-4 bg-white/90 backdrop-blur rounded-lg shadow-lg\"\n};\nvar _hoisted_7 = {\n  \"class\": \"p-8 text-center\"\n};\nvar _hoisted_8 = {\n  \"class\": \"w-16 h-16 mx-auto bg-primary/10 rounded-full flex items-center justify-center mb-4\"\n};\nvar _hoisted_9 = {\n  \"class\": \"grid grid-cols-1 md:grid-cols-2 gap-6 mb-10\"\n};\nvar _hoisted_10 = {\n  \"class\": \"md:col-span-2\"\n};\nvar _hoisted_11 = {\n  \"class\": \"grid grid-cols-2 md:grid-cols-4 gap-3\"\n};\nvar _hoisted_12 = [\"value\"];\nvar _hoisted_13 = {\n  \"class\": \"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mb-2 group-hover:bg-primary/20 transition-colors\"\n};\nvar _hoisted_14 = {\n  \"class\": \"text-sm font-medium\"\n};\nvar _hoisted_15 = {\n  \"class\": \"mb-10 md:col-span-2\"\n};\nvar _hoisted_16 = {\n  \"class\": \"flex justify-end space-x-4 pt-4 border-t border-neutral-100\"\n};\nvar _hoisted_17 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[23] || (_cache[23] = _createElementVNode(\"div\", {\n    \"class\": \"mb-8 text-center\"\n  }, [_createElementVNode(\"h3\", {\n    \"class\": \"text-2xl font-bold mb-2 text-neutral-800\"\n  }, \"添加新衣物\"), _createElementVNode(\"p\", {\n    \"class\": \"text-neutral-500 max-w-md mx-auto\"\n  }, \" 上传衣物照片并填写详细信息，帮助系统更好地为你推荐搭配 \")], -1 /* CACHED */)), _createCommentVNode(\" 图片上传区域 \"), _createElementVNode(\"div\", _hoisted_2, [_cache[12] || (_cache[12] = _createElementVNode(\"div\", {\n    \"class\": \"flex items-center justify-between mb-3\"\n  }, [_createElementVNode(\"label\", {\n    \"class\": \"block text-sm font-medium text-neutral-700\"\n  }, [_createTextVNode(\" 衣物照片 \"), _createElementVNode(\"span\", {\n    \"class\": \"text-red-500\"\n  }, \"*\")]), _createElementVNode(\"span\", {\n    \"class\": \"text-xs text-neutral-500\"\n  }, \"支持 JPG、PNG 格式，最大 5MB\")], -1 /* CACHED */)), _createCommentVNode(\" 上传/预览区域 \"), _createElementVNode(\"div\", {\n    \"class\": _normalizeClass([\"border-2 rounded-xl overflow-hidden transition-colors cursor-pointer bg-neutral-50 relative\", {\n      'border-solid border-neutral-300': $setup.hasImage && !$setup.isDragging,\n      'border-dashed border-neutral-200 hover:border-primary': !$setup.hasImage && !$setup.isDragging,\n      'border-primary bg-primary/5': $setup.isDragging\n    }]),\n    onClick: $setup.triggerFileInput,\n    onDragover: _withModifiers($setup.handleDragOver, [\"prevent\"]),\n    onDragleave: _withModifiers($setup.handleDragLeave, [\"prevent\"]),\n    onDrop: _withModifiers($setup.handleDrop, [\"prevent\"])\n  }, [_createCommentVNode(\" 图片预览 \"), $setup.hasImage ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createElementVNode(\"img\", {\n    src: $setup.clothingItem.image,\n    alt: \"衣物预览\",\n    \"class\": \"max-h-full max-w-full object-contain\"\n  }, null, 8 /* PROPS */, _hoisted_4), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createVNode(_component_font_awesome_icon, {\n    icon: ['fas', 'cloud-upload-alt'],\n    \"class\": \"text-primary text-2xl mb-2\"\n  }), _cache[7] || (_cache[7] = _createElementVNode(\"p\", {\n    \"class\": \"font-medium text-neutral-700 mb-2\"\n  }, \"重新上传图片\", -1 /* CACHED */)), _cache[8] || (_cache[8] = _createElementVNode(\"p\", {\n    \"class\": \"text-sm text-neutral-500\"\n  }, \"点击或拖放新图片到此处\", -1 /* CACHED */))])])])) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" 上传区域 \"), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_createVNode(_component_font_awesome_icon, {\n    icon: ['fas', 'cloud-upload'],\n    \"class\": \"text-primary text-2xl\"\n  })]), _cache[9] || (_cache[9] = _createElementVNode(\"h4\", {\n    \"class\": \"font-medium mb-1 text-neutral-700\"\n  }, \"点击上传或拖放图片\", -1 /* CACHED */)), _cache[10] || (_cache[10] = _createElementVNode(\"p\", {\n    \"class\": \"text-sm text-neutral-500 mb-4\"\n  }, \"建议尺寸 500×500\", -1 /* CACHED */)), _cache[11] || (_cache[11] = _createElementVNode(\"button\", {\n    \"class\": \"px-4 py-2 bg-primary text-white rounded-lg text-sm font-medium hover:bg-primary/90 transition-colors\"\n  }, \" 选择文件 \", -1 /* CACHED */))])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)), _createCommentVNode(\" 隐藏的文件输入 \"), _createElementVNode(\"input\", {\n    type: \"file\",\n    ref: \"fileInput\",\n    \"class\": \"hidden\",\n    accept: \"image/jpeg,image/jpg,image/png\",\n    onChange: $setup.handleFileChange\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */)], 34 /* CLASS, NEED_HYDRATION */)]), _createCommentVNode(\" 表单字段 \"), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", null, [_cache[13] || (_cache[13] = _createElementVNode(\"label\", {\n    \"class\": \"block text-sm font-medium text-neutral-700 mb-2\"\n  }, [_createTextVNode(\" 衣物名称 \"), _createElementVNode(\"span\", {\n    \"class\": \"text-red-500\"\n  }, \"*\")], -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n      return $setup.clothingItem.name = $event;\n    }),\n    placeholder: \"例如：黑色修身牛仔裤\",\n    \"class\": \"w-full px-4 py-3 rounded-xl border border-neutral-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none transition-all\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.clothingItem.name]])]), _createElementVNode(\"div\", null, [_cache[15] || (_cache[15] = _createElementVNode(\"label\", {\n    \"class\": \"block text-sm font-medium text-neutral-700 mb-2\"\n  }, [_createTextVNode(\" 衣物类别 \"), _createElementVNode(\"span\", {\n    \"class\": \"text-red-500\"\n  }, \"*\")], -1 /* CACHED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n      return $setup.clothingItem.categoryId = $event;\n    }),\n    \"class\": \"w-full px-4 py-3 rounded-xl border border-neutral-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none transition-all appearance-none bg-white\"\n  }, _toConsumableArray(_cache[14] || (_cache[14] = [_createStaticVNode(\"<option value=\\\"\\\">请选择类别</option><option value=\\\"1\\\">上装</option><option value=\\\"2\\\">下装</option><option value=\\\"3\\\">外套</option><option value=\\\"4\\\">鞋履</option><option value=\\\"5\\\">配饰</option><option value=\\\"6\\\">包包</option>\", 7)])), 512 /* NEED_PATCH */), [[_vModelSelect, $setup.clothingItem.categoryId]])]), _createElementVNode(\"div\", null, [_cache[17] || (_cache[17] = _createElementVNode(\"label\", {\n    \"class\": \"block text-sm font-medium text-neutral-700 mb-2\"\n  }, \"风格\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = function ($event) {\n      return $setup.clothingItem.style = $event;\n    }),\n    \"class\": \"w-full px-4 py-3 rounded-xl border border-neutral-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none transition-all appearance-none bg-white\"\n  }, _toConsumableArray(_cache[16] || (_cache[16] = [_createStaticVNode(\"<option value=\\\"\\\">请选择风格</option><option value=\\\"休闲\\\">休闲</option><option value=\\\"正式\\\">正式</option><option value=\\\"运动\\\">运动</option><option value=\\\"复古\\\">复古</option><option value=\\\"潮流\\\">潮流</option>\", 6)])), 512 /* NEED_PATCH */), [[_vModelSelect, $setup.clothingItem.style]])]), _createElementVNode(\"div\", _hoisted_10, [_cache[18] || (_cache[18] = _createElementVNode(\"label\", {\n    \"class\": \"block text-sm font-medium text-neutral-700 mb-2\"\n  }, [_createTextVNode(\" 适用季节 \"), _createElementVNode(\"span\", {\n    \"class\": \"text-red-500\"\n  }, \"*\")], -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_11, [(_openBlock(), _createElementBlock(_Fragment, null, _renderList($setup.seasonOptions, function (seasonOption) {\n    return _createElementVNode(\"label\", {\n      key: seasonOption.value,\n      \"class\": _normalizeClass([\"flex flex-col items-center justify-center p-3 border border-neutral-200 rounded-lg hover:border-primary transition-colors cursor-pointer group\", {\n        'border-primary bg-primary/5': $setup.clothingItem.seasons.includes(seasonOption.value)\n      }])\n    }, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"checkbox\",\n      value: seasonOption.value,\n      \"onUpdate:modelValue\": _cache[3] || (_cache[3] = function ($event) {\n        return $setup.clothingItem.seasons = $event;\n      }),\n      \"class\": \"sr-only rounded text-primary focus:ring-primary\"\n    }, null, 8 /* PROPS */, _hoisted_12), [[_vModelCheckbox, $setup.clothingItem.seasons]]), _createElementVNode(\"div\", _hoisted_13, [_createVNode(_component_font_awesome_icon, {\n      icon: $setup.getSeasonIcon(seasonOption.value),\n      \"class\": \"text-primary\"\n    }, null, 8 /* PROPS */, [\"icon\"])]), _createElementVNode(\"span\", _hoisted_14, _toDisplayString(seasonOption.label), 1 /* TEXT */)], 2 /* CLASS */);\n  }), 64 /* STABLE_FRAGMENT */))])]), _createElementVNode(\"div\", null, [_cache[19] || (_cache[19] = _createElementVNode(\"label\", {\n    \"class\": \"block text-sm font-medium text-neutral-700 mb-2\"\n  }, \"颜色\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = function ($event) {\n      return $setup.clothingItem.color = $event;\n    }),\n    placeholder: \"例如：深蓝色\",\n    \"class\": \"w-full px-4 py-3 rounded-xl border border-neutral-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none transition-all\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.clothingItem.color]])]), _createElementVNode(\"div\", null, [_cache[20] || (_cache[20] = _createElementVNode(\"label\", {\n    \"class\": \"block text-sm font-medium text-neutral-700 mb-2\"\n  }, \"品牌（可选）\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = function ($event) {\n      return $setup.clothingItem.brand = $event;\n    }),\n    placeholder: \"例如：优衣库\",\n    \"class\": \"w-full px-4 py-3 rounded-xl border border-neutral-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none transition-all\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.clothingItem.brand]])])]), _createElementVNode(\"div\", _hoisted_15, [_cache[21] || (_cache[21] = _createElementVNode(\"label\", {\n    \"class\": \"block text-sm font-medium text-neutral-700 mb-2\"\n  }, \"备注（可选）\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = function ($event) {\n      return $setup.clothingItem.notes = $event;\n    }),\n    rows: \"3\",\n    placeholder: \"添加关于这件衣物的更多信息...\",\n    \"class\": \"w-full px-4 py-3 rounded-xl border border-neutral-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none transition-all resize-none\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.clothingItem.notes]])]), _createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"button\", {\n    onClick: $setup.handleCancel,\n    \"class\": \"px-6 py-3 border border-neutral-200 rounded-xl text-neutral-700 font-medium hover:bg-neutral-50 transition-colors min-w-[120px]\"\n  }, \" 取消 \"), _createElementVNode(\"button\", {\n    onClick: $setup.saveClothes,\n    disabled: $setup.isSaving,\n    \"class\": \"px-6 py-3 bg-primary text-white rounded-xl font-medium hover:bg-primary/90 transition-colors shadow-soft min-w-[120px] flex items-center justify-center disabled:opacity-70 disabled:cursor-not-allowed\"\n  }, [_createVNode(_component_font_awesome_icon, {\n    icon: ['fas', 'save'],\n    \"class\": \"mr-2\"\n  }), _cache[22] || (_cache[22] = _createTextVNode(\" 保存衣物 \", -1 /* CACHED */))], 8 /* PROPS */, _hoisted_17)])]);\n}","map":{"version":3,"names":["_createElementBlock","_hoisted_1","_createElementVNode","_createCommentVNode","_hoisted_2","_normalizeClass","$setup","hasImage","isDragging","onClick","triggerFileInput","onDragover","_withModifiers","handleDragOver","onDragleave","handleDragLeave","onDrop","handleDrop","_hoisted_3","src","clothingItem","image","alt","_hoisted_5","_hoisted_6","_createVNode","_component_font_awesome_icon","icon","_Fragment","key","_hoisted_7","_hoisted_8","type","ref","accept","onChange","handleFileChange","_hoisted_9","name","$event","placeholder","categoryId","style","_hoisted_10","_hoisted_11","_renderList","seasonOptions","seasonOption","value","seasons","includes","_hoisted_13","getSeasonIcon","_hoisted_14","_toDisplayString","label","color","brand","_hoisted_15","notes","rows","_hoisted_16","handleCancel","saveClothes","disabled","isSaving"],"sources":["/Users/sunxiaokai/Desktop/stylevault-vue-project/src/components/form/UploadForm.vue"],"sourcesContent":["<template>\n  <div class=\"bg-white rounded-2xl shadow-medium p-6 md:p-8 max-w-4xl mx-auto\">\n    <div class=\"mb-8 text-center\">\n      <h3 class=\"text-2xl font-bold mb-2 text-neutral-800\">添加新衣物</h3>\n      <p class=\"text-neutral-500 max-w-md mx-auto\">\n        上传衣物照片并填写详细信息，帮助系统更好地为你推荐搭配\n      </p>\n    </div>\n\n    <!-- 图片上传区域 -->\n    <div class=\"mb-10\">\n      <div class=\"flex items-center justify-between mb-3\">\n        <label class=\"block text-sm font-medium text-neutral-700\">\n          衣物照片\n          <span class=\"text-red-500\">*</span>\n        </label>\n        <span class=\"text-xs text-neutral-500\">支持 JPG、PNG 格式，最大 5MB</span>\n      </div>\n\n      <!-- 上传/预览区域 -->\n      <div\n        class=\"border-2 rounded-xl overflow-hidden transition-colors cursor-pointer bg-neutral-50 relative\"\n        :class=\"{\n          'border-solid border-neutral-300': hasImage && !isDragging,\n          'border-dashed border-neutral-200 hover:border-primary': !hasImage && !isDragging,\n          'border-primary bg-primary/5': isDragging,\n        }\"\n        @click=\"triggerFileInput\"\n        @dragover.prevent=\"handleDragOver\"\n        @dragleave.prevent=\"handleDragLeave\"\n        @drop.prevent=\"handleDrop\"\n      >\n        <!-- 图片预览 -->\n        <div v-if=\"hasImage\" class=\"relative h-64 flex items-center justify-center bg-neutral-100\">\n          <img\n            :src=\"clothingItem.image\"\n            alt=\"衣物预览\"\n            class=\"max-h-full max-w-full object-contain\"\n          />\n          <div\n            class=\"absolute inset-0 bg-black/40 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center\"\n          >\n            <div class=\"text-center p-4 bg-white/90 backdrop-blur rounded-lg shadow-lg\">\n              <font-awesome-icon\n                :icon=\"['fas', 'cloud-upload-alt']\"\n                class=\"text-primary text-2xl mb-2\"\n              />\n              <p class=\"font-medium text-neutral-700 mb-2\">重新上传图片</p>\n              <p class=\"text-sm text-neutral-500\">点击或拖放新图片到此处</p>\n            </div>\n          </div>\n        </div>\n\n        <!-- 上传区域 -->\n        <div v-else class=\"p-8 text-center\">\n          <div\n            class=\"w-16 h-16 mx-auto bg-primary/10 rounded-full flex items-center justify-center mb-4\"\n          >\n            <font-awesome-icon :icon=\"['fas', 'cloud-upload']\" class=\"text-primary text-2xl\" />\n          </div>\n          <h4 class=\"font-medium mb-1 text-neutral-700\">点击上传或拖放图片</h4>\n          <p class=\"text-sm text-neutral-500 mb-4\">建议尺寸 500×500</p>\n          <button\n            class=\"px-4 py-2 bg-primary text-white rounded-lg text-sm font-medium hover:bg-primary/90 transition-colors\"\n          >\n            选择文件\n          </button>\n        </div>\n\n        <!-- 隐藏的文件输入 -->\n        <input\n          type=\"file\"\n          ref=\"fileInput\"\n          class=\"hidden\"\n          accept=\"image/jpeg,image/jpg,image/png\"\n          @change=\"handleFileChange\"\n        />\n      </div>\n    </div>\n\n    <!-- 表单字段 -->\n    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-10\">\n      <div>\n        <label class=\"block text-sm font-medium text-neutral-700 mb-2\">\n          衣物名称\n          <span class=\"text-red-500\">*</span>\n        </label>\n        <input\n          type=\"text\"\n          v-model=\"clothingItem.name\"\n          placeholder=\"例如：黑色修身牛仔裤\"\n          class=\"w-full px-4 py-3 rounded-xl border border-neutral-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none transition-all\"\n        />\n      </div>\n\n      <div>\n        <label class=\"block text-sm font-medium text-neutral-700 mb-2\">\n          衣物类别\n          <span class=\"text-red-500\">*</span>\n        </label>\n        <select\n          v-model=\"clothingItem.categoryId\"\n          class=\"w-full px-4 py-3 rounded-xl border border-neutral-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none transition-all appearance-none bg-white\"\n        >\n          <option value=\"\">请选择类别</option>\n          <option value=\"1\">上装</option>\n          <option value=\"2\">下装</option>\n          <option value=\"3\">外套</option>\n          <option value=\"4\">鞋履</option>\n          <option value=\"5\">配饰</option>\n          <option value=\"6\">包包</option>\n        </select>\n      </div>\n\n      <div>\n        <label class=\"block text-sm font-medium text-neutral-700 mb-2\">风格</label>\n        <select\n          v-model=\"clothingItem.style\"\n          class=\"w-full px-4 py-3 rounded-xl border border-neutral-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none transition-all appearance-none bg-white\"\n        >\n          <option value=\"\">请选择风格</option>\n          <option value=\"休闲\">休闲</option>\n          <option value=\"正式\">正式</option>\n          <option value=\"运动\">运动</option>\n          <option value=\"复古\">复古</option>\n          <option value=\"潮流\">潮流</option>\n        </select>\n      </div>\n\n      <div class=\"md:col-span-2\">\n        <label class=\"block text-sm font-medium text-neutral-700 mb-2\">\n          适用季节\n          <span class=\"text-red-500\">*</span>\n        </label>\n        <div class=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n          <label\n            v-for=\"seasonOption in seasonOptions\"\n            :key=\"seasonOption.value\"\n            class=\"flex flex-col items-center justify-center p-3 border border-neutral-200 rounded-lg hover:border-primary transition-colors cursor-pointer group\"\n            :class=\"{\n              'border-primary bg-primary/5': clothingItem.seasons.includes(seasonOption.value),\n            }\"\n          >\n            <input\n              type=\"checkbox\"\n              :value=\"seasonOption.value\"\n              v-model=\"clothingItem.seasons\"\n              class=\"sr-only rounded text-primary focus:ring-primary\"\n            />\n            <div\n              class=\"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mb-2 group-hover:bg-primary/20 transition-colors\"\n            >\n              <font-awesome-icon :icon=\"getSeasonIcon(seasonOption.value)\" class=\"text-primary\" />\n            </div>\n            <span class=\"text-sm font-medium\">{{ seasonOption.label }}</span>\n          </label>\n        </div>\n      </div>\n\n      <div>\n        <label class=\"block text-sm font-medium text-neutral-700 mb-2\">颜色</label>\n        <input\n          type=\"text\"\n          v-model=\"clothingItem.color\"\n          placeholder=\"例如：深蓝色\"\n          class=\"w-full px-4 py-3 rounded-xl border border-neutral-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none transition-all\"\n        />\n      </div>\n\n      <div>\n        <label class=\"block text-sm font-medium text-neutral-700 mb-2\">品牌（可选）</label>\n        <input\n          type=\"text\"\n          v-model=\"clothingItem.brand\"\n          placeholder=\"例如：优衣库\"\n          class=\"w-full px-4 py-3 rounded-xl border border-neutral-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none transition-all\"\n        />\n      </div>\n    </div>\n\n    <div class=\"mb-10 md:col-span-2\">\n      <label class=\"block text-sm font-medium text-neutral-700 mb-2\">备注（可选）</label>\n      <textarea\n        v-model=\"clothingItem.notes\"\n        rows=\"3\"\n        placeholder=\"添加关于这件衣物的更多信息...\"\n        class=\"w-full px-4 py-3 rounded-xl border border-neutral-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none transition-all resize-none\"\n      ></textarea>\n    </div>\n\n    <div class=\"flex justify-end space-x-4 pt-4 border-t border-neutral-100\">\n      <button\n        @click=\"handleCancel\"\n        class=\"px-6 py-3 border border-neutral-200 rounded-xl text-neutral-700 font-medium hover:bg-neutral-50 transition-colors min-w-[120px]\"\n      >\n        取消\n      </button>\n      <button\n        @click=\"saveClothes\"\n        :disabled=\"isSaving\"\n        class=\"px-6 py-3 bg-primary text-white rounded-xl font-medium hover:bg-primary/90 transition-colors shadow-soft min-w-[120px] flex items-center justify-center disabled:opacity-70 disabled:cursor-not-allowed\"\n      >\n        <font-awesome-icon :icon=\"['fas', 'save']\" class=\"mr-2\" />\n        保存衣物\n      </button>\n    </div>\n  </div>\n</template>\n\n<script setup>\n  import { reactive, ref, computed, nextTick } from 'vue';\n  import { useRouter } from 'vue-router';\n  import { useWardrobeStore } from '../../stores/wardrobeStore';\n  import { showToast } from '../../utils/toast';\n\n  const router = useRouter();\n  const wardrobeStore = useWardrobeStore();\n\n  // 季节选项\n  const seasonOptions = [\n    { value: '春季', label: '春季' },\n    { value: '夏季', label: '夏季' },\n    { value: '秋季', label: '秋季' },\n    { value: '冬季', label: '冬季' },\n  ];\n\n  // 表单数据\n  const clothingItem = reactive({\n    name: '',\n    categoryId: '',\n    style: '',\n    seasons: [], // 使用数组而不是字符串\n    color: '',\n    brand: '',\n    notes: '',\n    image: '', // 图片URL\n  });\n\n  // 判断是否有图片\n  const hasImage = computed(() => {\n    return clothingItem.image && clothingItem.image.trim() !== '';\n  });\n\n  // 文件输入引用\n  const fileInput = ref(null);\n  const isDragging = ref(false);\n\n  // 保存状态\n  const isSaving = ref(false);\n\n  // 触发文件选择\n  const triggerFileInput = () => {\n    fileInput.value.click();\n  };\n\n  // 处理文件选择\n  const handleFileChange = event => {\n    const file = event.target.files[0];\n    if (file) {\n      processImageFile(file);\n    }\n  };\n\n  // 处理拖拽悬停\n  const handleDragOver = () => {\n    isDragging.value = true;\n  };\n\n  // 处理拖拽离开\n  const handleDragLeave = () => {\n    isDragging.value = false;\n  };\n\n  // 处理文件拖放\n  const handleDrop = event => {\n    isDragging.value = false;\n    const file = event.dataTransfer.files[0];\n    if (file && file.type.startsWith('image/')) {\n      processImageFile(file);\n    } else {\n      showToast('请上传图片文件', 'error');\n    }\n  };\n\n  // 处理图片文件\n  const processImageFile = file => {\n    // 验证文件类型\n    if (!file.type.match('image.*')) {\n      showToast('请上传图片文件', 'error');\n      return;\n    }\n\n    // 验证文件大小（限制为5MB）\n    if (file.size > 5 * 1024 * 1024) {\n      showToast('图片大小不能超过5MB', 'error');\n      return;\n    }\n\n    // 创建图片URL\n    const reader = new FileReader();\n    reader.onload = e => {\n      // 在实际应用中，这里应该上传图片到服务器并获取URL\n      // 现在我们使用读取的URL作为图片URL\n      clothingItem.image = e.target.result;\n      showToast('图片上传成功', 'success');\n    };\n    reader.readAsDataURL(file);\n  };\n\n  // 获取季节图标\n  const getSeasonIcon = season => {\n    switch (season) {\n      case '春季':\n        return ['fas', 'seedling'];\n      case '夏季':\n        return ['fas', 'sun'];\n      case '秋季':\n        return ['fas', 'leaf'];\n      case '冬季':\n        return ['fas', 'snowflake'];\n      default:\n        return ['fas', 'calendar'];\n    }\n  };\n\n  // 取消按钮处理函数\n  const handleCancel = () => {\n    console.log('取消按钮被点击');\n    // 使用window.location进行页面跳转\n    window.location.href = '/';\n    console.log('使用window.location跳转已执行');\n  };\n\n  const saveClothes = async () => {\n    // 防止重复提交\n    if (isSaving.value) {\n      return;\n    }\n\n    isSaving.value = true;\n    // 验证必填字段\n    if (!clothingItem.name || !clothingItem.categoryId) {\n      showToast('请填写衣物名称和类别', 'error');\n      isSaving.value = false;\n      return;\n    }\n\n    // 验证季节选择\n    if (!clothingItem.seasons || clothingItem.seasons.length === 0) {\n      showToast('请选择至少一个适用季节', 'error');\n      isSaving.value = false;\n      return;\n    }\n\n    try {\n      // 根据categoryId设置category名称\n      const categoryMap = {\n        1: '上装',\n        2: '下装',\n        3: '外套',\n        4: '鞋履',\n        5: '配饰',\n        6: '包包',\n      };\n\n      // 创建要提交的数据对象，包含所有必要字段\n      const today = new Date().toISOString().split('T')[0];\n      const itemToSubmit = {\n        ...clothingItem,\n        category: categoryMap[clothingItem.categoryId] || '其他',\n        purchaseDate: today, // 设置购买日期为今天\n        createdAt: today, // 同时设置createdAt属性，确保能正确显示在最近添加列表中\n        favorite: false, // 默认不收藏\n      };\n\n      // 调用 store 方法保存衣物\n      await wardrobeStore.addClothingItem(itemToSubmit);\n      showToast('衣物添加成功', 'success');\n\n      // 刷新衣橱数据，确保新添加的衣物能立即显示\n      await wardrobeStore.fetchClothingItems();\n\n      // 使用nextTick确保DOM更新后再清空表单\n      await nextTick();\n\n      // 清空表单\n      clothingItem.name = '';\n      clothingItem.categoryId = '';\n      clothingItem.style = '';\n      clothingItem.seasons = []; // 重置为空数组\n      clothingItem.color = '';\n      clothingItem.brand = '';\n      clothingItem.notes = '';\n      // 重置图片\n      clothingItem.image = '';\n    } catch (error) {\n      showToast('添加失败，请重试', 'error');\n      console.error('添加衣物失败:', error);\n    } finally {\n      // 重置保存状态\n      isSaving.value = false;\n    }\n  };\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}