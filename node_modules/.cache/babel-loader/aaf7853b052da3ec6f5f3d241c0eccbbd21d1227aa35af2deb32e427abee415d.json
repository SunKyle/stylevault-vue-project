{"ast":null,"code":"import { computed, ref } from 'vue';\nimport { useWardrobeStore } from '@/stores/wardrobeStore';\nimport ClothingItem from '../../common/ui/ClothingItem.vue';\nexport default {\n  __name: 'FavoriteSection',\n  setup: function setup(__props, _ref) {\n    var __expose = _ref.expose;\n    __expose();\n    var wardrobeStore = useWardrobeStore();\n\n    // 状态\n    var favoriteIndex = ref(0);\n    var itemsPerPage = ref(12); // 每页显示12个物品\n\n    // 计算属性\n    var favoriteItems = computed(function () {\n      return wardrobeStore.favoriteItems;\n    });\n    var displayedFavoriteItems = computed(function () {\n      return favoriteItems.value.slice(favoriteIndex.value, favoriteIndex.value + itemsPerPage.value);\n    });\n    var currentPage = computed(function () {\n      return Math.floor(favoriteIndex.value / itemsPerPage.value) + 1;\n    });\n    var totalPages = computed(function () {\n      return Math.ceil(favoriteItems.value.length / itemsPerPage.value);\n    });\n    var loading = computed(function () {\n      return wardrobeStore.loading;\n    });\n    var error = computed(function () {\n      return wardrobeStore.error;\n    });\n\n    // 方法\n    function prevFavorite() {\n      if (favoriteIndex.value > 0) favoriteIndex.value -= itemsPerPage.value;\n    }\n    function nextFavorite() {\n      if (favoriteIndex.value < favoriteItems.value.length - itemsPerPage.value) favoriteIndex.value += itemsPerPage.value;\n    }\n    var __returned__ = {\n      wardrobeStore: wardrobeStore,\n      favoriteIndex: favoriteIndex,\n      itemsPerPage: itemsPerPage,\n      favoriteItems: favoriteItems,\n      displayedFavoriteItems: displayedFavoriteItems,\n      currentPage: currentPage,\n      totalPages: totalPages,\n      loading: loading,\n      error: error,\n      prevFavorite: prevFavorite,\n      nextFavorite: nextFavorite,\n      computed: computed,\n      ref: ref,\n      get useWardrobeStore() {\n        return useWardrobeStore;\n      },\n      ClothingItem: ClothingItem\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["computed","ref","useWardrobeStore","ClothingItem","wardrobeStore","favoriteIndex","itemsPerPage","favoriteItems","displayedFavoriteItems","value","slice","currentPage","Math","floor","totalPages","ceil","length","loading","error","prevFavorite","nextFavorite"],"sources":["/Users/sunxiaokai/Desktop/stylevault-vue-project/src/components/features/wardrobe/FavoriteSection.vue"],"sourcesContent":["<template>\n  <div v-if=\"!loading && !error && favoriteItems.length > 0\" class=\"container mx-auto px-4 mb-12\">\n    <div class=\"flex items-center justify-between mb-6\">\n      <div class=\"flex items-center space-x-2\">\n        <h3 class=\"text-xl md:text-2xl font-bold\">我的收藏</h3>\n        <span class=\"px-2 py-1 bg-primary/10 text-primary rounded-full text-xs font-medium\">{{ favoriteItems.length }}</span>\n      </div>\n      <div class=\"flex items-center space-x-2\">\n        <span class=\"text-sm text-gray-500\">{{ currentPage }} / {{ totalPages }}</span>\n        <div class=\"flex space-x-1\">\n          <button\n            @click=\"prevFavorite\"\n            :disabled=\"favoriteIndex === 0\"\n            class=\"w-8 h-8 rounded-full bg-white shadow-soft flex items-center justify-center hover:bg-neutral-50 disabled:opacity-30 disabled:cursor-not-allowed transition-all\"\n          >\n            <font-awesome-icon :icon=\"['fas', 'chevron-left']\" class=\"text-neutral-600 text-xs\" />\n          </button>\n          <button\n            @click=\"nextFavorite\"\n            :disabled=\"favoriteIndex >= favoriteItems.length - itemsPerPage\"\n            class=\"w-8 h-8 rounded-full bg-white shadow-soft flex items-center justify-center hover:bg-neutral-50 disabled:opacity-30 disabled:cursor-not-allowed transition-all\"\n          >\n            <font-awesome-icon :icon=\"['fas', 'chevron-right']\" class=\"text-neutral-600 text-xs\" />\n          </button>\n        </div>\n      </div>\n    </div>\n    <div class=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 sm:gap-5\">\n      <ClothingItem\n        v-for=\"item in displayedFavoriteItems\"\n        :key=\"item.id\"\n        :item=\"item\"\n      />\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { computed, ref } from 'vue'\nimport { useWardrobeStore } from '@/stores/wardrobeStore'\nimport ClothingItem from '../../common/ui/ClothingItem.vue'\n\nconst wardrobeStore = useWardrobeStore()\n\n// 状态\nconst favoriteIndex = ref(0)\nconst itemsPerPage = ref(12) // 每页显示12个物品\n\n// 计算属性\nconst favoriteItems = computed(() => wardrobeStore.favoriteItems)\nconst displayedFavoriteItems = computed(() => favoriteItems.value.slice(favoriteIndex.value, favoriteIndex.value + itemsPerPage.value))\nconst currentPage = computed(() => Math.floor(favoriteIndex.value / itemsPerPage.value) + 1)\nconst totalPages = computed(() => Math.ceil(favoriteItems.value.length / itemsPerPage.value))\nconst loading = computed(() => wardrobeStore.loading)\nconst error = computed(() => wardrobeStore.error)\n\n// 方法\nfunction prevFavorite() {\n  if (favoriteIndex.value > 0) favoriteIndex.value -= itemsPerPage.value\n}\n\nfunction nextFavorite() {\n  if (favoriteIndex.value < favoriteItems.value.length - itemsPerPage.value) favoriteIndex.value += itemsPerPage.value\n}\n</script>\n"],"mappings":"AAsCA,SAASA,QAAQ,EAAEC,GAAG,QAAQ,KAAI;AAClC,SAASC,gBAAgB,QAAQ,wBAAuB;AACxD,OAAOC,YAAY,MAAM,kCAAiC;;;;;;IAE1D,IAAMC,aAAa,GAAGF,gBAAgB,CAAC;;IAEvC;IACA,IAAMG,aAAa,GAAGJ,GAAG,CAAC,CAAC;IAC3B,IAAMK,YAAY,GAAGL,GAAG,CAAC,EAAE,CAAC,EAAC;;IAE7B;IACA,IAAMM,aAAa,GAAGP,QAAQ,CAAC;MAAA,OAAMI,aAAa,CAACG,aAAa;IAAA;IAChE,IAAMC,sBAAsB,GAAGR,QAAQ,CAAC;MAAA,OAAMO,aAAa,CAACE,KAAK,CAACC,KAAK,CAACL,aAAa,CAACI,KAAK,EAAEJ,aAAa,CAACI,KAAK,GAAGH,YAAY,CAACG,KAAK,CAAC;IAAA;IACtI,IAAME,WAAW,GAAGX,QAAQ,CAAC;MAAA,OAAMY,IAAI,CAACC,KAAK,CAACR,aAAa,CAACI,KAAK,GAAGH,YAAY,CAACG,KAAK,CAAC,GAAG,CAAC;IAAA;IAC3F,IAAMK,UAAU,GAAGd,QAAQ,CAAC;MAAA,OAAMY,IAAI,CAACG,IAAI,CAACR,aAAa,CAACE,KAAK,CAACO,MAAM,GAAGV,YAAY,CAACG,KAAK,CAAC;IAAA;IAC5F,IAAMQ,OAAO,GAAGjB,QAAQ,CAAC;MAAA,OAAMI,aAAa,CAACa,OAAO;IAAA;IACpD,IAAMC,KAAK,GAAGlB,QAAQ,CAAC;MAAA,OAAMI,aAAa,CAACc,KAAK;IAAA;;IAEhD;IACA,SAASC,YAAYA,CAAA,EAAG;MACtB,IAAId,aAAa,CAACI,KAAK,GAAG,CAAC,EAAEJ,aAAa,CAACI,KAAK,IAAIH,YAAY,CAACG,KAAI;IACvE;IAEA,SAASW,YAAYA,CAAA,EAAG;MACtB,IAAIf,aAAa,CAACI,KAAK,GAAGF,aAAa,CAACE,KAAK,CAACO,MAAM,GAAGV,YAAY,CAACG,KAAK,EAAEJ,aAAa,CAACI,KAAK,IAAIH,YAAY,CAACG,KAAI;IACrH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}