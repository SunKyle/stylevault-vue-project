{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createVNode as _createVNode, vShow as _vShow, withDirectives as _withDirectives, Fragment as _Fragment, withCtx as _withCtx, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"py-10\"\n};\nconst _hoisted_2 = {\n  class: \"container mx-auto px-4\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"flex justify-center items-center py-20\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createBlock($setup[\"ContentLayout\"], null, {\n    default: _withCtx(() => [_createElementVNode(\"section\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createCommentVNode(\" 加载状态 \"), $setup.isLoading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [...(_cache[0] || (_cache[0] = [_createElementVNode(\"div\", {\n      class: \"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600\"\n    }, null, -1 /* CACHED */), _createElementVNode(\"span\", {\n      class: \"ml-3 text-gray-600\"\n    }, \"加载搭配灵感中...\", -1 /* CACHED */)]))])) : (_openBlock(), _createElementBlock(_Fragment, {\n      key: 1\n    }, [_createCommentVNode(\" 主要内容 \"), _createElementVNode(\"div\", null, [_createCommentVNode(\" 已保存搭配展示区域 \"), _createVNode($setup[\"SavedOutfits\"], {\n      loadMore: $setup.loadMoreOutfits,\n      onLoadOutfit: $setup.loadOutfit,\n      onDeleteOutfit: $setup.deleteOutfit,\n      onShareOutfit: $setup.shareOutfit,\n      onScrollToCreate: $setup.scrollToCreateSection\n    }, null, 8 /* PROPS */, [\"loadMore\", \"onLoadOutfit\", \"onDeleteOutfit\"]), _createCommentVNode(\" 创建搭配区域 \"), _withDirectives(_createVNode($setup[\"OutfitCreator\"], null, null, 512 /* NEED_PATCH */), [[_vShow, $setup.clothes.length > 0]])])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))])])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","_createBlock","$setup","_createElementVNode","_hoisted_1","_hoisted_2","_createCommentVNode","isLoading","_createElementBlock","_hoisted_3","_cache","_Fragment","key","_createVNode","loadMore","loadMoreOutfits","onLoadOutfit","loadOutfit","onDeleteOutfit","deleteOutfit","onShareOutfit","shareOutfit","onScrollToCreate","scrollToCreateSection","clothes","length"],"sources":["/Users/sunxiaokai/Desktop/stylevault-vue-project/src/views/InspirationView.vue"],"sourcesContent":["<template>\n  <ContentLayout>\n    <section class=\"py-10\">\n      <div class=\"container mx-auto px-4\">\n        <!-- 加载状态 -->\n        <div v-if=\"isLoading\" class=\"flex justify-center items-center py-20\">\n          <div class=\"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600\"></div>\n          <span class=\"ml-3 text-gray-600\">加载搭配灵感中...</span>\n        </div>\n\n        <!-- 主要内容 -->\n        <div v-else>\n          <!-- 已保存搭配展示区域 -->\n          <SavedOutfits\n            :loadMore=\"loadMoreOutfits\"\n            :onLoadOutfit=\"loadOutfit\"\n            :onDeleteOutfit=\"deleteOutfit\"\n            :onShareOutfit=\"shareOutfit\"\n            @scroll-to-create=\"scrollToCreateSection\"\n          />\n\n          <!-- 创建搭配区域 -->\n          <OutfitCreator v-show=\"clothes.length > 0\" />\n        </div>\n      </div>\n    </section>\n  </ContentLayout>\n</template>\n\n<script setup>\n  import { onMounted } from 'vue';\n  import { useInspirationStore } from '@/stores/inspirationStore';\n  import SavedOutfits from '@/components/inspiration/SavedOutfits.vue';\n  import OutfitCreator from '@/components/inspiration/OutfitCreator.vue';\n  import ContentLayout from '@/components/layout/ContentLayout.vue';\n\n  const inspirationStore = useInspirationStore();\n\n  // 直接从store解构，避免大数据传递\n  const {\n    clothes,\n    savedOutfits,\n    categories,\n    tags,\n    filteredClothes,\n    visibleOutfits,\n    selectedClothes,\n    isLoading,\n    pagination,\n  } = inspirationStore;\n\n  // 方法直接委托给store\n  const {\n    setFilter,\n    resetFilters,\n    toggleCloth,\n    removeCloth,\n    resetClothes,\n    loadMoreOutfits,\n    saveOutfit,\n    loadOutfit,\n    deleteOutfit,\n    initialize,\n  } = inspirationStore;\n\n  const scrollToCreateSection = () => {\n    const element = document.querySelector('.outfit-creator');\n    element?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  const shareOutfit = async outfit => {\n    const shareData = {\n      title: `搭配方案: ${outfit.title}`,\n      text: `分享我的穿搭方案：${outfit.description || '无描述'}`,\n      url: window.location.href,\n    };\n\n    try {\n      if (navigator.share) {\n        await navigator.share(shareData);\n      } else {\n        await navigator.clipboard.writeText(\n          `${shareData.title}\\n${shareData.text}\\n${shareData.url}`\n        );\n        alert('已复制到剪贴板！');\n      }\n    } catch (error) {\n      console.error('分享失败:', error);\n      alert('分享失败，请重试');\n    }\n  };\n\n  // 初始化数据\n  onMounted(() => {\n    initialize();\n  });\n</script>\n\n<style scoped>\n  /* 响应式样式优化 */\n  @media (max-width: 768px) {\n    section {\n      padding-top: 1rem;\n      padding-bottom: 1rem;\n    }\n\n    .container {\n      padding-left: 1rem;\n      padding-right: 1rem;\n    }\n  }\n\n  /* 加载动画优化 */\n  .animate-spin {\n    animation: spin 1s linear infinite;\n  }\n\n  @keyframes spin {\n    from {\n      transform: rotate(0deg);\n    }\n    to {\n      transform: rotate(360deg);\n    }\n  }\n</style>\n"],"mappings":";;EAEaA,KAAK,EAAC;AAAO;;EACfA,KAAK,EAAC;AAAwB;;;EAEXA,KAAK,EAAC;;;uBAJlCC,YAAA,CAyBgBC,MAAA;sBAxBd,MAuBU,CAvBVC,mBAAA,CAuBU,WAvBVC,UAuBU,GAtBRD,mBAAA,CAqBM,OArBNE,UAqBM,GApBJC,mBAAA,UAAa,EACFJ,MAAA,CAAAK,SAAS,I,cAApBC,mBAAA,CAGM,OAHNC,UAGM,OAAAC,MAAA,QAAAA,MAAA,OAFJP,mBAAA,CAAoF;MAA/EH,KAAK,EAAC;IAAkE,2BAC7EG,mBAAA,CAAkD;MAA5CH,KAAK,EAAC;IAAoB,GAAC,YAAU,mB,uBAI7CQ,mBAAA,CAYMG,SAAA;MAAAC,GAAA;IAAA,IAbNN,mBAAA,UAAa,EACbH,mBAAA,CAYM,cAXJG,mBAAA,eAAkB,EAClBO,YAAA,CAMEX,MAAA;MALCY,QAAQ,EAAEZ,MAAA,CAAAa,eAAe;MACzBC,YAAY,EAAEd,MAAA,CAAAe,UAAU;MACxBC,cAAc,EAAEhB,MAAA,CAAAiB,YAAY;MAC5BC,aAAa,EAAElB,MAAA,CAAAmB,WAAW;MAC1BC,gBAAgB,EAAEpB,MAAA,CAAAqB;6EAGrBjB,mBAAA,YAAe,E,gBACfO,YAAA,CAA6CX,MAAA,uD,SAAtBA,MAAA,CAAAsB,OAAO,CAACC,MAAM,M","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}