{"ast":null,"code":"import { clothingService } from '../services/clothingService';\nimport { showToast } from '../utils/toast';\nexport class ClothingAdapter {\n  constructor() {\n    this.service = clothingService;\n  }\n\n  // 获取所有衣物，并处理错误和加载状态\n  async fetchClothingItems() {\n    try {\n      const items = await this.service.getClothingItems();\n      return items;\n    } catch (error) {\n      showToast('获取衣物列表失败', 'error');\n      throw error;\n    }\n  }\n\n  // 获取所有衣物类别\n  async fetchCategories() {\n    try {\n      const categories = await this.service.getCategories();\n      return categories;\n    } catch (error) {\n      showToast('获取衣物类别失败', 'error');\n      throw error;\n    }\n  }\n\n  // 根据类别获取衣物\n  async fetchClothingItemsByCategory(categoryId) {\n    try {\n      const items = await this.service.getClothingItemsByCategory(categoryId);\n      return items;\n    } catch (error) {\n      showToast('获取类别衣物失败', 'error');\n      throw error;\n    }\n  }\n\n  // 获取衣物详情\n  async fetchClothingItemDetail(id) {\n    try {\n      const item = await this.service.getClothingItemDetail(id);\n      return item;\n    } catch (error) {\n      showToast('获取衣物详情失败', 'error');\n      throw error;\n    }\n  }\n\n  // 添加衣物\n  async addClothingItem(item) {\n    try {\n      const newItem = await this.service.addClothingItem(item);\n      showToast('衣物添加成功', 'success');\n      return newItem;\n    } catch (error) {\n      showToast('添加衣物失败', 'error');\n      throw error;\n    }\n  }\n\n  // 更新衣物信息\n  async updateClothingItem(id, updates) {\n    try {\n      const updatedItem = await this.service.updateClothingItem(id, updates);\n      showToast('衣物更新成功', 'success');\n      return updatedItem;\n    } catch (error) {\n      showToast('更新衣物失败', 'error');\n      throw error;\n    }\n  }\n\n  // 删除衣物\n  async deleteClothingItem(id) {\n    try {\n      await this.service.deleteClothingItem(id);\n      showToast('衣物删除成功', 'success');\n      return true;\n    } catch (error) {\n      showToast('删除衣物失败', 'error');\n      throw error;\n    }\n  }\n\n  // 搜索衣物\n  async searchClothingItems(keyword) {\n    try {\n      const results = await this.service.searchClothingItems(keyword);\n      return results;\n    } catch (error) {\n      showToast('搜索衣物失败', 'error');\n      throw error;\n    }\n  }\n\n  // 切换收藏状态\n  async toggleFavorite(id) {\n    try {\n      const result = await this.service.toggleFavorite(id);\n      showToast(result.favorite ? '已添加到收藏' : '已取消收藏', 'success');\n      return result;\n    } catch (error) {\n      showToast('切换收藏状态失败', 'error');\n      throw error;\n    }\n  }\n}\n\n// 创建单例实例\nexport const clothingAdapter = new ClothingAdapter();","map":{"version":3,"names":["clothingService","showToast","ClothingAdapter","constructor","service","fetchClothingItems","items","getClothingItems","error","fetchCategories","categories","getCategories","fetchClothingItemsByCategory","categoryId","getClothingItemsByCategory","fetchClothingItemDetail","id","item","getClothingItemDetail","addClothingItem","newItem","updateClothingItem","updates","updatedItem","deleteClothingItem","searchClothingItems","keyword","results","toggleFavorite","result","favorite","clothingAdapter"],"sources":["/Users/sunxiaokai/Desktop/stylevault-vue-project/src/adapters/clothingAdapter.js"],"sourcesContent":["import { clothingService } from '../services/clothingService';\nimport { showToast } from '../utils/toast';\n\nexport class ClothingAdapter {\n  constructor() {\n    this.service = clothingService;\n  }\n\n  // 获取所有衣物，并处理错误和加载状态\n  async fetchClothingItems() {\n    try {\n      const items = await this.service.getClothingItems();\n      return items;\n    } catch (error) {\n      showToast('获取衣物列表失败', 'error');\n      throw error;\n    }\n  }\n\n  // 获取所有衣物类别\n  async fetchCategories() {\n    try {\n      const categories = await this.service.getCategories();\n      return categories;\n    } catch (error) {\n      showToast('获取衣物类别失败', 'error');\n      throw error;\n    }\n  }\n\n  // 根据类别获取衣物\n  async fetchClothingItemsByCategory(categoryId) {\n    try {\n      const items = await this.service.getClothingItemsByCategory(categoryId);\n      return items;\n    } catch (error) {\n      showToast('获取类别衣物失败', 'error');\n      throw error;\n    }\n  }\n\n  // 获取衣物详情\n  async fetchClothingItemDetail(id) {\n    try {\n      const item = await this.service.getClothingItemDetail(id);\n      return item;\n    } catch (error) {\n      showToast('获取衣物详情失败', 'error');\n      throw error;\n    }\n  }\n\n  // 添加衣物\n  async addClothingItem(item) {\n    try {\n      const newItem = await this.service.addClothingItem(item);\n      showToast('衣物添加成功', 'success');\n      return newItem;\n    } catch (error) {\n      showToast('添加衣物失败', 'error');\n      throw error;\n    }\n  }\n\n  // 更新衣物信息\n  async updateClothingItem(id, updates) {\n    try {\n      const updatedItem = await this.service.updateClothingItem(id, updates);\n      showToast('衣物更新成功', 'success');\n      return updatedItem;\n    } catch (error) {\n      showToast('更新衣物失败', 'error');\n      throw error;\n    }\n  }\n\n  // 删除衣物\n  async deleteClothingItem(id) {\n    try {\n      await this.service.deleteClothingItem(id);\n      showToast('衣物删除成功', 'success');\n      return true;\n    } catch (error) {\n      showToast('删除衣物失败', 'error');\n      throw error;\n    }\n  }\n\n  // 搜索衣物\n  async searchClothingItems(keyword) {\n    try {\n      const results = await this.service.searchClothingItems(keyword);\n      return results;\n    } catch (error) {\n      showToast('搜索衣物失败', 'error');\n      throw error;\n    }\n  }\n\n  // 切换收藏状态\n  async toggleFavorite(id) {\n    try {\n      const result = await this.service.toggleFavorite(id);\n      showToast(result.favorite ? '已添加到收藏' : '已取消收藏', 'success');\n      return result;\n    } catch (error) {\n      showToast('切换收藏状态失败', 'error');\n      throw error;\n    }\n  }\n}\n\n// 创建单例实例\nexport const clothingAdapter = new ClothingAdapter();\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}