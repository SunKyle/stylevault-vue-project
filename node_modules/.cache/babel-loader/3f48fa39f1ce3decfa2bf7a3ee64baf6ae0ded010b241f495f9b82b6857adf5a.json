{"ast":null,"code":"import { defineStore } from 'pinia';\nexport var useUiStore = defineStore('ui', {\n  state: function state() {\n    return {\n      loading: false,\n      loadingMessage: '加载中...',\n      error: null,\n      notification: null,\n      sidebarOpen: false,\n      theme: 'light',\n      // 'light' 或 'dark'\n      activeModal: null,\n      modalProps: null,\n      breadcrumbs: [],\n      pageTitle: 'StyleVault'\n    };\n  },\n  getters: {\n    isLoading: function isLoading(state) {\n      return state.loading;\n    },\n    currentTheme: function currentTheme(state) {\n      return state.theme;\n    },\n    hasError: function hasError(state) {\n      return !!state.error;\n    },\n    hasNotification: function hasNotification(state) {\n      return !!state.notification;\n    },\n    isSidebarOpen: function isSidebarOpen(state) {\n      return state.sidebarOpen;\n    },\n    getActiveModal: function getActiveModal(state) {\n      return state.activeModal;\n    },\n    getModalProps: function getModalProps(state) {\n      return state.modalProps;\n    },\n    getBreadcrumbs: function getBreadcrumbs(state) {\n      return state.breadcrumbs;\n    },\n    getPageTitle: function getPageTitle(state) {\n      return state.pageTitle;\n    }\n  },\n  actions: {\n    // 设置加载状态\n    setLoading: function setLoading(status) {\n      var message = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '加载中...';\n      this.loading = status;\n      this.loadingMessage = message;\n    },\n    // 设置错误信息\n    setError: function setError(error) {\n      this.error = error;\n    },\n    // 清除错误信息\n    clearError: function clearError() {\n      this.error = null;\n    },\n    // 显示通知\n    showNotification: function showNotification(message) {\n      var _this = this;\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'info';\n      var duration = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 3000;\n      this.notification = {\n        message: message,\n        type: type\n      };\n\n      // 设置定时器自动清除通知\n      if (duration > 0) {\n        setTimeout(function () {\n          _this.clearNotification();\n        }, duration);\n      }\n    },\n    // 清除通知\n    clearNotification: function clearNotification() {\n      this.notification = null;\n    },\n    // 切换侧边栏\n    toggleSidebar: function toggleSidebar() {\n      this.sidebarOpen = !this.sidebarOpen;\n    },\n    // 打开侧边栏\n    openSidebar: function openSidebar() {\n      this.sidebarOpen = true;\n    },\n    // 关闭侧边栏\n    closeSidebar: function closeSidebar() {\n      this.sidebarOpen = false;\n    },\n    // 切换主题\n    toggleTheme: function toggleTheme() {\n      this.theme = this.theme === 'light' ? 'dark' : 'light';\n      // 应用主题到document元素，以便全局生效\n      document.documentElement.setAttribute('data-theme', this.theme);\n      // 保存主题偏好到本地存储\n      localStorage.setItem('theme', this.theme);\n    },\n    // 设置主题\n    setTheme: function setTheme(theme) {\n      if (['light', 'dark'].includes(theme)) {\n        this.theme = theme;\n        // 应用主题到document元素，以便全局生效\n        document.documentElement.setAttribute('data-theme', this.theme);\n        // 保存主题偏好到本地存储\n        localStorage.setItem('theme', this.theme);\n      }\n    },\n    // 从本地存储初始化主题\n    initializeTheme: function initializeTheme() {\n      var savedTheme = localStorage.getItem('theme');\n      if (savedTheme && ['light', 'dark'].includes(savedTheme)) {\n        this.setTheme(savedTheme);\n      } else {\n        // 默认使用系统偏好\n        var prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;\n        this.setTheme(prefersDark ? 'dark' : 'light');\n      }\n    },\n    // 打开模态框\n    openModal: function openModal(modalName) {\n      var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.activeModal = modalName;\n      this.modalProps = props;\n    },\n    // 关闭模态框\n    closeModal: function closeModal() {\n      this.activeModal = null;\n      this.modalProps = null;\n    },\n    // 设置面包屑\n    setBreadcrumbs: function setBreadcrumbs(breadcrumbs) {\n      this.breadcrumbs = breadcrumbs;\n    },\n    // 添加面包屑\n    addBreadcrumb: function addBreadcrumb(crumb) {\n      this.breadcrumbs.push(crumb);\n    },\n    // 清除面包屑\n    clearBreadcrumbs: function clearBreadcrumbs() {\n      this.breadcrumbs = [];\n    },\n    // 设置页面标题\n    setPageTitle: function setPageTitle(title) {\n      this.pageTitle = title;\n      // 同时更新document的title\n      document.title = \"\".concat(title, \" - StyleVault\");\n    },\n    // 初始化UI状态\n    initializeUi: function initializeUi() {\n      var _this2 = this;\n      // 初始化主题\n      this.initializeTheme();\n\n      // 监听系统主题变化\n      var mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\n      var handleChange = function handleChange(e) {\n        // 只有当用户没有手动设置主题时才跟随系统\n        if (!localStorage.getItem('theme')) {\n          _this2.setTheme(e.matches ? 'dark' : 'light');\n        }\n      };\n\n      // 添加监听器\n      if (mediaQuery.addEventListener) {\n        mediaQuery.addEventListener('change', handleChange);\n      } else {\n        // 兼容旧浏览器\n        mediaQuery.addListener(handleChange);\n      }\n\n      // 页面加载时显示欢迎消息\n      this.showNotification('欢迎使用 StyleVault！', 'success', 3000);\n    },\n    // 显示错误提示\n    showErrorToast: function showErrorToast(message) {\n      this.showNotification(message, 'error', 5000);\n    },\n    // 显示成功提示\n    showSuccessToast: function showSuccessToast(message) {\n      this.showNotification(message, 'success', 3000);\n    },\n    // 显示警告提示\n    showWarningToast: function showWarningToast(message) {\n      this.showNotification(message, 'warning', 4000);\n    },\n    // 显示信息提示\n    showInfoToast: function showInfoToast(message) {\n      this.showNotification(message, 'info', 3000);\n    }\n  }\n});","map":{"version":3,"names":["defineStore","useUiStore","state","loading","loadingMessage","error","notification","sidebarOpen","theme","activeModal","modalProps","breadcrumbs","pageTitle","getters","isLoading","currentTheme","hasError","hasNotification","isSidebarOpen","getActiveModal","getModalProps","getBreadcrumbs","getPageTitle","actions","setLoading","status","message","arguments","length","undefined","setError","clearError","showNotification","_this","type","duration","setTimeout","clearNotification","toggleSidebar","openSidebar","closeSidebar","toggleTheme","document","documentElement","setAttribute","localStorage","setItem","setTheme","includes","initializeTheme","savedTheme","getItem","prefersDark","window","matchMedia","matches","openModal","modalName","props","closeModal","setBreadcrumbs","addBreadcrumb","crumb","push","clearBreadcrumbs","setPageTitle","title","concat","initializeUi","_this2","mediaQuery","handleChange","e","addEventListener","addListener","showErrorToast","showSuccessToast","showWarningToast","showInfoToast"],"sources":["/Users/sunxiaokai/Desktop/stylevault-vue-project/src/stores/modules/uiStore.js"],"sourcesContent":["\nimport { defineStore } from 'pinia'\n\nexport const useUiStore = defineStore('ui', {\n  state: () => ({\n    loading: false,\n    loadingMessage: '加载中...',\n    error: null,\n    notification: null,\n    sidebarOpen: false,\n    theme: 'light', // 'light' 或 'dark'\n    activeModal: null,\n    modalProps: null,\n    breadcrumbs: [],\n    pageTitle: 'StyleVault'\n  }),\n\n  getters: {\n    isLoading: (state) => state.loading,\n    currentTheme: (state) => state.theme,\n    hasError: (state) => !!state.error,\n    hasNotification: (state) => !!state.notification,\n    isSidebarOpen: (state) => state.sidebarOpen,\n    getActiveModal: (state) => state.activeModal,\n    getModalProps: (state) => state.modalProps,\n    getBreadcrumbs: (state) => state.breadcrumbs,\n    getPageTitle: (state) => state.pageTitle\n  },\n\n  actions: {\n    // 设置加载状态\n    setLoading(status, message = '加载中...') {\n      this.loading = status\n      this.loadingMessage = message\n    },\n\n    // 设置错误信息\n    setError(error) {\n      this.error = error\n    },\n\n    // 清除错误信息\n    clearError() {\n      this.error = null\n    },\n\n    // 显示通知\n    showNotification(message, type = 'info', duration = 3000) {\n      this.notification = { message, type }\n\n      // 设置定时器自动清除通知\n      if (duration > 0) {\n        setTimeout(() => {\n          this.clearNotification()\n        }, duration)\n      }\n    },\n\n    // 清除通知\n    clearNotification() {\n      this.notification = null\n    },\n\n    // 切换侧边栏\n    toggleSidebar() {\n      this.sidebarOpen = !this.sidebarOpen\n    },\n\n    // 打开侧边栏\n    openSidebar() {\n      this.sidebarOpen = true\n    },\n\n    // 关闭侧边栏\n    closeSidebar() {\n      this.sidebarOpen = false\n    },\n\n    // 切换主题\n    toggleTheme() {\n      this.theme = this.theme === 'light' ? 'dark' : 'light'\n      // 应用主题到document元素，以便全局生效\n      document.documentElement.setAttribute('data-theme', this.theme)\n      // 保存主题偏好到本地存储\n      localStorage.setItem('theme', this.theme)\n    },\n\n    // 设置主题\n    setTheme(theme) {\n      if (['light', 'dark'].includes(theme)) {\n        this.theme = theme\n        // 应用主题到document元素，以便全局生效\n        document.documentElement.setAttribute('data-theme', this.theme)\n        // 保存主题偏好到本地存储\n        localStorage.setItem('theme', this.theme)\n      }\n    },\n\n    // 从本地存储初始化主题\n    initializeTheme() {\n      const savedTheme = localStorage.getItem('theme')\n      if (savedTheme && ['light', 'dark'].includes(savedTheme)) {\n        this.setTheme(savedTheme)\n      } else {\n        // 默认使用系统偏好\n        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches\n        this.setTheme(prefersDark ? 'dark' : 'light')\n      }\n    },\n\n    // 打开模态框\n    openModal(modalName, props = {}) {\n      this.activeModal = modalName\n      this.modalProps = props\n    },\n\n    // 关闭模态框\n    closeModal() {\n      this.activeModal = null\n      this.modalProps = null\n    },\n\n    // 设置面包屑\n    setBreadcrumbs(breadcrumbs) {\n      this.breadcrumbs = breadcrumbs\n    },\n\n    // 添加面包屑\n    addBreadcrumb(crumb) {\n      this.breadcrumbs.push(crumb)\n    },\n\n    // 清除面包屑\n    clearBreadcrumbs() {\n      this.breadcrumbs = []\n    },\n\n    // 设置页面标题\n    setPageTitle(title) {\n      this.pageTitle = title\n      // 同时更新document的title\n      document.title = `${title} - StyleVault`\n    },\n\n    // 初始化UI状态\n    initializeUi() {\n      // 初始化主题\n      this.initializeTheme()\n\n      // 监听系统主题变化\n      const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)')\n      const handleChange = (e) => {\n        // 只有当用户没有手动设置主题时才跟随系统\n        if (!localStorage.getItem('theme')) {\n          this.setTheme(e.matches ? 'dark' : 'light')\n        }\n      }\n\n      // 添加监听器\n      if (mediaQuery.addEventListener) {\n        mediaQuery.addEventListener('change', handleChange)\n      } else {\n        // 兼容旧浏览器\n        mediaQuery.addListener(handleChange)\n      }\n\n      // 页面加载时显示欢迎消息\n      this.showNotification('欢迎使用 StyleVault！', 'success', 3000)\n    },\n\n    // 显示错误提示\n    showErrorToast(message) {\n      this.showNotification(message, 'error', 5000)\n    },\n\n    // 显示成功提示\n    showSuccessToast(message) {\n      this.showNotification(message, 'success', 3000)\n    },\n\n    // 显示警告提示\n    showWarningToast(message) {\n      this.showNotification(message, 'warning', 4000)\n    },\n\n    // 显示信息提示\n    showInfoToast(message) {\n      this.showNotification(message, 'info', 3000)\n    }\n  }\n})\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}