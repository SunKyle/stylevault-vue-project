{"ast":null,"code":"import { ref, computed, onMounted } from 'vue';\nimport PageLayout from '@/components/layout/PageLayout.vue';\nimport StatCard from '@/components/ui/StatCard.vue';\nimport ErrorBoundary from '@/components/ui/ErrorBoundary.vue';\nimport { useClothingStore } from '@/stores/index';\nexport default {\n  __name: 'StatsView',\n  setup: function setup(__props, _ref) {\n    var __expose = _ref.expose;\n    __expose();\n    var clothingStore = useClothingStore();\n    var totalItems = computed(function () {\n      return clothingStore.clothingItems.length;\n    });\n    var favoriteCount = computed(function () {\n      return clothingStore.clothingItems.filter(function (item) {\n        return item.favorite;\n      }).length;\n    });\n    var categoryCount = computed(function () {\n      return clothingStore.categories.length;\n    });\n    var totalValue = computed(function () {\n      return clothingStore.clothingItems.reduce(function (sum, item) {\n        return sum + (item.price || 0);\n      }, 0);\n    });\n    var categoryStats = computed(function () {\n      var stats = [];\n      var total = clothingStore.clothingItems.length;\n      clothingStore.categories.forEach(function (category) {\n        var count = clothingStore.clothingItems.filter(function (item) {\n          return item.categoryId === category.id;\n        }).length;\n        if (count > 0) {\n          stats.push({\n            category: category.name,\n            count: count,\n            percentage: Math.round(count / total * 100),\n            color: category.color || 'blue'\n          });\n        }\n      });\n      return stats.sort(function (a, b) {\n        return b.count - a.count;\n      });\n    });\n    onMounted(function () {\n      clothingStore.fetchCategories();\n      clothingStore.fetchClothingItems();\n    });\n    var __returned__ = {\n      clothingStore: clothingStore,\n      totalItems: totalItems,\n      favoriteCount: favoriteCount,\n      categoryCount: categoryCount,\n      totalValue: totalValue,\n      categoryStats: categoryStats,\n      ref: ref,\n      computed: computed,\n      onMounted: onMounted,\n      PageLayout: PageLayout,\n      StatCard: StatCard,\n      ErrorBoundary: ErrorBoundary,\n      get useClothingStore() {\n        return useClothingStore;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","onMounted","PageLayout","StatCard","ErrorBoundary","useClothingStore","clothingStore","totalItems","clothingItems","length","favoriteCount","filter","item","favorite","categoryCount","categories","totalValue","reduce","sum","price","categoryStats","stats","total","forEach","category","count","categoryId","id","push","name","percentage","Math","round","color","sort","a","b","fetchCategories","fetchClothingItems"],"sources":["/Users/sunxiaokai/Desktop/stylevault-vue-project/src/views/StatsView.vue"],"sourcesContent":["<template>\n  <ErrorBoundary>\n    <PageLayout>\n      <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <h1 class=\"text-3xl font-bold text-gray-900 mb-8\">衣橱统计</h1>\n\n        <!-- 统计卡片 -->\n        <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n          <StatCard title=\"总衣物数\" :value=\"totalItems\" icon=\"shirt\" color=\"blue\" />\n          <StatCard title=\"收藏数\" :value=\"favoriteCount\" icon=\"heart\" color=\"red\" />\n          <StatCard title=\"分类数\" :value=\"categoryCount\" icon=\"folder\" color=\"green\" />\n          <StatCard\n            title=\"总价值\"\n            :value=\"totalValue\"\n            icon=\"dollar-sign\"\n            color=\"purple\"\n            prefix=\"¥\"\n          />\n        </div>\n\n        <!-- 分类统计 -->\n        <div class=\"bg-white rounded-lg shadow-sm p-6\">\n          <h2 class=\"text-xl font-semibold text-gray-900 mb-4\">分类统计</h2>\n          <div class=\"space-y-4\">\n            <div\n              v-for=\"stat in categoryStats\"\n              :key=\"stat.category\"\n              class=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg\"\n            >\n              <div>\n                <h3 class=\"font-medium text-gray-900\">{{ stat.category }}</h3>\n                <p class=\"text-sm text-gray-600\">{{ stat.count }} 件衣物</p>\n              </div>\n              <div class=\"text-right\">\n                <p class=\"text-sm font-medium text-gray-900\">{{ stat.percentage }}%</p>\n                <div class=\"w-24 h-2 bg-gray-200 rounded-full mt-1\">\n                  <div\n                    :class=\"[\n                      'h-2 rounded-full',\n                      stat.color === 'blue'\n                        ? 'bg-blue-500'\n                        : stat.color === 'green'\n                        ? 'bg-green-500'\n                        : stat.color === 'yellow'\n                        ? 'bg-yellow-500'\n                        : stat.color === 'purple'\n                        ? 'bg-purple-500'\n                        : stat.color === 'red'\n                        ? 'bg-red-500'\n                        : 'bg-gray-500',\n                    ]\"\n                    :style=\"{ width: stat.percentage + '%' }\"\n                  ></div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </PageLayout>\n  </ErrorBoundary>\n</template>\n\n<script setup>\n  import { ref, computed, onMounted } from 'vue';\n  import PageLayout from '@/components/layout/PageLayout.vue';\n  import StatCard from '@/components/ui/StatCard.vue';\n  import ErrorBoundary from '@/components/ui/ErrorBoundary.vue';\n  import { useClothingStore } from '@/stores/index';\n\n  const clothingStore = useClothingStore();\n\n  const totalItems = computed(() => clothingStore.clothingItems.length);\n  const favoriteCount = computed(\n    () => clothingStore.clothingItems.filter(item => item.favorite).length\n  );\n  const categoryCount = computed(() => clothingStore.categories.length);\n  const totalValue = computed(() =>\n    clothingStore.clothingItems.reduce((sum, item) => sum + (item.price || 0), 0)\n  );\n\n  const categoryStats = computed(() => {\n    const stats = [];\n    const total = clothingStore.clothingItems.length;\n\n    clothingStore.categories.forEach(category => {\n      const count = clothingStore.clothingItems.filter(\n        item => item.categoryId === category.id\n      ).length;\n\n      if (count > 0) {\n        stats.push({\n          category: category.name,\n          count,\n          percentage: Math.round((count / total) * 100),\n          color: category.color || 'blue',\n        });\n      }\n    });\n\n    return stats.sort((a, b) => b.count - a.count);\n  });\n\n  onMounted(() => {\n    clothingStore.fetchCategories();\n    clothingStore.fetchClothingItems();\n  });\n</script>\n"],"mappings":"AAgEE,SAASA,GAAG,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,KAAK;AAC9C,OAAOC,UAAU,MAAM,oCAAoC;AAC3D,OAAOC,QAAQ,MAAM,8BAA8B;AACnD,OAAOC,aAAa,MAAM,mCAAmC;AAC7D,SAASC,gBAAgB,QAAQ,gBAAgB;;;;;;IAEjD,IAAMC,aAAa,GAAGD,gBAAgB,CAAC,CAAC;IAExC,IAAME,UAAU,GAAGP,QAAQ,CAAC;MAAA,OAAMM,aAAa,CAACE,aAAa,CAACC,MAAM;IAAA,EAAC;IACrE,IAAMC,aAAa,GAAGV,QAAQ,CAC5B;MAAA,OAAMM,aAAa,CAACE,aAAa,CAACG,MAAM,CAAC,UAAAC,IAAI;QAAA,OAAIA,IAAI,CAACC,QAAQ;MAAA,EAAC,CAACJ,MAAK;IAAA,CACvE,CAAC;IACD,IAAMK,aAAa,GAAGd,QAAQ,CAAC;MAAA,OAAMM,aAAa,CAACS,UAAU,CAACN,MAAM;IAAA,EAAC;IACrE,IAAMO,UAAU,GAAGhB,QAAQ,CAAC;MAAA,OAC1BM,aAAa,CAACE,aAAa,CAACS,MAAM,CAAC,UAACC,GAAG,EAAEN,IAAI;QAAA,OAAKM,GAAG,IAAIN,IAAI,CAACO,KAAK,IAAI,CAAC,CAAC;MAAA,GAAE,CAAC;IAAA,CAC9E,CAAC;IAED,IAAMC,aAAa,GAAGpB,QAAQ,CAAC,YAAM;MACnC,IAAMqB,KAAK,GAAG,EAAE;MAChB,IAAMC,KAAK,GAAGhB,aAAa,CAACE,aAAa,CAACC,MAAM;MAEhDH,aAAa,CAACS,UAAU,CAACQ,OAAO,CAAC,UAAAC,QAAQ,EAAI;QAC3C,IAAMC,KAAK,GAAGnB,aAAa,CAACE,aAAa,CAACG,MAAM,CAC9C,UAAAC,IAAI;UAAA,OAAIA,IAAI,CAACc,UAAU,KAAKF,QAAQ,CAACG,EAAC;QAAA,CACxC,CAAC,CAAClB,MAAM;QAER,IAAIgB,KAAK,GAAG,CAAC,EAAE;UACbJ,KAAK,CAACO,IAAI,CAAC;YACTJ,QAAQ,EAAEA,QAAQ,CAACK,IAAI;YACvBJ,KAAK,EAALA,KAAK;YACLK,UAAU,EAAEC,IAAI,CAACC,KAAK,CAAEP,KAAK,GAAGH,KAAK,GAAI,GAAG,CAAC;YAC7CW,KAAK,EAAET,QAAQ,CAACS,KAAK,IAAI;UAC3B,CAAC,CAAC;QACJ;MACF,CAAC,CAAC;MAEF,OAAOZ,KAAK,CAACa,IAAI,CAAC,UAACC,CAAC,EAAEC,CAAC;QAAA,OAAKA,CAAC,CAACX,KAAK,GAAGU,CAAC,CAACV,KAAK;MAAA,EAAC;IAChD,CAAC,CAAC;IAEFxB,SAAS,CAAC,YAAM;MACdK,aAAa,CAAC+B,eAAe,CAAC,CAAC;MAC/B/B,aAAa,CAACgC,kBAAkB,CAAC,CAAC;IACpC,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}