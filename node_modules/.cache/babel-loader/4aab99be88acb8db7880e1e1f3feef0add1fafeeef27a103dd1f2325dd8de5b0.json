{"ast":null,"code":"function _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _iterableToArray(r) { if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nimport { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withModifiers as _withModifiers, normalizeClass as _normalizeClass, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelCheckbox as _vModelCheckbox, toDisplayString as _toDisplayString, createStaticVNode as _createStaticVNode } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"bg-white rounded-2xl shadow-medium p-6 md:p-8 max-w-4xl mx-auto\"\n};\nvar _hoisted_2 = {\n  \"class\": \"mb-10\"\n};\nvar _hoisted_3 = {\n  \"class\": \"w-16 h-16 mx-auto bg-primary/10 rounded-full flex items-center justify-center mb-4\"\n};\nvar _hoisted_4 = {\n  \"class\": \"grid grid-cols-1 md:grid-cols-2 gap-6 mb-10\"\n};\nvar _hoisted_5 = {\n  \"class\": \"md:col-span-2\"\n};\nvar _hoisted_6 = {\n  \"class\": \"grid grid-cols-2 md:grid-cols-4 gap-3\"\n};\nvar _hoisted_7 = [\"value\"];\nvar _hoisted_8 = {\n  \"class\": \"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mb-2 group-hover:bg-primary/20 transition-colors\"\n};\nvar _hoisted_9 = {\n  \"class\": \"text-sm font-medium\"\n};\nvar _hoisted_10 = {\n  \"class\": \"mb-10 md:col-span-2\"\n};\nvar _hoisted_11 = {\n  \"class\": \"flex justify-end space-x-4 pt-4 border-t border-neutral-100\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[21] || (_cache[21] = _createElementVNode(\"div\", {\n    \"class\": \"mb-8 text-center\"\n  }, [_createElementVNode(\"h3\", {\n    \"class\": \"text-2xl font-bold mb-2 text-neutral-800\"\n  }, \"添加新衣物\"), _createElementVNode(\"p\", {\n    \"class\": \"text-neutral-500 max-w-md mx-auto\"\n  }, \"上传衣物照片并填写详细信息，帮助系统更好地为你推荐搭配\")], -1 /* CACHED */)), _createCommentVNode(\" 图片上传区域 \"), _createElementVNode(\"div\", _hoisted_2, [_cache[10] || (_cache[10] = _createElementVNode(\"div\", {\n    \"class\": \"flex items-center justify-between mb-3\"\n  }, [_createElementVNode(\"label\", {\n    \"class\": \"block text-sm font-medium text-neutral-700\"\n  }, [_createTextVNode(\"衣物照片 \"), _createElementVNode(\"span\", {\n    \"class\": \"text-red-500\"\n  }, \"*\")]), _createElementVNode(\"span\", {\n    \"class\": \"text-xs text-neutral-500\"\n  }, \"支持 JPG、PNG 格式，最大 5MB\")], -1 /* CACHED */)), _createCommentVNode(\" 上传区域 \"), _createElementVNode(\"div\", {\n    \"class\": _normalizeClass([\"border-2 border-dashed border-neutral-200 rounded-xl p-8 text-center hover:border-primary transition-colors cursor-pointer bg-neutral-50\", {\n      'border-primary bg-primary/5': $setup.isDragging\n    }]),\n    onClick: $setup.triggerFileInput,\n    onDragover: _withModifiers($setup.handleDragOver, [\"prevent\"]),\n    onDragleave: _withModifiers($setup.handleDragLeave, [\"prevent\"]),\n    onDrop: _withModifiers($setup.handleDrop, [\"prevent\"])\n  }, [_createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_font_awesome_icon, {\n    icon: ['fas', 'cloud-upload'],\n    \"class\": \"text-primary text-2xl\"\n  })]), _cache[7] || (_cache[7] = _createElementVNode(\"h4\", {\n    \"class\": \"font-medium mb-1 text-neutral-700\"\n  }, \"点击上传或拖放图片\", -1 /* CACHED */)), _cache[8] || (_cache[8] = _createElementVNode(\"p\", {\n    \"class\": \"text-sm text-neutral-500 mb-4\"\n  }, \"建议尺寸 500×500\", -1 /* CACHED */)), _cache[9] || (_cache[9] = _createElementVNode(\"button\", {\n    \"class\": \"px-4 py-2 bg-primary text-white rounded-lg text-sm font-medium hover:bg-primary/90 transition-colors\"\n  }, \" 选择文件 \", -1 /* CACHED */)), _createCommentVNode(\" 隐藏的文件输入 \"), _createElementVNode(\"input\", {\n    type: \"file\",\n    ref: \"fileInput\",\n    \"class\": \"hidden\",\n    accept: \"image/jpeg,image/jpg,image/png\",\n    onChange: $setup.handleFileChange\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */)], 34 /* CLASS, NEED_HYDRATION */)]), _createCommentVNode(\" 表单字段 \"), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", null, [_cache[11] || (_cache[11] = _createElementVNode(\"label\", {\n    \"class\": \"block text-sm font-medium text-neutral-700 mb-2\"\n  }, [_createTextVNode(\"衣物名称 \"), _createElementVNode(\"span\", {\n    \"class\": \"text-red-500\"\n  }, \"*\")], -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n      return $setup.clothingItem.name = $event;\n    }),\n    placeholder: \"例如：黑色修身牛仔裤\",\n    \"class\": \"w-full px-4 py-3 rounded-xl border border-neutral-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none transition-all\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.clothingItem.name]])]), _createElementVNode(\"div\", null, [_cache[13] || (_cache[13] = _createElementVNode(\"label\", {\n    \"class\": \"block text-sm font-medium text-neutral-700 mb-2\"\n  }, [_createTextVNode(\"衣物类别 \"), _createElementVNode(\"span\", {\n    \"class\": \"text-red-500\"\n  }, \"*\")], -1 /* CACHED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n      return $setup.clothingItem.categoryId = $event;\n    }),\n    \"class\": \"w-full px-4 py-3 rounded-xl border border-neutral-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none transition-all appearance-none bg-white\"\n  }, _toConsumableArray(_cache[12] || (_cache[12] = [_createStaticVNode(\"<option value=\\\"\\\">请选择类别</option><option value=\\\"1\\\">上装</option><option value=\\\"2\\\">下装</option><option value=\\\"3\\\">外套</option><option value=\\\"4\\\">鞋履</option><option value=\\\"5\\\">配饰</option><option value=\\\"6\\\">包包</option>\", 7)])), 512 /* NEED_PATCH */), [[_vModelSelect, $setup.clothingItem.categoryId]])]), _createElementVNode(\"div\", null, [_cache[15] || (_cache[15] = _createElementVNode(\"label\", {\n    \"class\": \"block text-sm font-medium text-neutral-700 mb-2\"\n  }, \"风格\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = function ($event) {\n      return $setup.clothingItem.style = $event;\n    }),\n    \"class\": \"w-full px-4 py-3 rounded-xl border border-neutral-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none transition-all appearance-none bg-white\"\n  }, _toConsumableArray(_cache[14] || (_cache[14] = [_createStaticVNode(\"<option value=\\\"\\\">请选择风格</option><option value=\\\"休闲\\\">休闲</option><option value=\\\"正式\\\">正式</option><option value=\\\"运动\\\">运动</option><option value=\\\"复古\\\">复古</option><option value=\\\"潮流\\\">潮流</option>\", 6)])), 512 /* NEED_PATCH */), [[_vModelSelect, $setup.clothingItem.style]])]), _createElementVNode(\"div\", _hoisted_5, [_cache[16] || (_cache[16] = _createElementVNode(\"label\", {\n    \"class\": \"block text-sm font-medium text-neutral-700 mb-2\"\n  }, [_createTextVNode(\"适用季节 \"), _createElementVNode(\"span\", {\n    \"class\": \"text-red-500\"\n  }, \"*\")], -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_6, [(_openBlock(), _createElementBlock(_Fragment, null, _renderList($setup.seasonOptions, function (seasonOption) {\n    return _createElementVNode(\"label\", {\n      key: seasonOption.value,\n      \"class\": _normalizeClass([\"flex flex-col items-center justify-center p-3 border border-neutral-200 rounded-lg hover:border-primary transition-colors cursor-pointer group\", {\n        'border-primary bg-primary/5': $setup.clothingItem.seasons.includes(seasonOption.value)\n      }])\n    }, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"checkbox\",\n      value: seasonOption.value,\n      \"onUpdate:modelValue\": _cache[3] || (_cache[3] = function ($event) {\n        return $setup.clothingItem.seasons = $event;\n      }),\n      \"class\": \"sr-only rounded text-primary focus:ring-primary\"\n    }, null, 8 /* PROPS */, _hoisted_7), [[_vModelCheckbox, $setup.clothingItem.seasons]]), _createElementVNode(\"div\", _hoisted_8, [_createVNode(_component_font_awesome_icon, {\n      icon: $setup.getSeasonIcon(seasonOption.value),\n      \"class\": \"text-primary\"\n    }, null, 8 /* PROPS */, [\"icon\"])]), _createElementVNode(\"span\", _hoisted_9, _toDisplayString(seasonOption.label), 1 /* TEXT */)], 2 /* CLASS */);\n  }), 64 /* STABLE_FRAGMENT */))])]), _createElementVNode(\"div\", null, [_cache[17] || (_cache[17] = _createElementVNode(\"label\", {\n    \"class\": \"block text-sm font-medium text-neutral-700 mb-2\"\n  }, \"颜色\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = function ($event) {\n      return $setup.clothingItem.color = $event;\n    }),\n    placeholder: \"例如：深蓝色\",\n    \"class\": \"w-full px-4 py-3 rounded-xl border border-neutral-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none transition-all\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.clothingItem.color]])]), _createElementVNode(\"div\", null, [_cache[18] || (_cache[18] = _createElementVNode(\"label\", {\n    \"class\": \"block text-sm font-medium text-neutral-700 mb-2\"\n  }, \"品牌（可选）\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = function ($event) {\n      return $setup.clothingItem.brand = $event;\n    }),\n    placeholder: \"例如：优衣库\",\n    \"class\": \"w-full px-4 py-3 rounded-xl border border-neutral-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none transition-all\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.clothingItem.brand]])])]), _createElementVNode(\"div\", _hoisted_10, [_cache[19] || (_cache[19] = _createElementVNode(\"label\", {\n    \"class\": \"block text-sm font-medium text-neutral-700 mb-2\"\n  }, \"备注（可选）\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = function ($event) {\n      return $setup.clothingItem.notes = $event;\n    }),\n    rows: \"3\",\n    placeholder: \"添加关于这件衣物的更多信息...\",\n    \"class\": \"w-full px-4 py-3 rounded-xl border border-neutral-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none transition-all resize-none\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.clothingItem.notes]])]), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"button\", {\n    onClick: $setup.handleCancel,\n    \"class\": \"px-6 py-3 border border-neutral-200 rounded-xl text-neutral-700 font-medium hover:bg-neutral-50 transition-colors min-w-[120px]\"\n  }, \" 取消 \"), _createElementVNode(\"button\", {\n    onClick: $setup.saveClothes,\n    \"class\": \"px-6 py-3 bg-primary text-white rounded-xl font-medium hover:bg-primary/90 transition-colors shadow-soft min-w-[120px] flex items-center justify-center\"\n  }, [_createVNode(_component_font_awesome_icon, {\n    icon: ['fas', 'save'],\n    \"class\": \"mr-2\"\n  }), _cache[20] || (_cache[20] = _createTextVNode(\" 保存衣物 \", -1 /* CACHED */))])])]);\n}","map":{"version":3,"names":["_createElementBlock","_hoisted_1","_createElementVNode","_createCommentVNode","_hoisted_2","_normalizeClass","$setup","isDragging","onClick","triggerFileInput","onDragover","_withModifiers","handleDragOver","onDragleave","handleDragLeave","onDrop","handleDrop","_hoisted_3","_createVNode","_component_font_awesome_icon","icon","type","ref","accept","onChange","handleFileChange","_hoisted_4","clothingItem","name","$event","placeholder","categoryId","style","_hoisted_5","_hoisted_6","_Fragment","_renderList","seasonOptions","seasonOption","key","value","seasons","includes","_hoisted_8","getSeasonIcon","_hoisted_9","_toDisplayString","label","color","brand","_hoisted_10","notes","rows","_hoisted_11","handleCancel","saveClothes"],"sources":["/Users/sunxiaokai/Desktop/stylevault-vue-project/src/components/form/UploadForm.vue"],"sourcesContent":["<template>\n  <div class=\"bg-white rounded-2xl shadow-medium p-6 md:p-8 max-w-4xl mx-auto\">\n    <div class=\"mb-8 text-center\">\n      <h3 class=\"text-2xl font-bold mb-2 text-neutral-800\">添加新衣物</h3>\n      <p class=\"text-neutral-500 max-w-md mx-auto\">上传衣物照片并填写详细信息，帮助系统更好地为你推荐搭配</p>\n    </div>\n    \n    <!-- 图片上传区域 -->\n    <div class=\"mb-10\">\n      <div class=\"flex items-center justify-between mb-3\">\n        <label class=\"block text-sm font-medium text-neutral-700\">衣物照片 <span class=\"text-red-500\">*</span></label>\n        <span class=\"text-xs text-neutral-500\">支持 JPG、PNG 格式，最大 5MB</span>\n      </div>\n      \n      <!-- 上传区域 -->\n      <div \n        class=\"border-2 border-dashed border-neutral-200 rounded-xl p-8 text-center hover:border-primary transition-colors cursor-pointer bg-neutral-50\"\n        @click=\"triggerFileInput\"\n        @dragover.prevent=\"handleDragOver\"\n        @dragleave.prevent=\"handleDragLeave\"\n        @drop.prevent=\"handleDrop\"\n        :class=\"{ 'border-primary bg-primary/5': isDragging }\"\n      >\n        <div class=\"w-16 h-16 mx-auto bg-primary/10 rounded-full flex items-center justify-center mb-4\">\n          <font-awesome-icon :icon=\"['fas', 'cloud-upload']\" class=\"text-primary text-2xl\" />\n        </div>\n        <h4 class=\"font-medium mb-1 text-neutral-700\">点击上传或拖放图片</h4>\n        <p class=\"text-sm text-neutral-500 mb-4\">建议尺寸 500×500</p>\n        <button class=\"px-4 py-2 bg-primary text-white rounded-lg text-sm font-medium hover:bg-primary/90 transition-colors\">\n          选择文件\n        </button>\n        <!-- 隐藏的文件输入 -->\n        <input \n          type=\"file\" \n          ref=\"fileInput\" \n          class=\"hidden\" \n          accept=\"image/jpeg,image/jpg,image/png\" \n          @change=\"handleFileChange\"\n        >\n      </div>\n    </div>\n    \n    <!-- 表单字段 -->\n    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-10\">\n      <div>\n        <label class=\"block text-sm font-medium text-neutral-700 mb-2\">衣物名称 <span class=\"text-red-500\">*</span></label>\n        <input type=\"text\" v-model=\"clothingItem.name\" placeholder=\"例如：黑色修身牛仔裤\" class=\"w-full px-4 py-3 rounded-xl border border-neutral-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none transition-all\">\n      </div>\n      \n      <div>\n        <label class=\"block text-sm font-medium text-neutral-700 mb-2\">衣物类别 <span class=\"text-red-500\">*</span></label>\n        <select v-model=\"clothingItem.categoryId\" class=\"w-full px-4 py-3 rounded-xl border border-neutral-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none transition-all appearance-none bg-white\">\n          <option value=\"\">请选择类别</option>\n          <option value=\"1\">上装</option>\n          <option value=\"2\">下装</option>\n          <option value=\"3\">外套</option>\n          <option value=\"4\">鞋履</option>\n          <option value=\"5\">配饰</option>\n          <option value=\"6\">包包</option>\n        </select>\n      </div>\n      \n      <div>\n        <label class=\"block text-sm font-medium text-neutral-700 mb-2\">风格</label>\n        <select v-model=\"clothingItem.style\" class=\"w-full px-4 py-3 rounded-xl border border-neutral-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none transition-all appearance-none bg-white\">\n          <option value=\"\">请选择风格</option>\n          <option value=\"休闲\">休闲</option>\n          <option value=\"正式\">正式</option>\n          <option value=\"运动\">运动</option>\n          <option value=\"复古\">复古</option>\n          <option value=\"潮流\">潮流</option>\n        </select>\n      </div>\n      \n      <div class=\"md:col-span-2\">\n        <label class=\"block text-sm font-medium text-neutral-700 mb-2\">适用季节 <span class=\"text-red-500\">*</span></label>\n        <div class=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n          <label v-for=\"seasonOption in seasonOptions\" :key=\"seasonOption.value\" class=\"flex flex-col items-center justify-center p-3 border border-neutral-200 rounded-lg hover:border-primary transition-colors cursor-pointer group\" :class=\"{ 'border-primary bg-primary/5': clothingItem.seasons.includes(seasonOption.value) }\">\n            <input type=\"checkbox\" :value=\"seasonOption.value\" v-model=\"clothingItem.seasons\" class=\"sr-only rounded text-primary focus:ring-primary\">\n            <div class=\"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mb-2 group-hover:bg-primary/20 transition-colors\">\n              <font-awesome-icon :icon=\"getSeasonIcon(seasonOption.value)\" class=\"text-primary\" />\n            </div>\n            <span class=\"text-sm font-medium\">{{ seasonOption.label }}</span>\n          </label>\n        </div>\n      </div>\n      \n      <div>\n        <label class=\"block text-sm font-medium text-neutral-700 mb-2\">颜色</label>\n        <input type=\"text\" v-model=\"clothingItem.color\" placeholder=\"例如：深蓝色\" class=\"w-full px-4 py-3 rounded-xl border border-neutral-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none transition-all\">\n      </div>\n      \n      <div>\n        <label class=\"block text-sm font-medium text-neutral-700 mb-2\">品牌（可选）</label>\n        <input type=\"text\" v-model=\"clothingItem.brand\" placeholder=\"例如：优衣库\" class=\"w-full px-4 py-3 rounded-xl border border-neutral-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none transition-all\">\n      </div>\n    </div>\n    \n    <div class=\"mb-10 md:col-span-2\">\n      <label class=\"block text-sm font-medium text-neutral-700 mb-2\">备注（可选）</label>\n      <textarea v-model=\"clothingItem.notes\" rows=\"3\" placeholder=\"添加关于这件衣物的更多信息...\" class=\"w-full px-4 py-3 rounded-xl border border-neutral-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none transition-all resize-none\"></textarea>\n    </div>\n    \n    <div class=\"flex justify-end space-x-4 pt-4 border-t border-neutral-100\">\n      <button @click=\"handleCancel\" class=\"px-6 py-3 border border-neutral-200 rounded-xl text-neutral-700 font-medium hover:bg-neutral-50 transition-colors min-w-[120px]\">\n        取消\n      </button>\n      <button @click=\"saveClothes\" class=\"px-6 py-3 bg-primary text-white rounded-xl font-medium hover:bg-primary/90 transition-colors shadow-soft min-w-[120px] flex items-center justify-center\">\n        <font-awesome-icon :icon=\"['fas', 'save']\" class=\"mr-2\" />\n        保存衣物\n      </button>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { reactive, ref } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport { useWardrobeStore } from \"../../stores/wardrobeStore\";\nimport { showToast } from '../../utils/toast';\n\nconst router = useRouter();\nconst wardrobeStore = useWardrobeStore();\n\n// 季节选项\nconst seasonOptions = [\n  { value: \"春季\", label: \"春季\" },\n  { value: \"夏季\", label: \"夏季\" },\n  { value: \"秋季\", label: \"秋季\" },\n  { value: \"冬季\", label: \"冬季\" }\n];\n\n// 表单数据\nconst clothingItem = reactive({\n  name: \"\",\n  categoryId: \"\",\n  style: \"\",\n  seasons: [], // 使用数组而不是字符串\n  color: \"\",\n  brand: \"\",\n  notes: \"\",\n  image: \"https://picsum.photos/seed/clothing-item/300/400\" // 默认图片\n});\n\n// 文件输入引用\nconst fileInput = ref(null);\nconst isDragging = ref(false);\n\n// 触发文件选择\nconst triggerFileInput = () => {\n  fileInput.value.click();\n};\n\n// 处理文件选择\nconst handleFileChange = (event) => {\n  const file = event.target.files[0];\n  if (file) {\n    processImageFile(file);\n  }\n};\n\n// 处理拖拽悬停\nconst handleDragOver = () => {\n  isDragging.value = true;\n};\n\n// 处理拖拽离开\nconst handleDragLeave = () => {\n  isDragging.value = false;\n};\n\n// 处理文件拖放\nconst handleDrop = (event) => {\n  isDragging.value = false;\n  const file = event.dataTransfer.files[0];\n  if (file && file.type.startsWith('image/')) {\n    processImageFile(file);\n  } else {\n    showToast(\"请上传图片文件\", \"error\");\n  }\n};\n\n// 处理图片文件\nconst processImageFile = (file) => {\n  // 验证文件类型\n  if (!file.type.match('image.*')) {\n    showToast(\"请上传图片文件\", \"error\");\n    return;\n  }\n  \n  // 验证文件大小（限制为5MB）\n  if (file.size > 5 * 1024 * 1024) {\n    showToast(\"图片大小不能超过5MB\", \"error\");\n    return;\n  }\n  \n  // 创建图片URL\n  const reader = new FileReader();\n  reader.onload = (e) => {\n    // 在实际应用中，这里应该上传图片到服务器并获取URL\n    // 现在我们使用读取的URL作为图片URL\n    clothingItem.image = e.target.result;\n    showToast(\"图片上传成功\", \"success\");\n  };\n  reader.readAsDataURL(file);\n};\n\n// 获取季节图标\nconst getSeasonIcon = (season) => {\n  switch(season) {\n    case \"春季\":\n      return ['fas', 'seedling'];\n    case \"夏季\":\n      return ['fas', 'sun'];\n    case \"秋季\":\n      return ['fas', 'leaf'];\n    case \"冬季\":\n      return ['fas', 'snowflake'];\n    default:\n      return ['fas', 'calendar'];\n  }\n};\n\n// 取消按钮处理函数\nconst handleCancel = () => {\n  console.log(\"取消按钮被点击\");\n  // 使用window.location进行页面跳转\n  window.location.href = \"/\";\n  console.log(\"使用window.location跳转已执行\");\n};\n\nconst saveClothes = async () => {\n  // 验证必填字段\n  if (!clothingItem.name || !clothingItem.categoryId) {\n    showToast(\"请填写衣物名称和类别\", \"error\");\n    return;\n  }\n  \n  // 验证季节选择\n  if (!clothingItem.seasons || clothingItem.seasons.length === 0) {\n    showToast(\"请选择至少一个适用季节\", \"error\");\n    return;\n  }\n\n  try {\n    // 根据categoryId设置category名称\n    const categoryMap = {\n      \"1\": \"上装\",\n      \"2\": \"下装\",\n      \"3\": \"外套\",\n      \"4\": \"鞋履\",\n      \"5\": \"配饰\",\n      \"6\": \"包包\"\n    };\n    \n    // 创建要提交的数据对象，包含所有必要字段\n    const itemToSubmit = {\n      ...clothingItem,\n      category: categoryMap[clothingItem.categoryId] || \"其他\",\n      purchaseDate: new Date().toISOString().split('T')[0], // 设置购买日期为今天\n      favorite: false // 默认不收藏\n    };\n    \n    // 调用 store 方法保存衣物\n    await wardrobeStore.addClothingItem(itemToSubmit);\n    showToast(\"衣物添加成功\", \"success\");\n\n    // 清空表单\n    clothingItem.name = \"\";\n    clothingItem.categoryId = \"\";\n    clothingItem.style = \"\";\n    clothingItem.seasons = []; // 重置为空数组\n    clothingItem.color = \"\";\n    clothingItem.brand = \"\";\n    clothingItem.notes = \"\";\n    // 重置图片\n    clothingItem.image = \"https://picsum.photos/seed/clothing-item/300/400\";\n\n    // 2秒后返回衣橱页面\n    setTimeout(() => {\n      router.push({ name: \"wardrobe\" });\n    }, 2000);\n  } catch (error) {\n    showToast(\"添加失败，请重试\", \"error\");\n    console.error(\"添加衣物失败:\", error);\n  }\n};\n</script>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}