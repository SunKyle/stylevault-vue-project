{"ast":null,"code":"function _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _iterableToArray(r) { if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nimport { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, Fragment as _Fragment, vShow as _vShow, createVNode as _createVNode, withDirectives as _withDirectives, withCtx as _withCtx, createBlock as _createBlock } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"py-10\"\n};\nvar _hoisted_2 = {\n  \"class\": \"container mx-auto px-4\"\n};\nvar _hoisted_3 = {\n  key: 0,\n  \"class\": \"flex justify-center items-center py-20\"\n};\nvar _hoisted_4 = {\n  \"class\": \"text-center py-20\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createBlock($setup[\"ContentLayout\"], null, {\n    \"default\": _withCtx(function () {\n      return [_createElementVNode(\"section\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createCommentVNode(\" 加载状态 \"), $setup.isLoading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, _toConsumableArray(_cache[1] || (_cache[1] = [_createElementVNode(\"div\", {\n        \"class\": \"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600\"\n      }, null, -1 /* CACHED */), _createElementVNode(\"span\", {\n        \"class\": \"ml-3 text-gray-600\"\n      }, \"加载搭配灵感中...\", -1 /* CACHED */)])))) : $setup.clothes.length === 0 || $setup.savedOutfits.length === 0 ? (_openBlock(), _createElementBlock(_Fragment, {\n        key: 1\n      }, [_createCommentVNode(\" 空状态 \"), _createElementVNode(\"div\", _hoisted_4, [_createCommentVNode(\" 无衣物状态 \"), $setup.clothes.length === 0 ? (_openBlock(), _createElementBlock(_Fragment, {\n        key: 0\n      }, [_cache[2] || (_cache[2] = _createElementVNode(\"div\", {\n        \"class\": \"text-gray-400 mb-4\"\n      }, [_createElementVNode(\"svg\", {\n        \"class\": \"w-24 h-24 mx-auto\",\n        fill: \"none\",\n        stroke: \"currentColor\",\n        viewBox: \"0 0 24 24\"\n      }, [_createElementVNode(\"path\", {\n        \"stroke-linecap\": \"round\",\n        \"stroke-linejoin\": \"round\",\n        \"stroke-width\": \"2\",\n        d: \"M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2h4a1 1 0 011 1v1a1 1 0 01-1 1h-1v12a2 2 0 01-2 2H5a2 2 0 01-2-2V7H2a1 1 0 01-1-1V5a1 1 0 011-1h4zM9 3v1h6V3H9zm6 3H9v12h6V6z\"\n      })])], -1 /* CACHED */)), _cache[3] || (_cache[3] = _createElementVNode(\"h3\", {\n        \"class\": \"text-lg font-medium text-gray-900 mb-2\"\n      }, \"暂无搭配灵感\", -1 /* CACHED */)), _cache[4] || (_cache[4] = _createElementVNode(\"p\", {\n        \"class\": \"text-gray-600 mb-4\"\n      }, \"先添加一些衣物，然后开始创建你的第一个搭配吧！\", -1 /* CACHED */)), _createElementVNode(\"button\", {\n        onClick: _cache[0] || (_cache[0] = function ($event) {\n          return _ctx.$router.push('/upload');\n        }),\n        \"class\": \"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700\"\n      }, \" 添加衣物 \")], 64 /* STABLE_FRAGMENT */)) : $setup.clothes.length > 0 && $setup.savedOutfits.length === 0 ? (_openBlock(), _createElementBlock(_Fragment, {\n        key: 1\n      }, [_createCommentVNode(\" 有衣物无搭配状态 \"), _cache[5] || (_cache[5] = _createElementVNode(\"div\", {\n        \"class\": \"text-gray-400 mb-4\"\n      }, [_createElementVNode(\"svg\", {\n        \"class\": \"w-24 h-24 mx-auto\",\n        fill: \"none\",\n        stroke: \"currentColor\",\n        viewBox: \"0 0 24 24\"\n      }, [_createElementVNode(\"path\", {\n        \"stroke-linecap\": \"round\",\n        \"stroke-linejoin\": \"round\",\n        \"stroke-width\": \"2\",\n        d: \"M12 6v6m0 0v6m0-6h6m-6 0H6\"\n      })])], -1 /* CACHED */)), _cache[6] || (_cache[6] = _createElementVNode(\"h3\", {\n        \"class\": \"text-lg font-medium text-gray-900 mb-2\"\n      }, \"还没有搭配方案\", -1 /* CACHED */)), _cache[7] || (_cache[7] = _createElementVNode(\"p\", {\n        \"class\": \"text-gray-600 mb-4\"\n      }, \"用你已有的衣物创建第一个搭配吧！\", -1 /* CACHED */))], 64 /* STABLE_FRAGMENT */)) : _createCommentVNode(\"v-if\", true)])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)) : $setup.clothes.length > 0 && $setup.savedOutfits.length > 0 ? (_openBlock(), _createElementBlock(_Fragment, {\n        key: 2\n      }, [_createCommentVNode(\" 主要内容 \"), _createElementVNode(\"div\", null, [_createCommentVNode(\" 已保存搭配展示区域 \"), _withDirectives(_createVNode($setup[\"SavedOutfits\"], {\n        loadMore: $setup.loadMoreOutfits,\n        onLoadOutfit: $setup.loadOutfit,\n        onDeleteOutfit: $setup.deleteOutfit,\n        onShareOutfit: $setup.shareOutfit,\n        onScrollToCreate: $setup.scrollToCreateSection\n      }, null, 8 /* PROPS */, [\"loadMore\", \"onLoadOutfit\", \"onDeleteOutfit\"]), [[_vShow, $setup.savedOutfits.length > 0]]), _createCommentVNode(\" 创建搭配区域 \"), _withDirectives(_createVNode($setup[\"OutfitCreator\"], null, null, 512 /* NEED_PATCH */), [[_vShow, $setup.clothes.length > 0]])])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)) : _createCommentVNode(\"v-if\", true)])])];\n    }),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["_createBlock","$setup","_createElementVNode","_hoisted_1","_hoisted_2","_createCommentVNode","isLoading","_createElementBlock","_hoisted_3","_toConsumableArray","_cache","clothes","length","savedOutfits","_Fragment","key","_hoisted_4","fill","stroke","viewBox","d","onClick","$event","_ctx","$router","push","_createVNode","loadMore","loadMoreOutfits","onLoadOutfit","loadOutfit","onDeleteOutfit","deleteOutfit","onShareOutfit","shareOutfit","onScrollToCreate","scrollToCreateSection"],"sources":["/Users/sunxiaokai/Desktop/stylevault-vue-project/src/views/InspirationView.vue"],"sourcesContent":["<template>\n  <ContentLayout>\n    <section class=\"py-10\">\n      <div class=\"container mx-auto px-4\">\n        <!-- 加载状态 -->\n        <div v-if=\"isLoading\" class=\"flex justify-center items-center py-20\">\n          <div class=\"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600\"></div>\n          <span class=\"ml-3 text-gray-600\">加载搭配灵感中...</span>\n        </div>\n\n        <!-- 空状态 -->\n        <div\n          v-else-if=\"clothes.length === 0 || savedOutfits.length === 0\"\n          class=\"text-center py-20\"\n        >\n          <!-- 无衣物状态 -->\n          <template v-if=\"clothes.length === 0\">\n            <div class=\"text-gray-400 mb-4\">\n              <svg class=\"w-24 h-24 mx-auto\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path\n                  stroke-linecap=\"round\"\n                  stroke-linejoin=\"round\"\n                  stroke-width=\"2\"\n                  d=\"M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2h4a1 1 0 011 1v1a1 1 0 01-1 1h-1v12a2 2 0 01-2 2H5a2 2 0 01-2-2V7H2a1 1 0 01-1-1V5a1 1 0 011-1h4zM9 3v1h6V3H9zm6 3H9v12h6V6z\"\n                ></path>\n              </svg>\n            </div>\n            <h3 class=\"text-lg font-medium text-gray-900 mb-2\">暂无搭配灵感</h3>\n            <p class=\"text-gray-600 mb-4\">先添加一些衣物，然后开始创建你的第一个搭配吧！</p>\n            <button\n              @click=\"$router.push('/upload')\"\n              class=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700\"\n            >\n              添加衣物\n            </button>\n          </template>\n\n          <!-- 有衣物无搭配状态 -->\n          <template v-else-if=\"clothes.length > 0 && savedOutfits.length === 0\">\n            <div class=\"text-gray-400 mb-4\">\n              <svg class=\"w-24 h-24 mx-auto\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path\n                  stroke-linecap=\"round\"\n                  stroke-linejoin=\"round\"\n                  stroke-width=\"2\"\n                  d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\"\n                ></path>\n              </svg>\n            </div>\n            <h3 class=\"text-lg font-medium text-gray-900 mb-2\">还没有搭配方案</h3>\n            <p class=\"text-gray-600 mb-4\">用你已有的衣物创建第一个搭配吧！</p>\n          </template>\n        </div>\n\n        <!-- 主要内容 -->\n        <div v-else-if=\"clothes.length > 0 && savedOutfits.length > 0\">\n          <!-- 已保存搭配展示区域 -->\n          <SavedOutfits\n            v-show=\"savedOutfits.length > 0\"\n            :loadMore=\"loadMoreOutfits\"\n            :onLoadOutfit=\"loadOutfit\"\n            :onDeleteOutfit=\"deleteOutfit\"\n            :onShareOutfit=\"shareOutfit\"\n            @scroll-to-create=\"scrollToCreateSection\"\n          />\n\n          <!-- 创建搭配区域 -->\n          <OutfitCreator v-show=\"clothes.length > 0\" />\n        </div>\n      </div>\n    </section>\n  </ContentLayout>\n</template>\n\n<script setup>\n  import { onMounted } from 'vue';\n  import { useInspirationStore } from '@/stores/inspirationStore';\n  import SavedOutfits from '@/components/inspiration/SavedOutfits.vue';\n  import OutfitCreator from '@/components/inspiration/OutfitCreator.vue';\n  import ContentLayout from '@/components/layout/ContentLayout.vue';\n\n  const inspirationStore = useInspirationStore();\n\n  // 直接从store解构，避免大数据传递\n  const {\n    clothes,\n    savedOutfits,\n    categories,\n    tags,\n    filteredClothes,\n    visibleOutfits,\n    selectedClothes,\n    isLoading,\n    pagination,\n  } = inspirationStore;\n\n  // 方法直接委托给store\n  const {\n    setFilter,\n    resetFilters,\n    toggleCloth,\n    removeCloth,\n    resetClothes,\n    loadMoreOutfits,\n    saveOutfit,\n    loadOutfit,\n    deleteOutfit,\n    initialize,\n  } = inspirationStore;\n\n  const scrollToCreateSection = () => {\n    const element = document.querySelector('.outfit-creator');\n    element?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  const shareOutfit = async outfit => {\n    const shareData = {\n      title: `搭配方案: ${outfit.title}`,\n      text: `分享我的穿搭方案：${outfit.description || '无描述'}`,\n      url: window.location.href,\n    };\n\n    try {\n      if (navigator.share) {\n        await navigator.share(shareData);\n      } else {\n        await navigator.clipboard.writeText(\n          `${shareData.title}\\n${shareData.text}\\n${shareData.url}`\n        );\n        alert('已复制到剪贴板！');\n      }\n    } catch (error) {\n      console.error('分享失败:', error);\n      alert('分享失败，请重试');\n    }\n  };\n\n  // 初始化数据\n  onMounted(() => {\n    initialize();\n  });\n</script>\n\n<style scoped>\n  /* 响应式样式优化 */\n  @media (max-width: 768px) {\n    section {\n      padding-top: 1rem;\n      padding-bottom: 1rem;\n    }\n\n    .container {\n      padding-left: 1rem;\n      padding-right: 1rem;\n    }\n  }\n\n  /* 加载动画优化 */\n  .animate-spin {\n    animation: spin 1s linear infinite;\n  }\n\n  @keyframes spin {\n    from {\n      transform: rotate(0deg);\n    }\n    to {\n      transform: rotate(360deg);\n    }\n  }\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}