{"ast":null,"code":"function _regenerator() { /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */ var e, t, r = \"function\" == typeof Symbol ? Symbol : {}, n = r.iterator || \"@@iterator\", o = r.toStringTag || \"@@toStringTag\"; function i(r, n, o, i) { var c = n && n.prototype instanceof Generator ? n : Generator, u = Object.create(c.prototype); return _regeneratorDefine2(u, \"_invoke\", function (r, n, o) { var i, c, u, f = 0, p = o || [], y = !1, G = { p: 0, n: 0, v: e, a: d, f: d.bind(e, 4), d: function d(t, r) { return i = t, c = 0, u = e, G.n = r, a; } }; function d(r, n) { for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) { var o, i = p[t], d = G.p, l = i[2]; r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0)); } if (o || r > 1) return a; throw y = !0, n; } return function (o, p, l) { if (f > 1) throw TypeError(\"Generator is already running\"); for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) { i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u); try { if (f = 2, i) { if (c || (o = \"next\"), t = i[o]) { if (!(t = t.call(i, u))) throw TypeError(\"iterator result is not an object\"); if (!t.done) return t; u = t.value, c < 2 && (c = 0); } else 1 === c && (t = i[\"return\"]) && t.call(i), c < 2 && (u = TypeError(\"The iterator does not provide a '\" + o + \"' method\"), c = 1); i = e; } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break; } catch (t) { i = e, c = 1, u = t; } finally { f = 1; } } return { value: t, done: y }; }; }(r, o, i), !0), u; } var a = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} t = Object.getPrototypeOf; var c = [][n] ? t(t([][n]())) : (_regeneratorDefine2(t = {}, n, function () { return this; }), t), u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c); function f(e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, _regeneratorDefine2(e, o, \"GeneratorFunction\")), e.prototype = Object.create(u), e; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, _regeneratorDefine2(u, \"constructor\", GeneratorFunctionPrototype), _regeneratorDefine2(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = \"GeneratorFunction\", _regeneratorDefine2(GeneratorFunctionPrototype, o, \"GeneratorFunction\"), _regeneratorDefine2(u), _regeneratorDefine2(u, o, \"Generator\"), _regeneratorDefine2(u, n, function () { return this; }), _regeneratorDefine2(u, \"toString\", function () { return \"[object Generator]\"; }), (_regenerator = function _regenerator() { return { w: i, m: f }; })(); }\nfunction _regeneratorDefine2(e, r, n, t) { var i = Object.defineProperty; try { i({}, \"\", {}); } catch (e) { i = 0; } _regeneratorDefine2 = function _regeneratorDefine(e, r, n, t) { function o(r, n) { _regeneratorDefine2(e, r, function (e) { return this._invoke(r, n, e); }); } r ? i ? i(e, r, { value: n, enumerable: !t, configurable: !t, writable: !t }) : e[r] = n : (o(\"next\", 0), o(\"throw\", 1), o(\"return\", 2)); }, _regeneratorDefine2(e, r, n, t); }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n); } _next(void 0); }); }; }\nfunction _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _iterableToArray(r) { if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nimport { ref, computed, onMounted, watch } from 'vue';\nimport { useClothingStore } from '@/stores/clothingStore';\nimport { useOutfitStore } from '@/stores/outfitStore';\nimport SavedOutfits from '@/components/inspiration/SavedOutfits.vue';\nimport OutfitCreator from '@/components/inspiration/OutfitCreator.vue';\nimport ContentLayout from '@/components/layout/ContentLayout.vue';\nexport default {\n  __name: 'InspirationView',\n  setup: function setup(__props, _ref) {\n    var __expose = _ref.expose;\n    __expose();\n    var clothingStore = useClothingStore();\n    var outfitStore = useOutfitStore();\n    var categories = computed(function () {\n      return ['全部'].concat(_toConsumableArray(clothingStore.categories.map(function (c) {\n        return c.name;\n      })));\n    });\n\n    // 核心状态管理\n    var isLoading = ref(true);\n\n    // 从store获取数据\n    var clothes = computed(function () {\n      return clothingStore.clothingItems;\n    });\n    var savedOutfits = computed(function () {\n      return outfitStore.allOutfits;\n    });\n\n    // 懒加载状态\n    var visibleOutfits = ref([]);\n    var pageSize = ref(12);\n    var hasMore = ref(true);\n\n    // 标签计算 - 使用Set去重，优化性能\n    var tags = computed(function () {\n      var uniqueTags = new Set(['最近穿着']);\n      clothes.value.forEach(function (item) {\n        if (Array.isArray(item.tags)) {\n          item.tags.forEach(function (tag) {\n            return uniqueTags.add(tag);\n          });\n        }\n      });\n      return Array.from(uniqueTags);\n    });\n    var activeCategory = ref('全部');\n    var activeTag = ref('');\n    var selectedClothes = ref([]);\n\n    // 懒加载方法\n    function updateVisibleOutfits() {\n      var start = 0;\n      var end = pageSize.value;\n      visibleOutfits.value = savedOutfits.value.slice(start, end);\n      hasMore.value = end < savedOutfits.value.length;\n    }\n    function loadMoreOutfits() {\n      if (!hasMore.value) return;\n      var currentLength = visibleOutfits.value.length;\n      var newItems = savedOutfits.value.slice(currentLength, currentLength + pageSize.value);\n      visibleOutfits.value = [].concat(_toConsumableArray(visibleOutfits.value), _toConsumableArray(newItems));\n      hasMore.value = visibleOutfits.value.length < savedOutfits.value.length;\n    }\n\n    // 数据初始化\n    onMounted(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee() {\n      var promises, _t;\n      return _regenerator().w(function (_context) {\n        while (1) switch (_context.p = _context.n) {\n          case 0:\n            _context.p = 0;\n            promises = [outfitStore.fetchOutfits()]; // 仅当数据不存在时获取\n            if (clothingStore.categories.length === 0) {\n              promises.push(clothingStore.fetchCategories());\n            }\n            if (clothingStore.clothingItems.length === 0) {\n              promises.push(clothingStore.fetchClothingItems());\n            }\n            _context.n = 1;\n            return Promise.all(promises);\n          case 1:\n            updateVisibleOutfits();\n            _context.n = 3;\n            break;\n          case 2:\n            _context.p = 2;\n            _t = _context.v;\n            console.error('加载数据失败:', _t);\n          case 3:\n            _context.p = 3;\n            isLoading.value = false;\n            return _context.f(3);\n          case 4:\n            return _context.a(2);\n        }\n      }, _callee, null, [[0, 2, 3, 4]]);\n    })));\n\n    // 监听搭配数据变化，更新可见数据\n    watch(function () {\n      return savedOutfits.value;\n    }, updateVisibleOutfits, {\n      deep: true\n    });\n\n    // 衣物筛选 - 简洁的条件判断\n    var filteredClothes = computed(function () {\n      return clothes.value.filter(function (item) {\n        var _item$tags;\n        var matchCategory = activeCategory.value === '全部' || item.category === activeCategory.value;\n        var matchTag = !activeTag.value || ((_item$tags = item.tags) === null || _item$tags === void 0 ? void 0 : _item$tags.includes(activeTag.value));\n        return matchCategory && matchTag;\n      });\n    });\n\n    // 操作方法 - 简洁实用\n    var toggleCloth = function toggleCloth(item) {\n      var index = selectedClothes.value.findIndex(function (i) {\n        return i.id === item.id;\n      });\n      index === -1 ? selectedClothes.value.push(item) : selectedClothes.value.splice(index, 1);\n    };\n    var removeCloth = function removeCloth(idx) {\n      return selectedClothes.value.splice(idx, 1);\n    };\n    var resetClothes = function resetClothes() {\n      return selectedClothes.value = [];\n    };\n    var scrollToCreateSection = function scrollToCreateSection() {\n      var element = document.querySelector('.outfit-creator');\n      element === null || element === void 0 || element.scrollIntoView({\n        behavior: 'smooth'\n      });\n    };\n\n    // 保存搭配\n    function saveOutfit(_x) {\n      return _saveOutfit.apply(this, arguments);\n    }\n    function _saveOutfit() {\n      _saveOutfit = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee2(outfitInfo) {\n        var newOutfit, _t2;\n        return _regenerator().w(function (_context2) {\n          while (1) switch (_context2.p = _context2.n) {\n            case 0:\n              if (!(selectedClothes.value.length === 0)) {\n                _context2.n = 1;\n                break;\n              }\n              alert('请至少选择一件衣物');\n              return _context2.a(2);\n            case 1:\n              newOutfit = {\n                title: outfitInfo.name,\n                description: outfitInfo.description || '',\n                items: _toConsumableArray(selectedClothes.value),\n                occasion: outfitInfo.scene || '日常',\n                tag: outfitInfo.tag || '未分类',\n                liked: false,\n                likes: 0,\n                createdAt: new Date().toISOString()\n              };\n              _context2.p = 2;\n              _context2.n = 3;\n              return outfitStore.addOutfit(newOutfit);\n            case 3:\n              alert('穿搭方案已保存！');\n              resetClothes();\n              _context2.n = 5;\n              break;\n            case 4:\n              _context2.p = 4;\n              _t2 = _context2.v;\n              console.error('保存搭配失败:', _t2);\n              alert('保存失败，请重试');\n            case 5:\n              return _context2.a(2);\n          }\n        }, _callee2, null, [[2, 4]]);\n      }));\n      return _saveOutfit.apply(this, arguments);\n    }\n    function loadOutfit(outfit) {\n      selectedClothes.value = Array.isArray(outfit.items) ? _toConsumableArray(outfit.items) : [];\n    }\n    function deleteOutfit(_x2) {\n      return _deleteOutfit.apply(this, arguments);\n    }\n    function _deleteOutfit() {\n      _deleteOutfit = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee3(outfit) {\n        var _t3;\n        return _regenerator().w(function (_context3) {\n          while (1) switch (_context3.p = _context3.n) {\n            case 0:\n              if (!confirm('确定要删除这个搭配方案吗？')) {\n                _context3.n = 4;\n                break;\n              }\n              _context3.p = 1;\n              _context3.n = 2;\n              return outfitStore.removeOutfit(outfit.title);\n            case 2:\n              _context3.n = 4;\n              break;\n            case 3:\n              _context3.p = 3;\n              _t3 = _context3.v;\n              console.error('删除搭配失败:', _t3);\n              alert('删除失败，请重试');\n            case 4:\n              return _context3.a(2);\n          }\n        }, _callee3, null, [[1, 3]]);\n      }));\n      return _deleteOutfit.apply(this, arguments);\n    }\n    function shareOutfit(_x3) {\n      return _shareOutfit.apply(this, arguments);\n    }\n    function _shareOutfit() {\n      _shareOutfit = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee4(outfit) {\n        var shareData, shareText, _t4;\n        return _regenerator().w(function (_context4) {\n          while (1) switch (_context4.p = _context4.n) {\n            case 0:\n              _context4.p = 0;\n              shareData = {\n                title: \"\\u642D\\u914D\\u65B9\\u6848: \".concat(outfit.title),\n                text: \"\\u5206\\u4EAB\\u6211\\u7684\\u7A7F\\u642D\\u65B9\\u6848\\uFF1A\".concat(outfit.description || '无描述'),\n                url: window.location.href\n              };\n              if (!navigator.share) {\n                _context4.n = 2;\n                break;\n              }\n              _context4.n = 1;\n              return navigator.share(shareData);\n            case 1:\n              _context4.n = 4;\n              break;\n            case 2:\n              // 回退方案：复制到剪贴板\n              shareText = \"\".concat(shareData.title, \"\\n\").concat(shareData.text, \"\\n\").concat(shareData.url);\n              _context4.n = 3;\n              return navigator.clipboard.writeText(shareText);\n            case 3:\n              alert('已复制到剪贴板！');\n            case 4:\n              _context4.n = 6;\n              break;\n            case 5:\n              _context4.p = 5;\n              _t4 = _context4.v;\n              console.error('分享失败:', _t4);\n              alert('分享失败，请重试');\n            case 6:\n              return _context4.a(2);\n          }\n        }, _callee4, null, [[0, 5]]);\n      }));\n      return _shareOutfit.apply(this, arguments);\n    }\n    var __returned__ = {\n      clothingStore: clothingStore,\n      outfitStore: outfitStore,\n      categories: categories,\n      isLoading: isLoading,\n      clothes: clothes,\n      savedOutfits: savedOutfits,\n      visibleOutfits: visibleOutfits,\n      pageSize: pageSize,\n      hasMore: hasMore,\n      tags: tags,\n      activeCategory: activeCategory,\n      activeTag: activeTag,\n      selectedClothes: selectedClothes,\n      updateVisibleOutfits: updateVisibleOutfits,\n      loadMoreOutfits: loadMoreOutfits,\n      filteredClothes: filteredClothes,\n      toggleCloth: toggleCloth,\n      removeCloth: removeCloth,\n      resetClothes: resetClothes,\n      scrollToCreateSection: scrollToCreateSection,\n      saveOutfit: saveOutfit,\n      loadOutfit: loadOutfit,\n      deleteOutfit: deleteOutfit,\n      shareOutfit: shareOutfit,\n      ref: ref,\n      computed: computed,\n      onMounted: onMounted,\n      watch: watch,\n      get useClothingStore() {\n        return useClothingStore;\n      },\n      get useOutfitStore() {\n        return useOutfitStore;\n      },\n      SavedOutfits: SavedOutfits,\n      OutfitCreator: OutfitCreator,\n      ContentLayout: ContentLayout\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_regeneratorDefine","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","isArray","ref","computed","onMounted","watch","useClothingStore","useOutfitStore","SavedOutfits","OutfitCreator","ContentLayout","clothingStore","outfitStore","categories","concat","map","isLoading","clothes","clothingItems","savedOutfits","allOutfits","visibleOutfits","pageSize","hasMore","tags","uniqueTags","Set","forEach","item","tag","add","activeCategory","activeTag","selectedClothes","updateVisibleOutfits","start","end","loadMoreOutfits","currentLength","newItems","_callee","promises","_t","_context","fetchOutfits","push","fetchCategories","fetchClothingItems","all","console","error","deep","filteredClothes","filter","_item$tags","matchCategory","category","matchTag","includes","toggleCloth","index","findIndex","id","splice","removeCloth","idx","resetClothes","scrollToCreateSection","element","document","querySelector","scrollIntoView","behavior","saveOutfit","_x","_saveOutfit","_callee2","outfitInfo","newOutfit","_t2","_context2","alert","title","description","items","occasion","scene","liked","likes","createdAt","Date","toISOString","addOutfit","loadOutfit","outfit","deleteOutfit","_x2","_deleteOutfit","_callee3","_t3","_context3","confirm","removeOutfit","shareOutfit","_x3","_shareOutfit","_callee4","shareData","shareText","_t4","_context4","text","url","window","location","href","navigator","share","clipboard","writeText"],"sources":["/Users/sunxiaokai/Desktop/stylevault-vue-project/src/views/InspirationView.vue"],"sourcesContent":["<template>\n  <ContentLayout>\n    <section class=\"py-10\">\n      <div class=\"container mx-auto px-4\">\n        <!-- 加载状态 -->\n        <div v-if=\"isLoading\" class=\"flex justify-center items-center py-20\">\n          <div class=\"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600\"></div>\n          <span class=\"ml-3 text-gray-600\">加载搭配灵感中...</span>\n        </div>\n\n        <!-- 空状态 -->\n        <div v-else-if=\"!isLoading\" class=\"text-center py-20\">\n          <!-- 无衣物状态 -->\n          <template v-if=\"clothes.length === 0\">\n            <div class=\"text-gray-400 mb-4\">\n              <svg class=\"w-24 h-24 mx-auto\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path\n                  stroke-linecap=\"round\"\n                  stroke-linejoin=\"round\"\n                  stroke-width=\"2\"\n                  d=\"M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2h4a1 1 0 011 1v1a1 1 0 01-1 1h-1v12a2 2 0 01-2 2H5a2 2 0 01-2-2V7H2a1 1 0 01-1-1V5a1 1 0 011-1h4zM9 3v1h6V3H9zm6 3H9v12h6V6z\"\n                ></path>\n              </svg>\n            </div>\n            <h3 class=\"text-lg font-medium text-gray-900 mb-2\">暂无搭配灵感</h3>\n            <p class=\"text-gray-600 mb-4\">先添加一些衣物，然后开始创建你的第一个搭配吧！</p>\n            <button\n              @click=\"$router.push('/upload')\"\n              class=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700\"\n            >\n              添加衣物\n            </button>\n          </template>\n\n          <!-- 有衣物无搭配状态 -->\n          <template v-else>\n            <div class=\"text-gray-400 mb-4\">\n              <svg class=\"w-24 h-24 mx-auto\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path\n                  stroke-linecap=\"round\"\n                  stroke-linejoin=\"round\"\n                  stroke-width=\"2\"\n                  d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\"\n                ></path>\n              </svg>\n            </div>\n            <h3 class=\"text-lg font-medium text-gray-900 mb-2\">还没有搭配方案</h3>\n            <p class=\"text-gray-600 mb-4\">用你已有的衣物创建第一个搭配吧！</p>\n          </template>\n        </div>\n\n        <!-- 主要内容 -->\n        <div v-else>\n          <!-- 已保存搭配展示区域 -->\n          <SavedOutfits\n            v-show=\"savedOutfits.length > 0\"\n            :savedOutfits=\"visibleOutfits\"\n            :allOutfits=\"savedOutfits\"\n            :hasMore=\"hasMore\"\n            :isLoading=\"isLoading\"\n            @load-outfit=\"loadOutfit\"\n            @delete-outfit=\"deleteOutfit\"\n            @share-outfit=\"shareOutfit\"\n            @load-more=\"loadMoreOutfits\"\n            @scroll-to-create=\"scrollToCreateSection\"\n          />\n\n          <!-- 创建搭配区域 -->\n          <OutfitCreator\n            v-show=\"clothes.length > 0\"\n            :selectedClothes=\"selectedClothes\"\n            :clothes=\"clothes\"\n            :categories=\"categories\"\n            :tags=\"tags\"\n            :activeCategory=\"activeCategory\"\n            :activeTag=\"activeTag\"\n            :filteredClothes=\"filteredClothes\"\n            :isLoading=\"isLoading\"\n            @toggle-cloth=\"toggleCloth\"\n            @remove-cloth=\"removeCloth\"\n            @reset-clothes=\"resetClothes\"\n            @save-outfit=\"saveOutfit\"\n            @category-change=\"activeCategory = $event\"\n            @tag-change=\"activeTag = $event\"\n            @reset-filters=\"\n              activeCategory = '全部';\n              activeTag = '';\n            \"\n          />\n        </div>\n      </div>\n    </section>\n  </ContentLayout>\n</template>\n\n<script setup>\n  import { ref, computed, onMounted, watch } from 'vue';\n  import { useClothingStore } from '@/stores/clothingStore';\n  import { useOutfitStore } from '@/stores/outfitStore';\n  import SavedOutfits from '@/components/inspiration/SavedOutfits.vue';\n  import OutfitCreator from '@/components/inspiration/OutfitCreator.vue';\n  import ContentLayout from '@/components/layout/ContentLayout.vue';\n\n  const clothingStore = useClothingStore();\n  const outfitStore = useOutfitStore();\n  const categories = computed(() => ['全部', ...clothingStore.categories.map(c => c.name)]);\n\n  // 核心状态管理\n  const isLoading = ref(true);\n\n  // 从store获取数据\n  const clothes = computed(() => clothingStore.clothingItems);\n  const savedOutfits = computed(() => outfitStore.allOutfits);\n\n  // 懒加载状态\n  const visibleOutfits = ref([]);\n  const pageSize = ref(12);\n  const hasMore = ref(true);\n\n  // 标签计算 - 使用Set去重，优化性能\n  const tags = computed(() => {\n    const uniqueTags = new Set(['最近穿着']);\n    clothes.value.forEach(item => {\n      if (Array.isArray(item.tags)) {\n        item.tags.forEach(tag => uniqueTags.add(tag));\n      }\n    });\n    return Array.from(uniqueTags);\n  });\n  const activeCategory = ref('全部');\n  const activeTag = ref('');\n  const selectedClothes = ref([]);\n\n  // 懒加载方法\n  function updateVisibleOutfits() {\n    const start = 0;\n    const end = pageSize.value;\n    visibleOutfits.value = savedOutfits.value.slice(start, end);\n    hasMore.value = end < savedOutfits.value.length;\n  }\n\n  function loadMoreOutfits() {\n    if (!hasMore.value) return;\n\n    const currentLength = visibleOutfits.value.length;\n    const newItems = savedOutfits.value.slice(currentLength, currentLength + pageSize.value);\n    visibleOutfits.value = [...visibleOutfits.value, ...newItems];\n    hasMore.value = visibleOutfits.value.length < savedOutfits.value.length;\n  }\n\n  // 数据初始化\n  onMounted(async () => {\n    try {\n      const promises = [outfitStore.fetchOutfits()];\n\n      // 仅当数据不存在时获取\n      if (clothingStore.categories.length === 0) {\n        promises.push(clothingStore.fetchCategories());\n      }\n      if (clothingStore.clothingItems.length === 0) {\n        promises.push(clothingStore.fetchClothingItems());\n      }\n\n      await Promise.all(promises);\n      updateVisibleOutfits();\n    } catch (error) {\n      console.error('加载数据失败:', error);\n    } finally {\n      isLoading.value = false;\n    }\n  });\n\n  // 监听搭配数据变化，更新可见数据\n  watch(() => savedOutfits.value, updateVisibleOutfits, { deep: true });\n\n  // 衣物筛选 - 简洁的条件判断\n  const filteredClothes = computed(() => {\n    return clothes.value.filter(item => {\n      const matchCategory = activeCategory.value === '全部' || item.category === activeCategory.value;\n      const matchTag = !activeTag.value || (item.tags?.includes(activeTag.value));\n      return matchCategory && matchTag;\n    });\n  });\n\n  // 操作方法 - 简洁实用\n  const toggleCloth = (item) => {\n    const index = selectedClothes.value.findIndex(i => i.id === item.id);\n    index === -1 ? selectedClothes.value.push(item) : selectedClothes.value.splice(index, 1);\n  };\n\n  const removeCloth = (idx) => selectedClothes.value.splice(idx, 1);\n  const resetClothes = () => (selectedClothes.value = []);\n\n  const scrollToCreateSection = () => {\n    const element = document.querySelector('.outfit-creator');\n    element?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  // 保存搭配\n  async function saveOutfit(outfitInfo) {\n    if (selectedClothes.value.length === 0) {\n      alert('请至少选择一件衣物');\n      return;\n    }\n\n    const newOutfit = {\n      title: outfitInfo.name,\n      description: outfitInfo.description || '',\n      items: [...selectedClothes.value],\n      occasion: outfitInfo.scene || '日常',\n      tag: outfitInfo.tag || '未分类',\n      liked: false,\n      likes: 0,\n      createdAt: new Date().toISOString(),\n    };\n\n    try {\n      await outfitStore.addOutfit(newOutfit);\n      alert('穿搭方案已保存！');\n      resetClothes();\n    } catch (error) {\n      console.error('保存搭配失败:', error);\n      alert('保存失败，请重试');\n    }\n  }\n\n  function loadOutfit(outfit) {\n    selectedClothes.value = Array.isArray(outfit.items) ? [...outfit.items] : [];\n  }\n\n  async function deleteOutfit(outfit) {\n    if (confirm('确定要删除这个搭配方案吗？')) {\n      try {\n        await outfitStore.removeOutfit(outfit.title);\n      } catch (error) {\n        console.error('删除搭配失败:', error);\n        alert('删除失败，请重试');\n      }\n    }\n  }\n\n  async function shareOutfit(outfit) {\n    try {\n      const shareData = {\n        title: `搭配方案: ${outfit.title}`,\n        text: `分享我的穿搭方案：${outfit.description || '无描述'}`,\n        url: window.location.href,\n      };\n\n      if (navigator.share) {\n        await navigator.share(shareData);\n      } else {\n        // 回退方案：复制到剪贴板\n        const shareText = `${shareData.title}\\n${shareData.text}\\n${shareData.url}`;\n        await navigator.clipboard.writeText(shareText);\n        alert('已复制到剪贴板！');\n      }\n    } catch (error) {\n      console.error('分享失败:', error);\n      alert('分享失败，请重试');\n    }\n  }\n</script>\n\n<style scoped>\n  /* 响应式样式优化 */\n  @media (max-width: 768px) {\n    section {\n      padding-top: 1rem;\n      padding-bottom: 1rem;\n    }\n\n    .container {\n      padding-left: 1rem;\n      padding-right: 1rem;\n    }\n  }\n\n  /* 加载动画优化 */\n  .animate-spin {\n    animation: spin 1s linear infinite;\n  }\n\n  @keyframes spin {\n    from {\n      transform: rotate(0deg);\n    }\n    to {\n      transform: rotate(360deg);\n    }\n  }\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}