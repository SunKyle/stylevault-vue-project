{"ast":null,"code":"import { computed } from 'vue';\nexport default {\n  __name: 'ClothingSelectionPanel',\n  props: {\n    categories: {\n      type: Array,\n      \"default\": function _default() {\n        return [];\n      }\n    },\n    tags: {\n      type: Array,\n      \"default\": function _default() {\n        return [];\n      }\n    },\n    activeCategory: {\n      type: String,\n      \"default\": '全部'\n    },\n    activeTag: {\n      type: String,\n      \"default\": ''\n    },\n    clothes: {\n      type: Array,\n      \"default\": function _default() {\n        return [];\n      }\n    },\n    filteredClothes: {\n      type: Array,\n      \"default\": function _default() {\n        return [];\n      }\n    },\n    selectedClothes: {\n      type: Array,\n      \"default\": function _default() {\n        return [];\n      }\n    }\n  },\n  emits: ['category-change', 'tag-change', 'toggle-cloth', 'reset-filters'],\n  setup: function setup(__props, _ref) {\n    var __expose = _ref.expose;\n    __expose();\n    var props = __props;\n\n    // 根据分类对标签进行分组\n    var groupedTags = computed(function () {\n      // 根据衣物分类对标签进行分组\n      var result = {};\n\n      // 如果没有标签数据，返回空对象\n      if (!props.tags || props.tags.length === 0) {\n        return result;\n      }\n\n      // 根据衣物类型对标签进行分组\n      props.categories.forEach(function (category) {\n        if (category === '全部') return; // 跳过\"全部\"分类\n\n        // 根据分类筛选相关标签\n        var categoryTags = props.tags.filter(function (tag) {\n          // 这里可以根据实际业务逻辑判断标签是否属于该分类\n          // 例如：标签名包含分类名，或者有其他映射关系\n          return tag.toLowerCase().includes(category.toLowerCase()) || category === '上衣' && ['短袖', '长袖', '衬衫', 'T恤', '毛衣'].some(function (t) {\n            return tag.includes(t);\n          }) || category === '下装' && ['短裤', '长裤', '裙子', '牛仔裤', '休闲裤'].some(function (t) {\n            return tag.includes(t);\n          }) || category === '外套' && ['夹克', '风衣', '大衣', '羽绒服'].some(function (t) {\n            return tag.includes(t);\n          }) || category === '鞋子' && ['运动鞋', '皮鞋', '靴子', '凉鞋'].some(function (t) {\n            return tag.includes(t);\n          }) || category === '配饰' && ['帽子', '围巾', '手套', '眼镜', '包包'].some(function (t) {\n            return tag.includes(t);\n          });\n        });\n        if (categoryTags.length > 0) {\n          result[category] = categoryTags;\n        }\n      });\n\n      // 添加一个\"其他\"分类，存放不属于任何分类的标签\n      var usedTags = Object.values(result).flat();\n      var otherTags = props.tags.filter(function (tag) {\n        return !usedTags.includes(tag);\n      });\n      if (otherTags.length > 0) {\n        result['其他'] = otherTags;\n      }\n      return result;\n    });\n    var __returned__ = {\n      props: props,\n      groupedTags: groupedTags,\n      computed: computed\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["computed","props","__props","groupedTags","result","tags","length","categories","forEach","category","categoryTags","filter","tag","toLowerCase","includes","some","t","usedTags","Object","values","flat","otherTags"],"sources":["/Users/sunxiaokai/Desktop/stylevault-vue-project/src/components/features/inspiration/ClothingSelectionPanel.vue"],"sourcesContent":["<template>\n  <div class=\"bg-gradient-to-br from-white to-neutral-50 rounded-2xl shadow-lg overflow-hidden border border-neutral-100 transform transition-all duration-300 hover:shadow-xl\">\n    <div class=\"bg-gradient-to-r from-primary/10 to-secondary/10 p-5 border-b border-neutral-100\">\n      <h3 class=\"font-bold text-lg flex items-center text-neutral-800\">\n        <div class=\"w-8 h-8 rounded-full bg-gradient-to-r from-primary to-secondary flex items-center justify-center mr-2 shadow-sm\">\n          <font-awesome-icon icon=\"tshirt\" class=\"text-white text-sm\" />\n        </div>\n        选择衣物\n      </h3>\n    </div>\n\n    <div class=\"p-5\">\n      <!-- 过滤工具栏 -->\n      <div class=\"bg-gradient-to-br from-white to-neutral-50 rounded-2xl p-5 mb-6 border border-neutral-100 shadow-sm\">\n        <!-- 分类选项卡 -->\n        <div class=\"mb-4\">\n          <h4 class=\"text-xs font-medium text-neutral-500 mb-3 uppercase tracking-wider\">衣物分类</h4>\n          <div class=\"flex overflow-x-auto pb-1 scrollbar-thin scrollbar-thumb-neutral-200 scrollbar-track-transparent -mx-1 px-1\">\n            <button v-for=\"cat in categories\" :key=\"cat\" class=\"px-4 py-2.5 font-medium whitespace-nowrap text-sm rounded-xl mx-1 transition-all duration-300\"\n                    :class=\"activeCategory === cat ? 'bg-primary text-white shadow-sm' : 'bg-white text-neutral-600 hover:bg-primary/10 hover:text-primary'\"\n                    @click=\"$emit('category-change', cat)\">\n              {{ cat }}\n            </button>\n          </div>\n        </div>\n\n        <!-- 标签过滤 -->\n        <div>\n          <h4 class=\"text-xs font-medium text-neutral-500 mb-3 uppercase tracking-wider\">标签筛选</h4>\n          <div class=\"space-y-4\">\n            <div v-for=\"(categoryTags, category) in groupedTags\" :key=\"category\" class=\"bg-white/50 backdrop-blur-sm rounded-xl p-3 border border-neutral-100\">\n              <h5 class=\"text-xs font-medium text-neutral-600 mb-2 flex items-center\">\n                <span class=\"w-2 h-2 rounded-full bg-gradient-to-r from-primary to-secondary mr-2\"></span>\n                {{ category }}\n              </h5>\n              <div class=\"flex flex-wrap gap-2\">\n                <button v-for=\"tag in categoryTags\" :key=\"tag\"\n                        class=\"text-xs px-3 py-2 rounded-full hover:bg-primary hover:text-white transition-all duration-300 shadow-sm\"\n                        :class=\"activeTag === tag ? 'bg-gradient-to-r from-primary to-secondary text-white' : 'bg-white text-neutral-700 border border-neutral-200'\"\n                        @click=\"$emit('tag-change', tag)\">\n                  {{ tag }}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- 衣物列表 -->\n      <div class=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-5 max-h-[600px] overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-neutral-200 scrollbar-track-transparent\">\n        <transition-group name=\"fade\" tag=\"div\" class=\"contents\">\n          <div v-for=\"item in filteredClothes\" :key=\"item.name\" class=\"group relative\">\n            <div class=\"aspect-[3/4] bg-white rounded-2xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 border-2 cursor-pointer relative transform hover:-translate-y-2\"\n                 :class=\"selectedClothes.some(i => i.name === item.name) ? 'border-primary ring-2 ring-primary/30' : 'border-neutral-100 hover:border-primary/30'\"\n                 @click=\"$emit('toggle-cloth', item)\">\n              <div class=\"w-full h-full overflow-hidden\">\n                <img :src=\"item.img\" :alt=\"item.name\" class=\"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110\" loading=\"lazy\" />\n              </div>\n              <!-- 选中状态遮罩 -->\n              <div v-if=\"selectedClothes.some(i => i.name === item.name)\" class=\"absolute inset-0 bg-gradient-to-br from-primary/30 to-secondary/30\"></div>\n              <!-- 悬停效果遮罩 -->\n              <div class=\"absolute inset-0 bg-gradient-to-t from-black/0 to-black/30 opacity-0 group-hover:opacity-100 transition-opacity duration-300\"></div>\n              <!-- 选中状态指示器 -->\n              <div v-if=\"selectedClothes.some(i => i.name === item.name)\" class=\"absolute top-3 right-3 w-10 h-10 rounded-full bg-gradient-to-r from-primary to-secondary flex items-center justify-center text-white shadow-lg transform transition-transform duration-300\">\n                <font-awesome-icon :icon=\"['fas', 'check']\" class=\"text-white\" />\n              </div>\n              <!-- 未选中状态指示器 -->\n              <div v-else class=\"absolute top-3 right-3 w-10 h-10 rounded-full bg-white/90 backdrop-blur-sm flex items-center justify-center shadow-md transform transition-transform duration-300 group-hover:scale-110 group-hover:bg-white\">\n                <font-awesome-icon :icon=\"['fas', 'plus']\" class=\"text-primary\" />\n              </div>\n              <!-- 衣物信息 -->\n              <div class=\"absolute bottom-0 left-0 right-0 p-3 bg-gradient-to-t from-black/80 to-transparent\">\n                <p class=\"text-white text-sm font-semibold truncate\">{{ item.name }}</p>\n                <p class=\"text-white/90 text-xs truncate\">{{ item.type }}</p>\n              </div>\n            </div>\n            <div class=\"mt-3 px-1\">\n              <p class=\"text-sm font-semibold truncate group-hover:text-primary transition-colors\">{{ item.name }}</p>\n              <p class=\"text-xs text-neutral-500 truncate\">{{ item.type }}</p>\n            </div>\n          </div>\n        </transition-group>\n\n        <!-- 空状态提示 -->\n        <div v-if=\"filteredClothes.length === 0\" class=\"col-span-full text-center py-12\">\n          <div class=\"w-24 h-24 rounded-full bg-gradient-to-br from-primary/10 to-secondary/10 flex items-center justify-center mx-auto mb-5 shadow-inner\">\n            <font-awesome-icon :icon=\"['fas', 'search']\" class=\"text-primary text-2xl\" />\n          </div>\n          <p class=\"text-neutral-600 font-medium mb-4\">没有找到符合条件的衣物</p>\n          <button class=\"bg-gradient-to-r from-primary to-secondary hover:from-primary/90 hover:to-secondary/90 text-white font-medium py-2.5 px-5 rounded-full transition-all duration-300 shadow-md hover:shadow-lg inline-flex items-center\" @click=\"$emit('reset-filters')\">\n            <font-awesome-icon :icon=\"['fas', 'sync-alt']\" class=\"mr-2\" />\n            查看全部衣物\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { computed } from 'vue'\n\ndefineEmits([\n  'category-change',\n  'tag-change',\n  'toggle-cloth',\n  'reset-filters'\n])\n\nconst props = defineProps({\n  categories: {\n    type: Array,\n    default: () => []\n  },\n  tags: {\n    type: Array,\n    default: () => []\n  },\n  activeCategory: {\n    type: String,\n    default: '全部'\n  },\n  activeTag: {\n    type: String,\n    default: ''\n  },\n  clothes: {\n    type: Array,\n    default: () => []\n  },\n  filteredClothes: {\n    type: Array,\n    default: () => []\n  },\n  selectedClothes: {\n    type: Array,\n    default: () => []\n  }\n})\n\n// 根据分类对标签进行分组\nconst groupedTags = computed(() => {\n  // 根据衣物分类对标签进行分组\n  const result = {}\n\n  // 如果没有标签数据，返回空对象\n  if (!props.tags || props.tags.length === 0) {\n    return result\n  }\n\n  // 根据衣物类型对标签进行分组\n  props.categories.forEach(category => {\n    if (category === '全部') return // 跳过\"全部\"分类\n\n    // 根据分类筛选相关标签\n    const categoryTags = props.tags.filter(tag => {\n      // 这里可以根据实际业务逻辑判断标签是否属于该分类\n      // 例如：标签名包含分类名，或者有其他映射关系\n      return tag.toLowerCase().includes(category.toLowerCase()) || \n             (category === '上衣' && ['短袖', '长袖', '衬衫', 'T恤', '毛衣'].some(t => tag.includes(t))) ||\n             (category === '下装' && ['短裤', '长裤', '裙子', '牛仔裤', '休闲裤'].some(t => tag.includes(t))) ||\n             (category === '外套' && ['夹克', '风衣', '大衣', '羽绒服'].some(t => tag.includes(t))) ||\n             (category === '鞋子' && ['运动鞋', '皮鞋', '靴子', '凉鞋'].some(t => tag.includes(t))) ||\n             (category === '配饰' && ['帽子', '围巾', '手套', '眼镜', '包包'].some(t => tag.includes(t)))\n    })\n\n    if (categoryTags.length > 0) {\n      result[category] = categoryTags\n    }\n  })\n\n  // 添加一个\"其他\"分类，存放不属于任何分类的标签\n  const usedTags = Object.values(result).flat()\n  const otherTags = props.tags.filter(tag => !usedTags.includes(tag))\n  if (otherTags.length > 0) {\n    result['其他'] = otherTags\n  }\n\n  return result\n})\n</script>\n\n<style scoped>\n.fade-enter-active, .fade-leave-active {\n  transition: opacity 0.3s ease, transform 0.3s ease;\n}\n\n.fade-enter-from, .fade-leave-to {\n  opacity: 0;\n  transform: scale(0.95);\n}\n\n/* 自定义滚动条样式 */\n.scrollbar-thin::-webkit-scrollbar {\n  width: 4px;\n}\n\n.scrollbar-thin::-webkit-scrollbar-track {\n  background: transparent;\n}\n\n.scrollbar-thin::-webkit-scrollbar-thumb {\n  background: rgba(0, 0, 0, 0.1);\n  border-radius: 2px;\n}\n\n.scrollbar-thin::-webkit-scrollbar-thumb:hover {\n  background: rgba(0, 0, 0, 0.2);\n}\n</style>\n"],"mappings":"AAoGA,SAASA,QAAQ,QAAQ,KAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAS7B,IAAMC,KAAK,GAAGC,OAAA;;IA+Bd;IACA,IAAMC,WAAW,GAAGH,QAAQ,CAAC,YAAM;MACjC;MACA,IAAMI,MAAM,GAAG,CAAC;;MAEhB;MACA,IAAI,CAACH,KAAK,CAACI,IAAI,IAAIJ,KAAK,CAACI,IAAI,CAACC,MAAM,KAAK,CAAC,EAAE;QAC1C,OAAOF,MAAK;MACd;;MAEA;MACAH,KAAK,CAACM,UAAU,CAACC,OAAO,CAAC,UAAAC,QAAQ,EAAI;QACnC,IAAIA,QAAQ,KAAK,IAAI,EAAE,OAAM,CAAC;;QAE9B;QACA,IAAMC,YAAY,GAAGT,KAAK,CAACI,IAAI,CAACM,MAAM,CAAC,UAAAC,GAAG,EAAI;UAC5C;UACA;UACA,OAAOA,GAAG,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACL,QAAQ,CAACI,WAAW,CAAC,CAAC,CAAC,IACjDJ,QAAQ,KAAK,IAAI,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAACM,IAAI,CAAC,UAAAC,CAAC;YAAA,OAAIJ,GAAG,CAACE,QAAQ,CAACE,CAAC,CAAC;UAAA,EAAE,IAC/EP,QAAQ,KAAK,IAAI,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,CAAC,CAACM,IAAI,CAAC,UAAAC,CAAC;YAAA,OAAIJ,GAAG,CAACE,QAAQ,CAACE,CAAC,CAAC;UAAA,EAAE,IACjFP,QAAQ,KAAK,IAAI,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC,CAACM,IAAI,CAAC,UAAAC,CAAC;YAAA,OAAIJ,GAAG,CAACE,QAAQ,CAACE,CAAC,CAAC;UAAA,EAAE,IAC1EP,QAAQ,KAAK,IAAI,IAAI,CAAC,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAACM,IAAI,CAAC,UAAAC,CAAC;YAAA,OAAIJ,GAAG,CAACE,QAAQ,CAACE,CAAC,CAAC;UAAA,EAAE,IAC1EP,QAAQ,KAAK,IAAI,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAACM,IAAI,CAAC,UAAAC,CAAC;YAAA,OAAIJ,GAAG,CAACE,QAAQ,CAACE,CAAC,CAAC;UAAA,EAAC;QACxF,CAAC;QAED,IAAIN,YAAY,CAACJ,MAAM,GAAG,CAAC,EAAE;UAC3BF,MAAM,CAACK,QAAQ,CAAC,GAAGC,YAAW;QAChC;MACF,CAAC;;MAED;MACA,IAAMO,QAAQ,GAAGC,MAAM,CAACC,MAAM,CAACf,MAAM,CAAC,CAACgB,IAAI,CAAC;MAC5C,IAAMC,SAAS,GAAGpB,KAAK,CAACI,IAAI,CAACM,MAAM,CAAC,UAAAC,GAAG;QAAA,OAAI,CAACK,QAAQ,CAACH,QAAQ,CAACF,GAAG,CAAC;MAAA;MAClE,IAAIS,SAAS,CAACf,MAAM,GAAG,CAAC,EAAE;QACxBF,MAAM,CAAC,IAAI,CAAC,GAAGiB,SAAQ;MACzB;MAEA,OAAOjB,MAAK;IACd,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}