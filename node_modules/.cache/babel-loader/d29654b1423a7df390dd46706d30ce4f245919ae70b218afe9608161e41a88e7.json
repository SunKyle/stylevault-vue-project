{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, TransitionGroup as _TransitionGroup, withCtx as _withCtx, createCommentVNode as _createCommentVNode } from \"vue\";\nvar _hoisted_1 = {\n  key: 0,\n  \"class\": \"container mx-auto px-4 mb-12\"\n};\nvar _hoisted_2 = {\n  \"class\": \"flex items-center justify-between mb-6\"\n};\nvar _hoisted_3 = {\n  \"class\": \"flex items-center space-x-2\"\n};\nvar _hoisted_4 = {\n  \"class\": \"px-2 py-1 bg-primary/10 text-primary rounded-full text-xs font-medium\"\n};\nvar _hoisted_5 = {\n  \"class\": \"flex items-center space-x-2\"\n};\nvar _hoisted_6 = {\n  \"class\": \"text-sm text-gray-500\"\n};\nvar _hoisted_7 = {\n  \"class\": \"flex space-x-1\"\n};\nvar _hoisted_8 = [\"disabled\"];\nvar _hoisted_9 = [\"disabled\"];\nvar _hoisted_10 = {\n  \"class\": \"relative overflow-hidden\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\");\n  return !$setup.loading && !$setup.error && $setup.favoriteItems.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_cache[0] || (_cache[0] = _createElementVNode(\"h3\", {\n    \"class\": \"text-xl md:text-2xl font-bold\"\n  }, \"我的收藏\", -1 /* CACHED */)), _createElementVNode(\"span\", _hoisted_4, _toDisplayString($setup.favoriteItems.length), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"span\", _hoisted_6, _toDisplayString($setup.currentPage) + \" / \" + _toDisplayString($setup.totalPages), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"button\", {\n    onClick: $setup.prevFavorite,\n    disabled: $setup.favoriteIndex === 0,\n    \"class\": \"w-8 h-8 rounded-full bg-white shadow-soft flex items-center justify-center hover:bg-neutral-50 disabled:opacity-30 disabled:cursor-not-allowed transition-all\"\n  }, [_createVNode(_component_font_awesome_icon, {\n    icon: ['fas', 'chevron-left'],\n    \"class\": \"text-neutral-600 text-xs\"\n  })], 8 /* PROPS */, _hoisted_8), _createElementVNode(\"button\", {\n    onClick: $setup.nextFavorite,\n    disabled: $setup.favoriteIndex >= $setup.favoriteItems.length - $setup.itemsPerPage,\n    \"class\": \"w-8 h-8 rounded-full bg-white shadow-soft flex items-center justify-center hover:bg-neutral-50 disabled:opacity-30 disabled:cursor-not-allowed transition-all\"\n  }, [_createVNode(_component_font_awesome_icon, {\n    icon: ['fas', 'chevron-right'],\n    \"class\": \"text-neutral-600 text-xs\"\n  })], 8 /* PROPS */, _hoisted_9)])])]), _createElementVNode(\"div\", _hoisted_10, [_createVNode(_TransitionGroup, {\n    name: \"favorite-fade\",\n    tag: \"div\",\n    \"class\": \"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 sm:gap-5\"\n  }, {\n    \"default\": _withCtx(function () {\n      return [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.displayedFavoriteItems, function (item) {\n        return _openBlock(), _createBlock($setup[\"ClothingItem\"], {\n          key: item.id,\n          item: item,\n          onLike: function onLike($event) {\n            return $setup.toggleFavorite(item);\n          }\n        }, null, 8 /* PROPS */, [\"item\", \"onLike\"]);\n      }), 128 /* KEYED_FRAGMENT */))];\n    }),\n    _: 1 /* STABLE */\n  })])])) : _createCommentVNode(\"v-if\", true);\n}","map":{"version":3,"names":["$setup","loading","error","favoriteItems","length","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","_hoisted_5","_hoisted_6","currentPage","totalPages","_hoisted_7","onClick","prevFavorite","disabled","favoriteIndex","_createVNode","_component_font_awesome_icon","icon","nextFavorite","itemsPerPage","_hoisted_10","_TransitionGroup","name","tag","_Fragment","_renderList","displayedFavoriteItems","item","_createBlock","key","id","onLike","$event","toggleFavorite"],"sources":["/Users/sunxiaokai/Desktop/stylevault-vue-project/src/components/features/wardrobe/FavoriteSection.vue"],"sourcesContent":["<template>\n  <div v-if=\"!loading && !error && favoriteItems.length > 0\" class=\"container mx-auto px-4 mb-12\">\n    <div class=\"flex items-center justify-between mb-6\">\n      <div class=\"flex items-center space-x-2\">\n        <h3 class=\"text-xl md:text-2xl font-bold\">我的收藏</h3>\n        <span class=\"px-2 py-1 bg-primary/10 text-primary rounded-full text-xs font-medium\">{{ favoriteItems.length }}</span>\n      </div>\n      <div class=\"flex items-center space-x-2\">\n        <span class=\"text-sm text-gray-500\">{{ currentPage }} / {{ totalPages }}</span>\n        <div class=\"flex space-x-1\">\n          <button\n            @click=\"prevFavorite\"\n            :disabled=\"favoriteIndex === 0\"\n            class=\"w-8 h-8 rounded-full bg-white shadow-soft flex items-center justify-center hover:bg-neutral-50 disabled:opacity-30 disabled:cursor-not-allowed transition-all\"\n          >\n            <font-awesome-icon :icon=\"['fas', 'chevron-left']\" class=\"text-neutral-600 text-xs\" />\n          </button>\n          <button\n            @click=\"nextFavorite\"\n            :disabled=\"favoriteIndex >= favoriteItems.length - itemsPerPage\"\n            class=\"w-8 h-8 rounded-full bg-white shadow-soft flex items-center justify-center hover:bg-neutral-50 disabled:opacity-30 disabled:cursor-not-allowed transition-all\"\n          >\n            <font-awesome-icon :icon=\"['fas', 'chevron-right']\" class=\"text-neutral-600 text-xs\" />\n          </button>\n        </div>\n      </div>\n    </div>\n    <div class=\"relative overflow-hidden\">\n      <transition-group\n        name=\"favorite-fade\"\n        tag=\"div\"\n        class=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 sm:gap-5\"\n      >\n        <ClothingItem\n          v-for=\"item in displayedFavoriteItems\"\n          :key=\"item.id\"\n          :item=\"item\"\n          @like=\"toggleFavorite(item)\"\n        />\n      </transition-group>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { computed, ref } from 'vue'\nimport { useWardrobeStore } from '@/stores/wardrobeStore'\nimport ClothingItem from '../../common/ui/ClothingItem.vue'\n\nconst wardrobeStore = useWardrobeStore()\n\n// 状态\nconst favoriteIndex = ref(0)\nconst itemsPerPage = ref(12) // 每页显示12个物品\n\n// 计算属性\nconst favoriteItems = computed(() => wardrobeStore.favoriteItems)\nconst displayedFavoriteItems = computed(() => favoriteItems.value.slice(favoriteIndex.value, favoriteIndex.value + itemsPerPage.value))\nconst currentPage = computed(() => Math.floor(favoriteIndex.value / itemsPerPage.value) + 1)\nconst totalPages = computed(() => Math.ceil(favoriteItems.value.length / itemsPerPage.value))\nconst loading = computed(() => wardrobeStore.loading)\nconst error = computed(() => wardrobeStore.error)\n\n// 方法\nfunction prevFavorite() {\n  if (favoriteIndex.value > 0) favoriteIndex.value -= itemsPerPage.value\n}\n\nfunction nextFavorite() {\n  if (favoriteIndex.value < favoriteItems.value.length - itemsPerPage.value) favoriteIndex.value += itemsPerPage.value\n}\n\nasync function toggleFavorite(item) {\n  try {\n    await wardrobeStore.toggleFavorite(item.id)\n  } catch (error) {\n    console.error('切换收藏状态失败:', error)\n  }\n}\n</script>\n"],"mappings":";;;EAC6D,SAAM;;;EAC1D,SAAM;AAAwC;;EAC5C,SAAM;AAA6B;;EAEhC,SAAM;AAAuE;;EAEhF,SAAM;AAA6B;;EAChC,SAAM;AAAuB;;EAC9B,SAAM;AAAgB;;;;EAkB1B,SAAM;AAA0B;;;UA1B3BA,MAAA,CAAAC,OAAO,KAAKD,MAAA,CAAAE,KAAK,IAAIF,MAAA,CAAAG,aAAa,CAACC,MAAM,Q,cAArDC,mBAAA,CAwCM,OAxCNC,UAwCM,GAvCJC,mBAAA,CAwBM,OAxBNC,UAwBM,GAvBJD,mBAAA,CAGM,OAHNE,UAGM,G,0BAFJF,mBAAA,CAAmD;IAA/C,SAAM;EAA+B,GAAC,MAAI,qBAC9CA,mBAAA,CAAqH,QAArHG,UAAqH,EAAAC,gBAAA,CAA9BX,MAAA,CAAAG,aAAa,CAACC,MAAM,iB,GAE7GG,mBAAA,CAkBM,OAlBNK,UAkBM,GAjBJL,mBAAA,CAA+E,QAA/EM,UAA+E,EAAAF,gBAAA,CAAxCX,MAAA,CAAAc,WAAW,IAAG,KAAG,GAAAH,gBAAA,CAAGX,MAAA,CAAAe,UAAU,kBACrER,mBAAA,CAeM,OAfNS,UAeM,GAdJT,mBAAA,CAMS;IALNU,OAAK,EAAEjB,MAAA,CAAAkB,YAAY;IACnBC,QAAQ,EAAEnB,MAAA,CAAAoB,aAAa;IACxB,SAAM;MAENC,YAAA,CAAsFC,4BAAA;IAAlEC,IAAI,EAAE,uBAAuB;IAAE,SAAM;mCAE3DhB,mBAAA,CAMS;IALNU,OAAK,EAAEjB,MAAA,CAAAwB,YAAY;IACnBL,QAAQ,EAAEnB,MAAA,CAAAoB,aAAa,IAAIpB,MAAA,CAAAG,aAAa,CAACC,MAAM,GAAGJ,MAAA,CAAAyB,YAAY;IAC/D,SAAM;MAENJ,YAAA,CAAuFC,4BAAA;IAAnEC,IAAI,EAAE,wBAAwB;IAAE,SAAM;yCAKlEhB,mBAAA,CAaM,OAbNmB,WAaM,GAZJL,YAAA,CAWmBM,gBAAA;IAVjBC,IAAI,EAAC,eAAe;IACpBC,GAAG,EAAC,KAAK;IACT,SAAM;;wBAGJ;MAAA,OAAsC,E,kBADxCxB,mBAAA,CAKEyB,SAAA,QAAAC,WAAA,CAJe/B,MAAA,CAAAgC,sBAAsB,YAA9BC,IAAI;6BADbC,YAAA,CAKElC,MAAA;UAHCmC,GAAG,EAAEF,IAAI,CAACG,EAAE;UACZH,IAAI,EAAEA,IAAI;UACVI,MAAI,WAAJA,MAAIA,CAAAC,MAAA;YAAA,OAAEtC,MAAA,CAAAuC,cAAc,CAACN,IAAI;UAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}