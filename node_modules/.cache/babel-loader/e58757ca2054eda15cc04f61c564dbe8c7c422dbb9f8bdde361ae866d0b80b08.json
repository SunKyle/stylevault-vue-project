{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, withCtx as _withCtx, createBlock as _createBlock } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\"\n};\nvar _hoisted_2 = {\n  \"class\": \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\"\n};\nvar _hoisted_3 = {\n  \"class\": \"bg-white rounded-lg shadow-sm p-6\"\n};\nvar _hoisted_4 = {\n  \"class\": \"space-y-4\"\n};\nvar _hoisted_5 = {\n  \"class\": \"font-medium text-gray-900\"\n};\nvar _hoisted_6 = {\n  \"class\": \"text-sm text-gray-600\"\n};\nvar _hoisted_7 = {\n  \"class\": \"text-right\"\n};\nvar _hoisted_8 = {\n  \"class\": \"text-sm font-medium text-gray-900\"\n};\nvar _hoisted_9 = {\n  \"class\": \"w-24 h-2 bg-gray-200 rounded-full mt-1\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createBlock($setup[\"ErrorBoundary\"], null, {\n    \"default\": _withCtx(function () {\n      return [_createVNode($setup[\"PageLayout\"], null, {\n        \"default\": _withCtx(function () {\n          return [_createElementVNode(\"div\", _hoisted_1, [_cache[1] || (_cache[1] = _createElementVNode(\"h1\", {\n            \"class\": \"text-3xl font-bold text-gray-900 mb-8\"\n          }, \"衣橱统计\", -1 /* CACHED */)), _createCommentVNode(\" 统计卡片 \"), _createElementVNode(\"div\", _hoisted_2, [_createVNode($setup[\"StatCard\"], {\n            title: \"总衣物数\",\n            value: $setup.totalItems,\n            icon: \"shirt\",\n            color: \"blue\"\n          }, null, 8 /* PROPS */, [\"value\"]), _createVNode($setup[\"StatCard\"], {\n            title: \"收藏数\",\n            value: $setup.favoriteCount,\n            icon: \"heart\",\n            color: \"red\"\n          }, null, 8 /* PROPS */, [\"value\"]), _createVNode($setup[\"StatCard\"], {\n            title: \"分类数\",\n            value: $setup.categoryCount,\n            icon: \"folder\",\n            color: \"green\"\n          }, null, 8 /* PROPS */, [\"value\"]), _createVNode($setup[\"StatCard\"], {\n            title: \"总价值\",\n            value: $setup.totalValue,\n            icon: \"dollar-sign\",\n            color: \"purple\",\n            prefix: \"¥\"\n          }, null, 8 /* PROPS */, [\"value\"])]), _createCommentVNode(\" 分类统计 \"), _createElementVNode(\"div\", _hoisted_3, [_cache[0] || (_cache[0] = _createElementVNode(\"h2\", {\n            \"class\": \"text-xl font-semibold text-gray-900 mb-4\"\n          }, \"分类统计\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_4, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.categoryStats, function (stat) {\n            return _openBlock(), _createElementBlock(\"div\", {\n              key: stat.category,\n              \"class\": \"flex items-center justify-between p-4 bg-gray-50 rounded-lg\"\n            }, [_createElementVNode(\"div\", null, [_createElementVNode(\"h3\", _hoisted_5, _toDisplayString(stat.category), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_6, _toDisplayString(stat.count) + \" 件衣物\", 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"p\", _hoisted_8, _toDisplayString(stat.percentage) + \"%\", 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", {\n              \"class\": _normalizeClass(['h-2 rounded-full', stat.color === 'blue' ? 'bg-blue-500' : stat.color === 'green' ? 'bg-green-500' : stat.color === 'yellow' ? 'bg-yellow-500' : stat.color === 'purple' ? 'bg-purple-500' : stat.color === 'red' ? 'bg-red-500' : 'bg-gray-500']),\n              style: _normalizeStyle({\n                width: stat.percentage + '%'\n              })\n            }, null, 6 /* CLASS, STYLE */)])])]);\n          }), 128 /* KEYED_FRAGMENT */))])])])];\n        }),\n        _: 1 /* STABLE */\n      })];\n    }),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["_createBlock","$setup","_createVNode","_createElementVNode","_hoisted_1","_createCommentVNode","_hoisted_2","title","value","totalItems","icon","color","favoriteCount","categoryCount","totalValue","prefix","_hoisted_3","_hoisted_4","_createElementBlock","_Fragment","_renderList","categoryStats","stat","key","category","_hoisted_5","_toDisplayString","_hoisted_6","count","_hoisted_7","_hoisted_8","percentage","_hoisted_9","_normalizeClass","style","_normalizeStyle","width"],"sources":["/Users/sunxiaokai/Desktop/stylevault-vue-project/src/views/StatsView.vue"],"sourcesContent":["<template>\n  <ErrorBoundary>\n    <PageLayout>\n      <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <h1 class=\"text-3xl font-bold text-gray-900 mb-8\">衣橱统计</h1>\n\n        <!-- 统计卡片 -->\n        <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n          <StatCard title=\"总衣物数\" :value=\"totalItems\" icon=\"shirt\" color=\"blue\" />\n          <StatCard title=\"收藏数\" :value=\"favoriteCount\" icon=\"heart\" color=\"red\" />\n          <StatCard title=\"分类数\" :value=\"categoryCount\" icon=\"folder\" color=\"green\" />\n          <StatCard\n            title=\"总价值\"\n            :value=\"totalValue\"\n            icon=\"dollar-sign\"\n            color=\"purple\"\n            prefix=\"¥\"\n          />\n        </div>\n\n        <!-- 分类统计 -->\n        <div class=\"bg-white rounded-lg shadow-sm p-6\">\n          <h2 class=\"text-xl font-semibold text-gray-900 mb-4\">分类统计</h2>\n          <div class=\"space-y-4\">\n            <div\n              v-for=\"stat in categoryStats\"\n              :key=\"stat.category\"\n              class=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg\"\n            >\n              <div>\n                <h3 class=\"font-medium text-gray-900\">{{ stat.category }}</h3>\n                <p class=\"text-sm text-gray-600\">{{ stat.count }} 件衣物</p>\n              </div>\n              <div class=\"text-right\">\n                <p class=\"text-sm font-medium text-gray-900\">{{ stat.percentage }}%</p>\n                <div class=\"w-24 h-2 bg-gray-200 rounded-full mt-1\">\n                  <div\n                    :class=\"[\n                      'h-2 rounded-full',\n                      stat.color === 'blue'\n                        ? 'bg-blue-500'\n                        : stat.color === 'green'\n                        ? 'bg-green-500'\n                        : stat.color === 'yellow'\n                        ? 'bg-yellow-500'\n                        : stat.color === 'purple'\n                        ? 'bg-purple-500'\n                        : stat.color === 'red'\n                        ? 'bg-red-500'\n                        : 'bg-gray-500',\n                    ]\"\n                    :style=\"{ width: stat.percentage + '%' }\"\n                  ></div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </PageLayout>\n  </ErrorBoundary>\n</template>\n\n<script setup>\n  import { ref, computed, onMounted } from 'vue';\n  import PageLayout from '@/components/layout/PageLayout.vue';\n  import StatCard from '@/components/ui/StatCard.vue';\n  import ErrorBoundary from '@/components/ui/ErrorBoundary.vue';\n  import { useClothingStore } from '@/stores/index';\n\n  const clothingStore = useClothingStore();\n\n  const totalItems = computed(() => clothingStore.clothingItems.length);\n  const favoriteCount = computed(\n    () => clothingStore.clothingItems.filter(item => item.favorite).length\n  );\n  const categoryCount = computed(() => clothingStore.categories.length);\n  const totalValue = computed(() =>\n    clothingStore.clothingItems.reduce((sum, item) => sum + (item.price || 0), 0)\n  );\n\n  const categoryStats = computed(() => {\n    const stats = [];\n    const total = clothingStore.clothingItems.length;\n\n    clothingStore.categories.forEach(category => {\n      const count = clothingStore.clothingItems.filter(\n        item => item.categoryId === category.id\n      ).length;\n\n      if (count > 0) {\n        stats.push({\n          category: category.name,\n          count,\n          percentage: Math.round((count / total) * 100),\n          color: category.color || 'blue',\n        });\n      }\n    });\n\n    return stats.sort((a, b) => b.count - a.count);\n  });\n\n  onMounted(() => {\n    clothingStore.fetchCategories();\n    clothingStore.fetchClothingItems();\n  });\n</script>\n"],"mappings":";;EAGW,SAAM;AAA6C;;EAIjD,SAAM;AAA2D;;EAcjE,SAAM;AAAmC;;EAEvC,SAAM;AAAW;;EAOZ,SAAM;AAA2B;;EAClC,SAAM;AAAuB;;EAE7B,SAAM;AAAY;;EAClB,SAAM;AAAmC;;EACvC,SAAM;AAAwC;;uBAlCjEA,YAAA,CA2DgBC,MAAA;wBA1Dd;MAAA,OAyDa,CAzDbC,YAAA,CAyDaD,MAAA;4BAxDX;UAAA,OAuDM,CAvDNE,mBAAA,CAuDM,OAvDNC,UAuDM,G,0BAtDJD,mBAAA,CAA2D;YAAvD,SAAM;UAAuC,GAAC,MAAI,qBAEtDE,mBAAA,UAAa,EACbF,mBAAA,CAWM,OAXNG,UAWM,GAVJJ,YAAA,CAAuED,MAAA;YAA7DM,KAAK,EAAC,MAAM;YAAEC,KAAK,EAAEP,MAAA,CAAAQ,UAAU;YAAEC,IAAI,EAAC,OAAO;YAACC,KAAK,EAAC;8CAC9DT,YAAA,CAAwED,MAAA;YAA9DM,KAAK,EAAC,KAAK;YAAEC,KAAK,EAAEP,MAAA,CAAAW,aAAa;YAAEF,IAAI,EAAC,OAAO;YAACC,KAAK,EAAC;8CAChET,YAAA,CAA2ED,MAAA;YAAjEM,KAAK,EAAC,KAAK;YAAEC,KAAK,EAAEP,MAAA,CAAAY,aAAa;YAAEH,IAAI,EAAC,QAAQ;YAACC,KAAK,EAAC;8CACjET,YAAA,CAMED,MAAA;YALAM,KAAK,EAAC,KAAK;YACVC,KAAK,EAAEP,MAAA,CAAAa,UAAU;YAClBJ,IAAI,EAAC,aAAa;YAClBC,KAAK,EAAC,QAAQ;YACdI,MAAM,EAAC;gDAIXV,mBAAA,UAAa,EACbF,mBAAA,CAoCM,OApCNa,UAoCM,G,0BAnCJb,mBAAA,CAA8D;YAA1D,SAAM;UAA0C,GAAC,MAAI,qBACzDA,mBAAA,CAiCM,OAjCNc,UAiCM,I,kBAhCJC,mBAAA,CA+BMC,SAAA,QAAAC,WAAA,CA9BWnB,MAAA,CAAAoB,aAAa,YAArBC,IAAI;iCADbJ,mBAAA,CA+BM;cA7BHK,GAAG,EAAED,IAAI,CAACE,QAAQ;cACnB,SAAM;gBAENrB,mBAAA,CAGM,cAFJA,mBAAA,CAA8D,MAA9DsB,UAA8D,EAAAC,gBAAA,CAArBJ,IAAI,CAACE,QAAQ,kBACtDrB,mBAAA,CAAyD,KAAzDwB,UAAyD,EAAAD,gBAAA,CAArBJ,IAAI,CAACM,KAAK,IAAG,MAAI,gB,GAEvDzB,mBAAA,CAqBM,OArBN0B,UAqBM,GApBJ1B,mBAAA,CAAuE,KAAvE2B,UAAuE,EAAAJ,gBAAA,CAAvBJ,IAAI,CAACS,UAAU,IAAG,GAAC,iBACnE5B,mBAAA,CAkBM,OAlBN6B,UAkBM,GAjBJ7B,mBAAA,CAgBO;cAfJ,SAAK8B,eAAA,E,oBAAoEX,IAAI,CAACX,KAAK,c,gBAA8EW,IAAI,CAACX,KAAK,e,iBAAgFW,IAAI,CAACX,KAAK,gB,kBAAkFW,IAAI,CAACX,KAAK,gB,kBAAkFW,IAAI,CAACX,KAAK,a;cAc7buB,KAAK,EAAAC,eAAA;gBAAAC,KAAA,EAAWd,IAAI,CAACS,UAAU;cAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}